var QF=Object.defineProperty;var tA=t=>{throw TypeError(t)};var XF=(t,e,n)=>e in t?QF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sn=(t,e,n)=>XF(t,typeof e!="symbol"?e+"":e,n),ew=(t,e,n)=>e.has(t)||tA("Cannot "+n);var Ie=(t,e,n)=>(ew(t,e,"read from private field"),n?n.call(t):e.get(t)),xn=(t,e,n)=>e.has(t)?tA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ut=(t,e,n,r)=>(ew(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),xi=(t,e,n)=>(ew(t,e,"access private method"),n);var y0=(t,e,n,r)=>({set _(i){Ut(t,e,i,n)},get _(){return Ie(t,e,r)}});function JF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ade=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zP={exports:{}},gy={},$P={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=Symbol.for("react.element"),ZF=Symbol.for("react.portal"),e9=Symbol.for("react.fragment"),t9=Symbol.for("react.strict_mode"),n9=Symbol.for("react.profiler"),r9=Symbol.for("react.provider"),i9=Symbol.for("react.context"),s9=Symbol.for("react.forward_ref"),o9=Symbol.for("react.suspense"),a9=Symbol.for("react.memo"),l9=Symbol.for("react.lazy"),nA=Symbol.iterator;function c9(t){return t===null||typeof t!="object"?null:(t=nA&&t[nA]||t["@@iterator"],typeof t=="function"?t:null)}var qP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HP=Object.assign,WP={};function Yf(t,e,n){this.props=t,this.context=e,this.refs=WP,this.updater=n||qP}Yf.prototype.isReactComponent={};Yf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GP(){}GP.prototype=Yf.prototype;function rb(t,e,n){this.props=t,this.context=e,this.refs=WP,this.updater=n||qP}var ib=rb.prototype=new GP;ib.constructor=rb;HP(ib,Yf.prototype);ib.isPureReactComponent=!0;var rA=Array.isArray,KP=Object.prototype.hasOwnProperty,sb={current:null},YP={key:!0,ref:!0,__self:!0,__source:!0};function QP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KP.call(e,r)&&!YP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Eg,type:t,key:s,ref:o,props:i,_owner:sb.current}}function u9(t,e){return{$$typeof:Eg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ob(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eg}function d9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iA=/\/+/g;function tw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?d9(""+t.key):e.toString(36)}function uv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Eg:case ZF:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tw(o,0):r,rA(i)?(n="",t!=null&&(n=t.replace(iA,"$&/")+"/"),uv(i,e,n,"",function(c){return c})):i!=null&&(ob(i)&&(i=u9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iA,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rA(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+tw(s,a);o+=uv(s,e,n,l,i)}else if(l=c9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+tw(s,a++),o+=uv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function w0(t,e,n){if(t==null)return t;var r=[],i=0;return uv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function h9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ts={current:null},dv={transition:null},f9={ReactCurrentDispatcher:ts,ReactCurrentBatchConfig:dv,ReactCurrentOwner:sb};function XP(){throw Error("act(...) is not supported in production builds of React.")}tn.Children={map:w0,forEach:function(t,e,n){w0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return w0(t,function(){e++}),e},toArray:function(t){return w0(t,function(e){return e})||[]},only:function(t){if(!ob(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tn.Component=Yf;tn.Fragment=e9;tn.Profiler=n9;tn.PureComponent=rb;tn.StrictMode=t9;tn.Suspense=o9;tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f9;tn.act=XP;tn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)KP.call(e,l)&&!YP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Eg,type:t.type,key:i,ref:s,props:r,_owner:o}};tn.createContext=function(t){return t={$$typeof:i9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r9,_context:t},t.Consumer=t};tn.createElement=QP;tn.createFactory=function(t){var e=QP.bind(null,t);return e.type=t,e};tn.createRef=function(){return{current:null}};tn.forwardRef=function(t){return{$$typeof:s9,render:t}};tn.isValidElement=ob;tn.lazy=function(t){return{$$typeof:l9,_payload:{_status:-1,_result:t},_init:h9}};tn.memo=function(t,e){return{$$typeof:a9,type:t,compare:e===void 0?null:e}};tn.startTransition=function(t){var e=dv.transition;dv.transition={};try{t()}finally{dv.transition=e}};tn.unstable_act=XP;tn.useCallback=function(t,e){return ts.current.useCallback(t,e)};tn.useContext=function(t){return ts.current.useContext(t)};tn.useDebugValue=function(){};tn.useDeferredValue=function(t){return ts.current.useDeferredValue(t)};tn.useEffect=function(t,e){return ts.current.useEffect(t,e)};tn.useId=function(){return ts.current.useId()};tn.useImperativeHandle=function(t,e,n){return ts.current.useImperativeHandle(t,e,n)};tn.useInsertionEffect=function(t,e){return ts.current.useInsertionEffect(t,e)};tn.useLayoutEffect=function(t,e){return ts.current.useLayoutEffect(t,e)};tn.useMemo=function(t,e){return ts.current.useMemo(t,e)};tn.useReducer=function(t,e,n){return ts.current.useReducer(t,e,n)};tn.useRef=function(t){return ts.current.useRef(t)};tn.useState=function(t){return ts.current.useState(t)};tn.useSyncExternalStore=function(t,e,n){return ts.current.useSyncExternalStore(t,e,n)};tn.useTransition=function(){return ts.current.useTransition()};tn.version="18.3.1";$P.exports=tn;var E=$P.exports;const $e=VP(E),JP=JF({__proto__:null,default:$e},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p9=E,m9=Symbol.for("react.element"),g9=Symbol.for("react.fragment"),v9=Object.prototype.hasOwnProperty,y9=p9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w9={key:!0,ref:!0,__self:!0,__source:!0};function ZP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)v9.call(e,r)&&!w9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:m9,type:t,key:s,ref:o,props:i,_owner:y9.current}}gy.Fragment=g9;gy.jsx=ZP;gy.jsxs=ZP;zP.exports=gy;var u=zP.exports,e3={exports:{}},io={},t3={exports:{}},n3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,te){var se=$.length;$.push(te);e:for(;0<se;){var ge=se-1>>>1,D=$[ge];if(0<i(D,te))$[ge]=te,$[se]=D,se=ge;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],se=$.pop();if(se!==te){$[0]=se;e:for(var ge=0,D=$.length,H=D>>>1;ge<H;){var Q=2*(ge+1)-1,Z=$[Q],ae=Q+1,K=$[ae];if(0>i(Z,se))ae<D&&0>i(K,Z)?($[ge]=K,$[ae]=se,ge=ae):($[ge]=Z,$[Q]=se,ge=Q);else if(ae<D&&0>i(K,se))$[ge]=K,$[ae]=se,ge=ae;else break e}}return te}function i($,te){var se=$.sortIndex-te.sortIndex;return se!==0?se:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,g=3,h=!1,_=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N($){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=$)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function R($){if(y=!1,N($),!_)if(n(l)!==null)_=!0,fe(z);else{var te=n(c);te!==null&&oe(R,te.startTime-$)}}function z($,te){_=!1,y&&(y=!1,w(k),k=-1),h=!0;var se=g;try{for(N(te),f=n(l);f!==null&&(!(f.expirationTime>te)||$&&!T());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,g=f.priorityLevel;var D=ge(f.expirationTime<=te);te=t.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),N(te)}else r(l);f=n(l)}if(f!==null)var H=!0;else{var Q=n(c);Q!==null&&oe(R,Q.startTime-te),H=!1}return H}finally{f=null,g=se,h=!1}}var U=!1,I=null,k=-1,P=5,M=-1;function T(){return!(t.unstable_now()-M<P)}function L(){if(I!==null){var $=t.unstable_now();M=$;var te=!0;try{te=I(!0,$)}finally{te?O():(U=!1,I=null)}}else U=!1}var O;if(typeof b=="function")O=function(){b(L)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,le=W.port2;W.port1.onmessage=L,O=function(){le.postMessage(null)}}else O=function(){x(L,0)};function fe($){I=$,U||(U=!0,O())}function oe($,te){k=x(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||h||(_=!0,fe(z))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var se=g;g=te;try{return $()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=g;g=$;try{return te()}finally{g=se}},t.unstable_scheduleCallback=function($,te,se){var ge=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=se+D,$={id:d++,callback:te,priorityLevel:$,startTime:se,expirationTime:D,sortIndex:-1},se>ge?($.sortIndex=se,e(c,$),n(l)===null&&$===n(c)&&(y?(w(k),k=-1):y=!0,oe(R,se-ge))):($.sortIndex=D,e(l,$),_||h||(_=!0,fe(z))),$},t.unstable_shouldYield=T,t.unstable_wrapCallback=function($){var te=g;return function(){var se=g;g=te;try{return $.apply(this,arguments)}finally{g=se}}}})(n3);t3.exports=n3;var _9=t3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x9=E,no=_9;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r3=new Set,Pm={};function Kd(t,e){Nf(t,e),Nf(t+"Capture",e)}function Nf(t,e){for(Pm[t]=e,t=0;t<e.length;t++)r3.add(e[t])}var ql=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$_=Object.prototype.hasOwnProperty,b9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sA={},oA={};function S9(t){return $_.call(oA,t)?!0:$_.call(sA,t)?!1:b9.test(t)?oA[t]=!0:(sA[t]=!0,!1)}function E9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N9(t,e,n,r){if(e===null||typeof e>"u"||E9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ns(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mi[t]=new ns(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mi[e]=new ns(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mi[t]=new ns(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mi[t]=new ns(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mi[t]=new ns(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mi[t]=new ns(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mi[t]=new ns(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mi[t]=new ns(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mi[t]=new ns(t,5,!1,t.toLowerCase(),null,!1,!1)});var ab=/[\-:]([a-z])/g;function lb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ab,lb);mi[e]=new ns(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ab,lb);mi[e]=new ns(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ab,lb);mi[e]=new ns(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mi[t]=new ns(t,1,!1,t.toLowerCase(),null,!1,!1)});mi.xlinkHref=new ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mi[t]=new ns(t,1,!1,t.toLowerCase(),null,!0,!0)});function cb(t,e,n,r){var i=mi.hasOwnProperty(e)?mi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N9(e,n,i,r)&&(n=null),r||i===null?S9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tc=x9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_0=Symbol.for("react.element"),jh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),ub=Symbol.for("react.strict_mode"),q_=Symbol.for("react.profiler"),i3=Symbol.for("react.provider"),s3=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),H_=Symbol.for("react.suspense"),W_=Symbol.for("react.suspense_list"),hb=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy"),o3=Symbol.for("react.offscreen"),aA=Symbol.iterator;function Ip(t){return t===null||typeof t!="object"?null:(t=aA&&t[aA]||t["@@iterator"],typeof t=="function"?t:null)}var hr=Object.assign,nw;function Kp(t){if(nw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nw=e&&e[1]||""}return`
`+nw+t}var rw=!1;function iw(t,e){if(!t||rw)return"";rw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{rw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kp(t):""}function A9(t){switch(t.tag){case 5:return Kp(t.type);case 16:return Kp("Lazy");case 13:return Kp("Suspense");case 19:return Kp("SuspenseList");case 0:case 2:case 15:return t=iw(t.type,!1),t;case 11:return t=iw(t.type.render,!1),t;case 1:return t=iw(t.type,!0),t;default:return""}}function G_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dh:return"Fragment";case jh:return"Portal";case q_:return"Profiler";case ub:return"StrictMode";case H_:return"Suspense";case W_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s3:return(t.displayName||"Context")+".Consumer";case i3:return(t._context.displayName||"Context")+".Provider";case db:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hb:return e=t.displayName||null,e!==null?e:G_(t.type)||"Memo";case Ic:e=t._payload,t=t._init;try{return G_(t(e))}catch{}}return null}function C9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G_(e);case 8:return e===ub?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T9(t){var e=a3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function x0(t){t._valueTracker||(t._valueTracker=T9(t))}function l3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=a3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K_(t,e){var n=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c3(t,e){e=e.checked,e!=null&&cb(t,"checked",e,!1)}function Y_(t,e){c3(t,e);var n=mu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Q_(t,e.type,n):e.hasOwnProperty("defaultValue")&&Q_(t,e.type,mu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Q_(t,e,n){(e!=="number"||Gv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yp=Array.isArray;function Kh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function X_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(Yp(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mu(n)}}function u3(t,e){var n=mu(e.value),r=mu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var b0,h3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(b0=b0||document.createElement("div"),b0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=b0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Im(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var am={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k9=["Webkit","ms","Moz","O"];Object.keys(am).forEach(function(t){k9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),am[e]=am[t]})});function f3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||am.hasOwnProperty(t)&&am[t]?(""+e).trim():e+"px"}function p3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=f3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var P9=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z_(t,e){if(e){if(P9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function ex(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tx=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nx=null,Yh=null,Qh=null;function hA(t){if(t=Cg(t)){if(typeof nx!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=xy(e),nx(t.stateNode,t.type,e))}}function m3(t){Yh?Qh?Qh.push(t):Qh=[t]:Yh=t}function g3(){if(Yh){var t=Yh,e=Qh;if(Qh=Yh=null,hA(t),e)for(t=0;t<e.length;t++)hA(e[t])}}function v3(t,e){return t(e)}function y3(){}var sw=!1;function w3(t,e,n){if(sw)return t(e,n);sw=!0;try{return v3(t,e,n)}finally{sw=!1,(Yh!==null||Qh!==null)&&(y3(),g3())}}function Rm(t,e){var n=t.stateNode;if(n===null)return null;var r=xy(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var rx=!1;if(ql)try{var Rp={};Object.defineProperty(Rp,"passive",{get:function(){rx=!0}}),window.addEventListener("test",Rp,Rp),window.removeEventListener("test",Rp,Rp)}catch{rx=!1}function I9(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var lm=!1,Kv=null,Yv=!1,ix=null,R9={onError:function(t){lm=!0,Kv=t}};function L9(t,e,n,r,i,s,o,a,l){lm=!1,Kv=null,I9.apply(R9,arguments)}function j9(t,e,n,r,i,s,o,a,l){if(L9.apply(this,arguments),lm){if(lm){var c=Kv;lm=!1,Kv=null}else throw Error(Ue(198));Yv||(Yv=!0,ix=c)}}function Yd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fA(t){if(Yd(t)!==t)throw Error(Ue(188))}function D9(t){var e=t.alternate;if(!e){if(e=Yd(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fA(i),t;if(s===r)return fA(i),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function x3(t){return t=D9(t),t!==null?b3(t):null}function b3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b3(t);if(e!==null)return e;t=t.sibling}return null}var S3=no.unstable_scheduleCallback,pA=no.unstable_cancelCallback,O9=no.unstable_shouldYield,M9=no.unstable_requestPaint,Pr=no.unstable_now,F9=no.unstable_getCurrentPriorityLevel,pb=no.unstable_ImmediatePriority,E3=no.unstable_UserBlockingPriority,Qv=no.unstable_NormalPriority,B9=no.unstable_LowPriority,N3=no.unstable_IdlePriority,vy=null,za=null;function U9(t){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(vy,t,void 0,(t.current.flags&128)===128)}catch{}}var Yo=Math.clz32?Math.clz32:$9,V9=Math.log,z9=Math.LN2;function $9(t){return t>>>=0,t===0?32:31-(V9(t)/z9|0)|0}var S0=64,E0=4194304;function Qp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qp(a):(s&=o,s!==0&&(r=Qp(s)))}else o=n&~i,o!==0?r=Qp(o):s!==0&&(r=Qp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yo(e),i=1<<n,r|=t[n],e&=~i;return r}function q9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=q9(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A3(){var t=S0;return S0<<=1,!(S0&4194240)&&(S0=64),t}function ow(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ng(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yo(e),t[e]=n}function W9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dn=0;function C3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T3,gb,k3,P3,I3,ox=!1,N0=[],Jc=null,Zc=null,eu=null,Lm=new Map,jm=new Map,Lc=[],G9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mA(t,e){switch(t){case"focusin":case"focusout":Jc=null;break;case"dragenter":case"dragleave":Zc=null;break;case"mouseover":case"mouseout":eu=null;break;case"pointerover":case"pointerout":Lm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jm.delete(e.pointerId)}}function Lp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cg(e),e!==null&&gb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function K9(t,e,n,r,i){switch(e){case"focusin":return Jc=Lp(Jc,t,e,n,r,i),!0;case"dragenter":return Zc=Lp(Zc,t,e,n,r,i),!0;case"mouseover":return eu=Lp(eu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Lm.set(s,Lp(Lm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jm.set(s,Lp(jm.get(s)||null,t,e,n,r,i)),!0}return!1}function R3(t){var e=sd(t.target);if(e!==null){var n=Yd(e);if(n!==null){if(e=n.tag,e===13){if(e=_3(n),e!==null){t.blockedOn=e,I3(t.priority,function(){k3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ax(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tx=r,n.target.dispatchEvent(r),tx=null}else return e=Cg(n),e!==null&&gb(e),t.blockedOn=n,!1;e.shift()}return!0}function gA(t,e,n){hv(t)&&n.delete(e)}function Y9(){ox=!1,Jc!==null&&hv(Jc)&&(Jc=null),Zc!==null&&hv(Zc)&&(Zc=null),eu!==null&&hv(eu)&&(eu=null),Lm.forEach(gA),jm.forEach(gA)}function jp(t,e){t.blockedOn===e&&(t.blockedOn=null,ox||(ox=!0,no.unstable_scheduleCallback(no.unstable_NormalPriority,Y9)))}function Dm(t){function e(i){return jp(i,t)}if(0<N0.length){jp(N0[0],t);for(var n=1;n<N0.length;n++){var r=N0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jc!==null&&jp(Jc,t),Zc!==null&&jp(Zc,t),eu!==null&&jp(eu,t),Lm.forEach(e),jm.forEach(e),n=0;n<Lc.length;n++)r=Lc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lc.length&&(n=Lc[0],n.blockedOn===null);)R3(n),n.blockedOn===null&&Lc.shift()}var Xh=tc.ReactCurrentBatchConfig,Jv=!0;function Q9(t,e,n,r){var i=Dn,s=Xh.transition;Xh.transition=null;try{Dn=1,vb(t,e,n,r)}finally{Dn=i,Xh.transition=s}}function X9(t,e,n,r){var i=Dn,s=Xh.transition;Xh.transition=null;try{Dn=4,vb(t,e,n,r)}finally{Dn=i,Xh.transition=s}}function vb(t,e,n,r){if(Jv){var i=ax(t,e,n,r);if(i===null)gw(t,e,r,Zv,n),mA(t,r);else if(K9(i,t,e,n,r))r.stopPropagation();else if(mA(t,r),e&4&&-1<G9.indexOf(t)){for(;i!==null;){var s=Cg(i);if(s!==null&&T3(s),s=ax(t,e,n,r),s===null&&gw(t,e,r,Zv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gw(t,e,r,null,n)}}var Zv=null;function ax(t,e,n,r){if(Zv=null,t=fb(r),t=sd(t),t!==null)if(e=Yd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zv=t,null}function L3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F9()){case pb:return 1;case E3:return 4;case Qv:case B9:return 16;case N3:return 536870912;default:return 16}default:return 16}}var Gc=null,yb=null,fv=null;function j3(){if(fv)return fv;var t,e=yb,n=e.length,r,i="value"in Gc?Gc.value:Gc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return fv=i.slice(t,1<r?1-r:void 0)}function pv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function A0(){return!0}function vA(){return!1}function so(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?A0:vA,this.isPropagationStopped=vA,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=A0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=A0)},persist:function(){},isPersistent:A0}),e}var Qf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wb=so(Qf),Ag=hr({},Qf,{view:0,detail:0}),J9=so(Ag),aw,lw,Dp,yy=hr({},Ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_b,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dp&&(Dp&&t.type==="mousemove"?(aw=t.screenX-Dp.screenX,lw=t.screenY-Dp.screenY):lw=aw=0,Dp=t),aw)},movementY:function(t){return"movementY"in t?t.movementY:lw}}),yA=so(yy),Z9=hr({},yy,{dataTransfer:0}),eB=so(Z9),tB=hr({},Ag,{relatedTarget:0}),cw=so(tB),nB=hr({},Qf,{animationName:0,elapsedTime:0,pseudoElement:0}),rB=so(nB),iB=hr({},Qf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sB=so(iB),oB=hr({},Qf,{data:0}),wA=so(oB),aB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cB[t])?!!e[t]:!1}function _b(){return uB}var dB=hr({},Ag,{key:function(t){if(t.key){var e=aB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_b,charCode:function(t){return t.type==="keypress"?pv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hB=so(dB),fB=hr({},yy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=so(fB),pB=hr({},Ag,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_b}),mB=so(pB),gB=hr({},Qf,{propertyName:0,elapsedTime:0,pseudoElement:0}),vB=so(gB),yB=hr({},yy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wB=so(yB),_B=[9,13,27,32],xb=ql&&"CompositionEvent"in window,cm=null;ql&&"documentMode"in document&&(cm=document.documentMode);var xB=ql&&"TextEvent"in window&&!cm,D3=ql&&(!xb||cm&&8<cm&&11>=cm),xA=" ",bA=!1;function O3(t,e){switch(t){case"keyup":return _B.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oh=!1;function bB(t,e){switch(t){case"compositionend":return M3(e);case"keypress":return e.which!==32?null:(bA=!0,xA);case"textInput":return t=e.data,t===xA&&bA?null:t;default:return null}}function SB(t,e){if(Oh)return t==="compositionend"||!xb&&O3(t,e)?(t=j3(),fv=yb=Gc=null,Oh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D3&&e.locale!=="ko"?null:e.data;default:return null}}var EB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!EB[t.type]:e==="textarea"}function F3(t,e,n,r){m3(r),e=e1(e,"onChange"),0<e.length&&(n=new wb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var um=null,Om=null;function NB(t){Y3(t,0)}function wy(t){var e=Bh(t);if(l3(e))return t}function AB(t,e){if(t==="change")return e}var B3=!1;if(ql){var uw;if(ql){var dw="oninput"in document;if(!dw){var EA=document.createElement("div");EA.setAttribute("oninput","return;"),dw=typeof EA.oninput=="function"}uw=dw}else uw=!1;B3=uw&&(!document.documentMode||9<document.documentMode)}function NA(){um&&(um.detachEvent("onpropertychange",U3),Om=um=null)}function U3(t){if(t.propertyName==="value"&&wy(Om)){var e=[];F3(e,Om,t,fb(t)),w3(NB,e)}}function CB(t,e,n){t==="focusin"?(NA(),um=e,Om=n,um.attachEvent("onpropertychange",U3)):t==="focusout"&&NA()}function TB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wy(Om)}function kB(t,e){if(t==="click")return wy(e)}function PB(t,e){if(t==="input"||t==="change")return wy(e)}function IB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xo=typeof Object.is=="function"?Object.is:IB;function Mm(t,e){if(Xo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$_.call(e,i)||!Xo(t[i],e[i]))return!1}return!0}function AA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function CA(t,e){var n=AA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AA(n)}}function V3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?V3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z3(){for(var t=window,e=Gv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gv(t.document)}return e}function bb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RB(t){var e=z3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&V3(n.ownerDocument.documentElement,n)){if(r!==null&&bb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=CA(n,s);var o=CA(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LB=ql&&"documentMode"in document&&11>=document.documentMode,Mh=null,lx=null,dm=null,cx=!1;function TA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cx||Mh==null||Mh!==Gv(r)||(r=Mh,"selectionStart"in r&&bb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dm&&Mm(dm,r)||(dm=r,r=e1(lx,"onSelect"),0<r.length&&(e=new wb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mh)))}function C0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fh={animationend:C0("Animation","AnimationEnd"),animationiteration:C0("Animation","AnimationIteration"),animationstart:C0("Animation","AnimationStart"),transitionend:C0("Transition","TransitionEnd")},hw={},$3={};ql&&($3=document.createElement("div").style,"AnimationEvent"in window||(delete Fh.animationend.animation,delete Fh.animationiteration.animation,delete Fh.animationstart.animation),"TransitionEvent"in window||delete Fh.transitionend.transition);function _y(t){if(hw[t])return hw[t];if(!Fh[t])return t;var e=Fh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $3)return hw[t]=e[n];return t}var q3=_y("animationend"),H3=_y("animationiteration"),W3=_y("animationstart"),G3=_y("transitionend"),K3=new Map,kA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ku(t,e){K3.set(t,e),Kd(e,[t])}for(var fw=0;fw<kA.length;fw++){var pw=kA[fw],jB=pw.toLowerCase(),DB=pw[0].toUpperCase()+pw.slice(1);ku(jB,"on"+DB)}ku(q3,"onAnimationEnd");ku(H3,"onAnimationIteration");ku(W3,"onAnimationStart");ku("dblclick","onDoubleClick");ku("focusin","onFocus");ku("focusout","onBlur");ku(G3,"onTransitionEnd");Nf("onMouseEnter",["mouseout","mouseover"]);Nf("onMouseLeave",["mouseout","mouseover"]);Nf("onPointerEnter",["pointerout","pointerover"]);Nf("onPointerLeave",["pointerout","pointerover"]);Kd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xp));function PA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j9(r,e,void 0,t),t.currentTarget=null}function Y3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PA(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PA(i,a,c),s=l}}}if(Yv)throw t=ix,Yv=!1,ix=null,t}function Zn(t,e){var n=e[px];n===void 0&&(n=e[px]=new Set);var r=t+"__bubble";n.has(r)||(Q3(e,t,2,!1),n.add(r))}function mw(t,e,n){var r=0;e&&(r|=4),Q3(n,t,r,e)}var T0="_reactListening"+Math.random().toString(36).slice(2);function Fm(t){if(!t[T0]){t[T0]=!0,r3.forEach(function(n){n!=="selectionchange"&&(OB.has(n)||mw(n,!1,t),mw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[T0]||(e[T0]=!0,mw("selectionchange",!1,e))}}function Q3(t,e,n,r){switch(L3(e)){case 1:var i=Q9;break;case 4:i=X9;break;default:i=vb}n=i.bind(null,e,n,t),i=void 0,!rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=sd(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}w3(function(){var c=s,d=fb(n),f=[];e:{var g=K3.get(t);if(g!==void 0){var h=wb,_=t;switch(t){case"keypress":if(pv(n)===0)break e;case"keydown":case"keyup":h=hB;break;case"focusin":_="focus",h=cw;break;case"focusout":_="blur",h=cw;break;case"beforeblur":case"afterblur":h=cw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=eB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mB;break;case q3:case H3:case W3:h=rB;break;case G3:h=vB;break;case"scroll":h=J9;break;case"wheel":h=wB;break;case"copy":case"cut":case"paste":h=sB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_A}var y=(e&4)!==0,x=!y&&t==="scroll",w=y?g!==null?g+"Capture":null:g;y=[];for(var b=c,N;b!==null;){N=b;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,w!==null&&(R=Rm(b,w),R!=null&&y.push(Bm(b,R,N)))),x)break;b=b.return}0<y.length&&(g=new h(g,_,null,n,d),f.push({event:g,listeners:y}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",g&&n!==tx&&(_=n.relatedTarget||n.fromElement)&&(sd(_)||_[Hl]))break e;if((h||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,h?(_=n.relatedTarget||n.toElement,h=c,_=_?sd(_):null,_!==null&&(x=Yd(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(h=null,_=c),h!==_)){if(y=yA,R="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=_A,R="onPointerLeave",w="onPointerEnter",b="pointer"),x=h==null?g:Bh(h),N=_==null?g:Bh(_),g=new y(R,b+"leave",h,n,d),g.target=x,g.relatedTarget=N,R=null,sd(d)===c&&(y=new y(w,b+"enter",_,n,d),y.target=N,y.relatedTarget=x,R=y),x=R,h&&_)t:{for(y=h,w=_,b=0,N=y;N;N=mh(N))b++;for(N=0,R=w;R;R=mh(R))N++;for(;0<b-N;)y=mh(y),b--;for(;0<N-b;)w=mh(w),N--;for(;b--;){if(y===w||w!==null&&y===w.alternate)break t;y=mh(y),w=mh(w)}y=null}else y=null;h!==null&&IA(f,g,h,y,!1),_!==null&&x!==null&&IA(f,x,_,y,!0)}}e:{if(g=c?Bh(c):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var z=AB;else if(SA(g))if(B3)z=PB;else{z=TB;var U=CB}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=kB);if(z&&(z=z(t,c))){F3(f,z,n,d);break e}U&&U(t,g,c),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&Q_(g,"number",g.value)}switch(U=c?Bh(c):window,t){case"focusin":(SA(U)||U.contentEditable==="true")&&(Mh=U,lx=c,dm=null);break;case"focusout":dm=lx=Mh=null;break;case"mousedown":cx=!0;break;case"contextmenu":case"mouseup":case"dragend":cx=!1,TA(f,n,d);break;case"selectionchange":if(LB)break;case"keydown":case"keyup":TA(f,n,d)}var I;if(xb)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Oh?O3(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(D3&&n.locale!=="ko"&&(Oh||k!=="onCompositionStart"?k==="onCompositionEnd"&&Oh&&(I=j3()):(Gc=d,yb="value"in Gc?Gc.value:Gc.textContent,Oh=!0)),U=e1(c,k),0<U.length&&(k=new wA(k,t,null,n,d),f.push({event:k,listeners:U}),I?k.data=I:(I=M3(n),I!==null&&(k.data=I)))),(I=xB?bB(t,n):SB(t,n))&&(c=e1(c,"onBeforeInput"),0<c.length&&(d=new wA("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=I))}Y3(f,e)})}function Bm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function e1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rm(t,n),s!=null&&r.unshift(Bm(t,s,i)),s=Rm(t,e),s!=null&&r.push(Bm(t,s,i))),t=t.return}return r}function mh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function IA(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Rm(n,s),l!=null&&o.unshift(Bm(n,l,a))):i||(l=Rm(n,s),l!=null&&o.push(Bm(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MB=/\r\n?/g,FB=/\u0000|\uFFFD/g;function RA(t){return(typeof t=="string"?t:""+t).replace(MB,`
`).replace(FB,"")}function k0(t,e,n){if(e=RA(e),RA(t)!==e&&n)throw Error(Ue(425))}function t1(){}var ux=null,dx=null;function hx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fx=typeof setTimeout=="function"?setTimeout:void 0,BB=typeof clearTimeout=="function"?clearTimeout:void 0,LA=typeof Promise=="function"?Promise:void 0,UB=typeof queueMicrotask=="function"?queueMicrotask:typeof LA<"u"?function(t){return LA.resolve(null).then(t).catch(VB)}:fx;function VB(t){setTimeout(function(){throw t})}function vw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dm(e)}function tu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xf=Math.random().toString(36).slice(2),Da="__reactFiber$"+Xf,Um="__reactProps$"+Xf,Hl="__reactContainer$"+Xf,px="__reactEvents$"+Xf,zB="__reactListeners$"+Xf,$B="__reactHandles$"+Xf;function sd(t){var e=t[Da];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hl]||n[Da]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jA(t);t!==null;){if(n=t[Da])return n;t=jA(t)}return e}t=n,n=t.parentNode}return null}function Cg(t){return t=t[Da]||t[Hl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function xy(t){return t[Um]||null}var mx=[],Uh=-1;function Pu(t){return{current:t}}function nr(t){0>Uh||(t.current=mx[Uh],mx[Uh]=null,Uh--)}function Kn(t,e){Uh++,mx[Uh]=t.current,t.current=e}var gu={},Di=Pu(gu),ys=Pu(!1),Sd=gu;function Af(t,e){var n=t.type.contextTypes;if(!n)return gu;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ws(t){return t=t.childContextTypes,t!=null}function n1(){nr(ys),nr(Di)}function DA(t,e,n){if(Di.current!==gu)throw Error(Ue(168));Kn(Di,e),Kn(ys,n)}function X3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,C9(t)||"Unknown",i));return hr({},n,r)}function r1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gu,Sd=Di.current,Kn(Di,t),Kn(ys,ys.current),!0}function OA(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=X3(t,e,Sd),r.__reactInternalMemoizedMergedChildContext=t,nr(ys),nr(Di),Kn(Di,t)):nr(ys),Kn(ys,n)}var Rl=null,by=!1,yw=!1;function J3(t){Rl===null?Rl=[t]:Rl.push(t)}function qB(t){by=!0,J3(t)}function Iu(){if(!yw&&Rl!==null){yw=!0;var t=0,e=Dn;try{var n=Rl;for(Dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rl=null,by=!1}catch(i){throw Rl!==null&&(Rl=Rl.slice(t+1)),S3(pb,Iu),i}finally{Dn=e,yw=!1}}return null}var Vh=[],zh=0,i1=null,s1=0,mo=[],go=0,Ed=null,Ol=1,Ml="";function Zu(t,e){Vh[zh++]=s1,Vh[zh++]=i1,i1=t,s1=e}function Z3(t,e,n){mo[go++]=Ol,mo[go++]=Ml,mo[go++]=Ed,Ed=t;var r=Ol;t=Ml;var i=32-Yo(r)-1;r&=~(1<<i),n+=1;var s=32-Yo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ol=1<<32-Yo(e)+i|n<<i|r,Ml=s+t}else Ol=1<<s|n<<i|r,Ml=t}function Sb(t){t.return!==null&&(Zu(t,1),Z3(t,1,0))}function Eb(t){for(;t===i1;)i1=Vh[--zh],Vh[zh]=null,s1=Vh[--zh],Vh[zh]=null;for(;t===Ed;)Ed=mo[--go],mo[go]=null,Ml=mo[--go],mo[go]=null,Ol=mo[--go],mo[go]=null}var Xs=null,Gs=null,ar=!1,Wo=null;function eI(t,e){var n=_o(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xs=t,Gs=tu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xs=t,Gs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ed!==null?{id:Ol,overflow:Ml}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_o(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xs=t,Gs=null,!0):!1;default:return!1}}function gx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vx(t){if(ar){var e=Gs;if(e){var n=e;if(!MA(t,e)){if(gx(t))throw Error(Ue(418));e=tu(n.nextSibling);var r=Xs;e&&MA(t,e)?eI(r,n):(t.flags=t.flags&-4097|2,ar=!1,Xs=t)}}else{if(gx(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,ar=!1,Xs=t}}}function FA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xs=t}function P0(t){if(t!==Xs)return!1;if(!ar)return FA(t),ar=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hx(t.type,t.memoizedProps)),e&&(e=Gs)){if(gx(t))throw tI(),Error(Ue(418));for(;e;)eI(t,e),e=tu(e.nextSibling)}if(FA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gs=tu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gs=null}}else Gs=Xs?tu(t.stateNode.nextSibling):null;return!0}function tI(){for(var t=Gs;t;)t=tu(t.nextSibling)}function Cf(){Gs=Xs=null,ar=!1}function Nb(t){Wo===null?Wo=[t]:Wo.push(t)}var HB=tc.ReactCurrentBatchConfig;function Op(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function I0(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BA(t){var e=t._init;return e(t._payload)}function nI(t){function e(w,b){if(t){var N=w.deletions;N===null?(w.deletions=[b],w.flags|=16):N.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=su(w,b),w.index=0,w.sibling=null,w}function s(w,b,N){return w.index=N,t?(N=w.alternate,N!==null?(N=N.index,N<b?(w.flags|=2,b):N):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,N,R){return b===null||b.tag!==6?(b=Nw(N,w.mode,R),b.return=w,b):(b=i(b,N),b.return=w,b)}function l(w,b,N,R){var z=N.type;return z===Dh?d(w,b,N.props.children,R,N.key):b!==null&&(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ic&&BA(z)===b.type)?(R=i(b,N.props),R.ref=Op(w,b,N),R.return=w,R):(R=xv(N.type,N.key,N.props,null,w.mode,R),R.ref=Op(w,b,N),R.return=w,R)}function c(w,b,N,R){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Aw(N,w.mode,R),b.return=w,b):(b=i(b,N.children||[]),b.return=w,b)}function d(w,b,N,R,z){return b===null||b.tag!==7?(b=wd(N,w.mode,R,z),b.return=w,b):(b=i(b,N),b.return=w,b)}function f(w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Nw(""+b,w.mode,N),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _0:return N=xv(b.type,b.key,b.props,null,w.mode,N),N.ref=Op(w,null,b),N.return=w,N;case jh:return b=Aw(b,w.mode,N),b.return=w,b;case Ic:var R=b._init;return f(w,R(b._payload),N)}if(Yp(b)||Ip(b))return b=wd(b,w.mode,N,null),b.return=w,b;I0(w,b)}return null}function g(w,b,N,R){var z=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return z!==null?null:a(w,b,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _0:return N.key===z?l(w,b,N,R):null;case jh:return N.key===z?c(w,b,N,R):null;case Ic:return z=N._init,g(w,b,z(N._payload),R)}if(Yp(N)||Ip(N))return z!==null?null:d(w,b,N,R,null);I0(w,N)}return null}function h(w,b,N,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return w=w.get(N)||null,a(b,w,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _0:return w=w.get(R.key===null?N:R.key)||null,l(b,w,R,z);case jh:return w=w.get(R.key===null?N:R.key)||null,c(b,w,R,z);case Ic:var U=R._init;return h(w,b,N,U(R._payload),z)}if(Yp(R)||Ip(R))return w=w.get(N)||null,d(b,w,R,z,null);I0(b,R)}return null}function _(w,b,N,R){for(var z=null,U=null,I=b,k=b=0,P=null;I!==null&&k<N.length;k++){I.index>k?(P=I,I=null):P=I.sibling;var M=g(w,I,N[k],R);if(M===null){I===null&&(I=P);break}t&&I&&M.alternate===null&&e(w,I),b=s(M,b,k),U===null?z=M:U.sibling=M,U=M,I=P}if(k===N.length)return n(w,I),ar&&Zu(w,k),z;if(I===null){for(;k<N.length;k++)I=f(w,N[k],R),I!==null&&(b=s(I,b,k),U===null?z=I:U.sibling=I,U=I);return ar&&Zu(w,k),z}for(I=r(w,I);k<N.length;k++)P=h(I,w,k,N[k],R),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?k:P.key),b=s(P,b,k),U===null?z=P:U.sibling=P,U=P);return t&&I.forEach(function(T){return e(w,T)}),ar&&Zu(w,k),z}function y(w,b,N,R){var z=Ip(N);if(typeof z!="function")throw Error(Ue(150));if(N=z.call(N),N==null)throw Error(Ue(151));for(var U=z=null,I=b,k=b=0,P=null,M=N.next();I!==null&&!M.done;k++,M=N.next()){I.index>k?(P=I,I=null):P=I.sibling;var T=g(w,I,M.value,R);if(T===null){I===null&&(I=P);break}t&&I&&T.alternate===null&&e(w,I),b=s(T,b,k),U===null?z=T:U.sibling=T,U=T,I=P}if(M.done)return n(w,I),ar&&Zu(w,k),z;if(I===null){for(;!M.done;k++,M=N.next())M=f(w,M.value,R),M!==null&&(b=s(M,b,k),U===null?z=M:U.sibling=M,U=M);return ar&&Zu(w,k),z}for(I=r(w,I);!M.done;k++,M=N.next())M=h(I,w,k,M.value,R),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?k:M.key),b=s(M,b,k),U===null?z=M:U.sibling=M,U=M);return t&&I.forEach(function(L){return e(w,L)}),ar&&Zu(w,k),z}function x(w,b,N,R){if(typeof N=="object"&&N!==null&&N.type===Dh&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _0:e:{for(var z=N.key,U=b;U!==null;){if(U.key===z){if(z=N.type,z===Dh){if(U.tag===7){n(w,U.sibling),b=i(U,N.props.children),b.return=w,w=b;break e}}else if(U.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Ic&&BA(z)===U.type){n(w,U.sibling),b=i(U,N.props),b.ref=Op(w,U,N),b.return=w,w=b;break e}n(w,U);break}else e(w,U);U=U.sibling}N.type===Dh?(b=wd(N.props.children,w.mode,R,N.key),b.return=w,w=b):(R=xv(N.type,N.key,N.props,null,w.mode,R),R.ref=Op(w,b,N),R.return=w,w=R)}return o(w);case jh:e:{for(U=N.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(w,b.sibling),b=i(b,N.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=Aw(N,w.mode,R),b.return=w,w=b}return o(w);case Ic:return U=N._init,x(w,b,U(N._payload),R)}if(Yp(N))return _(w,b,N,R);if(Ip(N))return y(w,b,N,R);I0(w,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,N),b.return=w,w=b):(n(w,b),b=Nw(N,w.mode,R),b.return=w,w=b),o(w)):n(w,b)}return x}var Tf=nI(!0),rI=nI(!1),o1=Pu(null),a1=null,$h=null,Ab=null;function Cb(){Ab=$h=a1=null}function Tb(t){var e=o1.current;nr(o1),t._currentValue=e}function yx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jh(t,e){a1=t,Ab=$h=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ms=!0),t.firstContext=null)}function Eo(t){var e=t._currentValue;if(Ab!==t)if(t={context:t,memoizedValue:e,next:null},$h===null){if(a1===null)throw Error(Ue(308));$h=t,a1.dependencies={lanes:0,firstContext:t}}else $h=$h.next=t;return e}var od=null;function kb(t){od===null?od=[t]:od.push(t)}function iI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wl(t,r)}function Wl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rc=!1;function Pb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wl(t,n)}return i=r.interleaved,i===null?(e.next=e,kb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wl(t,n)}function mv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mb(t,n)}}function UA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function l1(t,e,n,r){var i=t.updateQueue;Rc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var g=a.lane,h=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(g=e,h=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(h,f,g);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,g=typeof _=="function"?_.call(h,f,g):_,g==null)break e;f=hr({},f,g);break e;case 2:Rc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else h={eventTime:h,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ad|=o,t.lanes=o,t.memoizedState=f}}function VA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var Tg={},$a=Pu(Tg),Vm=Pu(Tg),zm=Pu(Tg);function ad(t){if(t===Tg)throw Error(Ue(174));return t}function Ib(t,e){switch(Kn(zm,e),Kn(Vm,t),Kn($a,Tg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=J_(e,t)}nr($a),Kn($a,e)}function kf(){nr($a),nr(Vm),nr(zm)}function oI(t){ad(zm.current);var e=ad($a.current),n=J_(e,t.type);e!==n&&(Kn(Vm,t),Kn($a,n))}function Rb(t){Vm.current===t&&(nr($a),nr(Vm))}var cr=Pu(0);function c1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ww=[];function Lb(){for(var t=0;t<ww.length;t++)ww[t]._workInProgressVersionPrimary=null;ww.length=0}var gv=tc.ReactCurrentDispatcher,_w=tc.ReactCurrentBatchConfig,Nd=0,dr=null,$r=null,Zr=null,u1=!1,hm=!1,$m=0,WB=0;function bi(){throw Error(Ue(321))}function jb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xo(t[n],e[n]))return!1;return!0}function Db(t,e,n,r,i,s){if(Nd=s,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gv.current=t===null||t.memoizedState===null?QB:XB,t=n(r,i),hm){s=0;do{if(hm=!1,$m=0,25<=s)throw Error(Ue(301));s+=1,Zr=$r=null,e.updateQueue=null,gv.current=JB,t=n(r,i)}while(hm)}if(gv.current=d1,e=$r!==null&&$r.next!==null,Nd=0,Zr=$r=dr=null,u1=!1,e)throw Error(Ue(300));return t}function Ob(){var t=$m!==0;return $m=0,t}function Pa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?dr.memoizedState=Zr=t:Zr=Zr.next=t,Zr}function No(){if($r===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=$r.next;var e=Zr===null?dr.memoizedState:Zr.next;if(e!==null)Zr=e,$r=t;else{if(t===null)throw Error(Ue(310));$r=t,t={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Zr===null?dr.memoizedState=Zr=t:Zr=Zr.next=t}return Zr}function qm(t,e){return typeof e=="function"?e(t):e}function xw(t){var e=No(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=$r,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Nd&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,dr.lanes|=d,Ad|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Xo(r,e.memoizedState)||(ms=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,dr.lanes|=s,Ad|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bw(t){var e=No(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xo(s,e.memoizedState)||(ms=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function aI(){}function lI(t,e){var n=dr,r=No(),i=e(),s=!Xo(r.memoizedState,i);if(s&&(r.memoizedState=i,ms=!0),r=r.queue,Mb(dI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zr!==null&&Zr.memoizedState.tag&1){if(n.flags|=2048,Hm(9,uI.bind(null,n,r,i,e),void 0,null),ri===null)throw Error(Ue(349));Nd&30||cI(n,e,i)}return i}function cI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function uI(t,e,n,r){e.value=n,e.getSnapshot=r,hI(e)&&fI(t)}function dI(t,e,n){return n(function(){hI(e)&&fI(t)})}function hI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xo(t,n)}catch{return!0}}function fI(t){var e=Wl(t,1);e!==null&&Qo(e,t,1,-1)}function zA(t){var e=Pa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:t},e.queue=t,t=t.dispatch=YB.bind(null,dr,t),[e.memoizedState,t]}function Hm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pI(){return No().memoizedState}function vv(t,e,n,r){var i=Pa();dr.flags|=t,i.memoizedState=Hm(1|e,n,void 0,r===void 0?null:r)}function Sy(t,e,n,r){var i=No();r=r===void 0?null:r;var s=void 0;if($r!==null){var o=$r.memoizedState;if(s=o.destroy,r!==null&&jb(r,o.deps)){i.memoizedState=Hm(e,n,s,r);return}}dr.flags|=t,i.memoizedState=Hm(1|e,n,s,r)}function $A(t,e){return vv(8390656,8,t,e)}function Mb(t,e){return Sy(2048,8,t,e)}function mI(t,e){return Sy(4,2,t,e)}function gI(t,e){return Sy(4,4,t,e)}function vI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yI(t,e,n){return n=n!=null?n.concat([t]):null,Sy(4,4,vI.bind(null,e,t),n)}function Fb(){}function wI(t,e){var n=No();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _I(t,e){var n=No();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xI(t,e,n){return Nd&21?(Xo(n,e)||(n=A3(),dr.lanes|=n,Ad|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ms=!0),t.memoizedState=n)}function GB(t,e){var n=Dn;Dn=n!==0&&4>n?n:4,t(!0);var r=_w.transition;_w.transition={};try{t(!1),e()}finally{Dn=n,_w.transition=r}}function bI(){return No().memoizedState}function KB(t,e,n){var r=iu(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SI(t))EI(e,n);else if(n=iI(t,e,n,r),n!==null){var i=Xi();Qo(n,t,r,i),NI(n,e,r)}}function YB(t,e,n){var r=iu(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SI(t))EI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xo(a,o)){var l=e.interleaved;l===null?(i.next=i,kb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=iI(t,e,i,r),n!==null&&(i=Xi(),Qo(n,t,r,i),NI(n,e,r))}}function SI(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function EI(t,e){hm=u1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mb(t,n)}}var d1={readContext:Eo,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},QB={readContext:Eo,useCallback:function(t,e){return Pa().memoizedState=[t,e===void 0?null:e],t},useContext:Eo,useEffect:$A,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vv(4194308,4,vI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vv(4194308,4,t,e)},useInsertionEffect:function(t,e){return vv(4,2,t,e)},useMemo:function(t,e){var n=Pa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KB.bind(null,dr,t),[r.memoizedState,t]},useRef:function(t){var e=Pa();return t={current:t},e.memoizedState=t},useState:zA,useDebugValue:Fb,useDeferredValue:function(t){return Pa().memoizedState=t},useTransition:function(){var t=zA(!1),e=t[0];return t=GB.bind(null,t[1]),Pa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dr,i=Pa();if(ar){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),ri===null)throw Error(Ue(349));Nd&30||cI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,$A(dI.bind(null,r,s,t),[t]),r.flags|=2048,Hm(9,uI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pa(),e=ri.identifierPrefix;if(ar){var n=Ml,r=Ol;n=(r&~(1<<32-Yo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$m++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XB={readContext:Eo,useCallback:wI,useContext:Eo,useEffect:Mb,useImperativeHandle:yI,useInsertionEffect:mI,useLayoutEffect:gI,useMemo:_I,useReducer:xw,useRef:pI,useState:function(){return xw(qm)},useDebugValue:Fb,useDeferredValue:function(t){var e=No();return xI(e,$r.memoizedState,t)},useTransition:function(){var t=xw(qm)[0],e=No().memoizedState;return[t,e]},useMutableSource:aI,useSyncExternalStore:lI,useId:bI,unstable_isNewReconciler:!1},JB={readContext:Eo,useCallback:wI,useContext:Eo,useEffect:Mb,useImperativeHandle:yI,useInsertionEffect:mI,useLayoutEffect:gI,useMemo:_I,useReducer:bw,useRef:pI,useState:function(){return bw(qm)},useDebugValue:Fb,useDeferredValue:function(t){var e=No();return $r===null?e.memoizedState=t:xI(e,$r.memoizedState,t)},useTransition:function(){var t=bw(qm)[0],e=No().memoizedState;return[t,e]},useMutableSource:aI,useSyncExternalStore:lI,useId:bI,unstable_isNewReconciler:!1};function Vo(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ey={isMounted:function(t){return(t=t._reactInternals)?Yd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=iu(t),s=Vl(r,i);s.payload=e,n!=null&&(s.callback=n),e=nu(t,s,i),e!==null&&(Qo(e,t,i,r),mv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xi(),i=iu(t),s=Vl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=nu(t,s,i),e!==null&&(Qo(e,t,i,r),mv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xi(),r=iu(t),i=Vl(n,r);i.tag=2,e!=null&&(i.callback=e),e=nu(t,i,r),e!==null&&(Qo(e,t,r,n),mv(e,t,r))}};function qA(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Mm(n,r)||!Mm(i,s):!0}function AI(t,e,n){var r=!1,i=gu,s=e.contextType;return typeof s=="object"&&s!==null?s=Eo(s):(i=ws(e)?Sd:Di.current,r=e.contextTypes,s=(r=r!=null)?Af(t,i):gu),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ey,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function HA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ey.enqueueReplaceState(e,e.state,null)}function _x(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Pb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Eo(s):(s=ws(e)?Sd:Di.current,i.context=Af(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wx(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ey.enqueueReplaceState(i,i.state,null),l1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pf(t,e){try{var n="",r=e;do n+=A9(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZB=typeof WeakMap=="function"?WeakMap:Map;function CI(t,e,n){n=Vl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){f1||(f1=!0,Ix=r),xx(t,e)},n}function TI(t,e,n){n=Vl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xx(t,e),typeof r!="function"&&(ru===null?ru=new Set([this]):ru.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fU.bind(null,t,e,n),e.then(t,t))}function GA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vl(-1,1),e.tag=2,nu(n,e,1))),n.lanes|=1),t)}var eU=tc.ReactCurrentOwner,ms=!1;function Gi(t,e,n,r){e.child=t===null?rI(e,null,n,r):Tf(e,t.child,n,r)}function YA(t,e,n,r,i){n=n.render;var s=e.ref;return Jh(e,i),r=Db(t,e,n,r,s,i),n=Ob(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gl(t,e,i)):(ar&&n&&Sb(e),e.flags|=1,Gi(t,e,r,i),e.child)}function QA(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kI(t,e,s,r,i)):(t=xv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mm,n(o,r)&&t.ref===e.ref)return Gl(t,e,i)}return e.flags|=1,t=su(s,r),t.ref=e.ref,t.return=e,e.child=t}function kI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Mm(s,r)&&t.ref===e.ref)if(ms=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ms=!0);else return e.lanes=t.lanes,Gl(t,e,i)}return bx(t,e,n,r,i)}function PI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(Hh,qs),qs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Kn(Hh,qs),qs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Kn(Hh,qs),qs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Kn(Hh,qs),qs|=r;return Gi(t,e,i,n),e.child}function II(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bx(t,e,n,r,i){var s=ws(n)?Sd:Di.current;return s=Af(e,s),Jh(e,i),n=Db(t,e,n,r,s,i),r=Ob(),t!==null&&!ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gl(t,e,i)):(ar&&r&&Sb(e),e.flags|=1,Gi(t,e,n,i),e.child)}function XA(t,e,n,r,i){if(ws(n)){var s=!0;r1(e)}else s=!1;if(Jh(e,i),e.stateNode===null)yv(t,e),AI(e,n,r),_x(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Eo(c):(c=ws(n)?Sd:Di.current,c=Af(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&HA(e,o,r,c),Rc=!1;var g=e.memoizedState;o.state=g,l1(e,r,o,i),l=e.memoizedState,a!==r||g!==l||ys.current||Rc?(typeof d=="function"&&(wx(e,n,d,r),l=e.memoizedState),(a=Rc||qA(e,n,a,r,g,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,sI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vo(e.type,a),o.props=c,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Eo(l):(l=ws(n)?Sd:Di.current,l=Af(e,l));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&HA(e,o,r,l),Rc=!1,g=e.memoizedState,o.state=g,l1(e,r,o,i);var _=e.memoizedState;a!==f||g!==_||ys.current||Rc?(typeof h=="function"&&(wx(e,n,h,r),_=e.memoizedState),(c=Rc||qA(e,n,c,r,g,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Sx(t,e,n,r,s,i)}function Sx(t,e,n,r,i,s){II(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&OA(e,n,!1),Gl(t,e,s);r=e.stateNode,eU.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Tf(e,t.child,null,s),e.child=Tf(e,null,a,s)):Gi(t,e,a,s),e.memoizedState=r.state,i&&OA(e,n,!0),e.child}function RI(t){var e=t.stateNode;e.pendingContext?DA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DA(t,e.context,!1),Ib(t,e.containerInfo)}function JA(t,e,n,r,i){return Cf(),Nb(i),e.flags|=256,Gi(t,e,n,r),e.child}var Ex={dehydrated:null,treeContext:null,retryLane:0};function Nx(t){return{baseLanes:t,cachePool:null,transitions:null}}function LI(t,e,n){var r=e.pendingProps,i=cr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Kn(cr,i&1),t===null)return vx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cy(o,r,0,null),t=wd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nx(n),e.memoizedState=Ex,t):Bb(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tU(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=su(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=su(a,s):(s=wd(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Nx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ex,r}return s=t.child,t=s.sibling,r=su(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bb(t,e){return e=Cy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function R0(t,e,n,r){return r!==null&&Nb(r),Tf(e,t.child,null,n),t=Bb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tU(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sw(Error(Ue(422))),R0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cy({mode:"visible",children:r.children},i,0,null),s=wd(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Tf(e,t.child,null,o),e.child.memoizedState=Nx(o),e.memoizedState=Ex,s);if(!(e.mode&1))return R0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=Sw(s,r,void 0),R0(t,e,o,r)}if(a=(o&t.childLanes)!==0,ms||a){if(r=ri,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wl(t,i),Qo(r,t,i,-1))}return Hb(),r=Sw(Error(Ue(421))),R0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pU.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gs=tu(i.nextSibling),Xs=e,ar=!0,Wo=null,t!==null&&(mo[go++]=Ol,mo[go++]=Ml,mo[go++]=Ed,Ol=t.id,Ml=t.overflow,Ed=e),e=Bb(e,r.children),e.flags|=4096,e)}function ZA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yx(t.return,e,n)}function Ew(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gi(t,e,r.children,n),r=cr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZA(t,n,e);else if(t.tag===19)ZA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Kn(cr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&c1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ew(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&c1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ew(e,!0,n,null,s);break;case"together":Ew(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ad|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=su(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=su(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nU(t,e,n){switch(e.tag){case 3:RI(e),Cf();break;case 5:oI(e);break;case 1:ws(e.type)&&r1(e);break;case 4:Ib(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Kn(o1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Kn(cr,cr.current&1),e.flags|=128,null):n&e.child.childLanes?LI(t,e,n):(Kn(cr,cr.current&1),t=Gl(t,e,n),t!==null?t.sibling:null);Kn(cr,cr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kn(cr,cr.current),r)break;return null;case 22:case 23:return e.lanes=0,PI(t,e,n)}return Gl(t,e,n)}var DI,Ax,OI,MI;DI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ax=function(){};OI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ad($a.current);var s=null;switch(n){case"input":i=K_(t,i),r=K_(t,r),s=[];break;case"select":i=hr({},i,{value:void 0}),r=hr({},r,{value:void 0}),s=[];break;case"textarea":i=X_(t,i),r=X_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=t1)}Z_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};MI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mp(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Si(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rU(t,e,n){var r=e.pendingProps;switch(Eb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(e),null;case 1:return ws(e.type)&&n1(),Si(e),null;case 3:return r=e.stateNode,kf(),nr(ys),nr(Di),Lb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(P0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wo!==null&&(jx(Wo),Wo=null))),Ax(t,e),Si(e),null;case 5:Rb(e);var i=ad(zm.current);if(n=e.type,t!==null&&e.stateNode!=null)OI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return Si(e),null}if(t=ad($a.current),P0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Da]=e,r[Um]=s,t=(e.mode&1)!==0,n){case"dialog":Zn("cancel",r),Zn("close",r);break;case"iframe":case"object":case"embed":Zn("load",r);break;case"video":case"audio":for(i=0;i<Xp.length;i++)Zn(Xp[i],r);break;case"source":Zn("error",r);break;case"img":case"image":case"link":Zn("error",r),Zn("load",r);break;case"details":Zn("toggle",r);break;case"input":lA(r,s),Zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zn("invalid",r);break;case"textarea":uA(r,s),Zn("invalid",r)}Z_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&k0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&k0(r.textContent,a,t),i=["children",""+a]):Pm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zn("scroll",r)}switch(n){case"input":x0(r),cA(r,s,!0);break;case"textarea":x0(r),dA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=t1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Da]=e,t[Um]=r,DI(t,e,!1,!1),e.stateNode=t;e:{switch(o=ex(n,r),n){case"dialog":Zn("cancel",t),Zn("close",t),i=r;break;case"iframe":case"object":case"embed":Zn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xp.length;i++)Zn(Xp[i],t);i=r;break;case"source":Zn("error",t),i=r;break;case"img":case"image":case"link":Zn("error",t),Zn("load",t),i=r;break;case"details":Zn("toggle",t),i=r;break;case"input":lA(t,r),i=K_(t,r),Zn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hr({},r,{value:void 0}),Zn("invalid",t);break;case"textarea":uA(t,r),i=X_(t,r),Zn("invalid",t);break;default:i=r}Z_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?p3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Im(t,l):typeof l=="number"&&Im(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zn("scroll",t):l!=null&&cb(t,s,l,o))}switch(n){case"input":x0(t),cA(t,r,!1);break;case"textarea":x0(t),dA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Kh(t,!!r.multiple,s,!1):r.defaultValue!=null&&Kh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=t1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Si(e),null;case 6:if(t&&e.stateNode!=null)MI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=ad(zm.current),ad($a.current),P0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Da]=e,(s=r.nodeValue!==n)&&(t=Xs,t!==null))switch(t.tag){case 3:k0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&k0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Da]=e,e.stateNode=r}return Si(e),null;case 13:if(nr(cr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ar&&Gs!==null&&e.mode&1&&!(e.flags&128))tI(),Cf(),e.flags|=98560,s=!1;else if(s=P0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Da]=e}else Cf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Si(e),s=!1}else Wo!==null&&(jx(Wo),Wo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cr.current&1?Hr===0&&(Hr=3):Hb())),e.updateQueue!==null&&(e.flags|=4),Si(e),null);case 4:return kf(),Ax(t,e),t===null&&Fm(e.stateNode.containerInfo),Si(e),null;case 10:return Tb(e.type._context),Si(e),null;case 17:return ws(e.type)&&n1(),Si(e),null;case 19:if(nr(cr),s=e.memoizedState,s===null)return Si(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mp(s,!1);else{if(Hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=c1(t),o!==null){for(e.flags|=128,Mp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Kn(cr,cr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pr()>If&&(e.flags|=128,r=!0,Mp(s,!1),e.lanes=4194304)}else{if(!r)if(t=c1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return Si(e),null}else 2*Pr()-s.renderingStartTime>If&&n!==1073741824&&(e.flags|=128,r=!0,Mp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pr(),e.sibling=null,n=cr.current,Kn(cr,r?n&1|2:n&1),e):(Si(e),null);case 22:case 23:return qb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qs&1073741824&&(Si(e),e.subtreeFlags&6&&(e.flags|=8192)):Si(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function iU(t,e){switch(Eb(e),e.tag){case 1:return ws(e.type)&&n1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kf(),nr(ys),nr(Di),Lb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Rb(e),null;case 13:if(nr(cr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Cf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nr(cr),null;case 4:return kf(),null;case 10:return Tb(e.type._context),null;case 22:case 23:return qb(),null;case 24:return null;default:return null}}var L0=!1,Ii=!1,sU=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function qh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(t,e,r)}else n.current=null}function Cx(t,e,n){try{n()}catch(r){wr(t,e,r)}}var e4=!1;function oU(t,e){if(ux=Jv,t=z3(),bb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,g=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)g=f,f=h;for(;;){if(f===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(l=o),(h=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dx={focusedElem:t,selectionRange:n},Jv=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,x=_.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vo(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(R){wr(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return _=e4,e4=!1,_}function fm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cx(e,n,s)}i=i.next}while(i!==r)}}function Ny(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FI(t){var e=t.alternate;e!==null&&(t.alternate=null,FI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Da],delete e[Um],delete e[px],delete e[zB],delete e[$B])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BI(t){return t.tag===5||t.tag===3||t.tag===4}function t4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=t1));else if(r!==4&&(t=t.child,t!==null))for(kx(t,e,n),t=t.sibling;t!==null;)kx(t,e,n),t=t.sibling}function Px(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Px(t,e,n),t=t.sibling;t!==null;)Px(t,e,n),t=t.sibling}var ui=null,Ho=!1;function bc(t,e,n){for(n=n.child;n!==null;)UI(t,e,n),n=n.sibling}function UI(t,e,n){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(vy,n)}catch{}switch(n.tag){case 5:Ii||qh(n,e);case 6:var r=ui,i=Ho;ui=null,bc(t,e,n),ui=r,Ho=i,ui!==null&&(Ho?(t=ui,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:ui!==null&&(Ho?(t=ui,n=n.stateNode,t.nodeType===8?vw(t.parentNode,n):t.nodeType===1&&vw(t,n),Dm(t)):vw(ui,n.stateNode));break;case 4:r=ui,i=Ho,ui=n.stateNode.containerInfo,Ho=!0,bc(t,e,n),ui=r,Ho=i;break;case 0:case 11:case 14:case 15:if(!Ii&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cx(n,e,o),i=i.next}while(i!==r)}bc(t,e,n);break;case 1:if(!Ii&&(qh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wr(n,e,a)}bc(t,e,n);break;case 21:bc(t,e,n);break;case 22:n.mode&1?(Ii=(r=Ii)||n.memoizedState!==null,bc(t,e,n),Ii=r):bc(t,e,n);break;default:bc(t,e,n)}}function n4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sU),e.forEach(function(r){var i=mU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ui=a.stateNode,Ho=!1;break e;case 3:ui=a.stateNode.containerInfo,Ho=!0;break e;case 4:ui=a.stateNode.containerInfo,Ho=!0;break e}a=a.return}if(ui===null)throw Error(Ue(160));UI(s,o,i),ui=null,Ho=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){wr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VI(e,t),e=e.sibling}function VI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mo(e,t),Ca(t),r&4){try{fm(3,t,t.return),Ny(3,t)}catch(y){wr(t,t.return,y)}try{fm(5,t,t.return)}catch(y){wr(t,t.return,y)}}break;case 1:Mo(e,t),Ca(t),r&512&&n!==null&&qh(n,n.return);break;case 5:if(Mo(e,t),Ca(t),r&512&&n!==null&&qh(n,n.return),t.flags&32){var i=t.stateNode;try{Im(i,"")}catch(y){wr(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&c3(i,s),ex(a,o);var c=ex(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?p3(i,f):d==="dangerouslySetInnerHTML"?h3(i,f):d==="children"?Im(i,f):cb(i,d,f,c)}switch(a){case"input":Y_(i,s);break;case"textarea":u3(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Kh(i,!!s.multiple,h,!1):g!==!!s.multiple&&(s.defaultValue!=null?Kh(i,!!s.multiple,s.defaultValue,!0):Kh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Um]=s}catch(y){wr(t,t.return,y)}}break;case 6:if(Mo(e,t),Ca(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){wr(t,t.return,y)}}break;case 3:if(Mo(e,t),Ca(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dm(e.containerInfo)}catch(y){wr(t,t.return,y)}break;case 4:Mo(e,t),Ca(t);break;case 13:Mo(e,t),Ca(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zb=Pr())),r&4&&n4(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ii=(c=Ii)||d,Mo(e,t),Ii=c):Mo(e,t),Ca(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Xe=t,d=t.child;d!==null;){for(f=Xe=d;Xe!==null;){switch(g=Xe,h=g.child,g.tag){case 0:case 11:case 14:case 15:fm(4,g,g.return);break;case 1:qh(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){wr(r,n,y)}}break;case 5:qh(g,g.return);break;case 22:if(g.memoizedState!==null){i4(f);continue}}h!==null?(h.return=g,Xe=h):i4(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=f3("display",o))}catch(y){wr(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){wr(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mo(e,t),Ca(t),r&4&&n4(t);break;case 21:break;default:Mo(e,t),Ca(t)}}function Ca(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(BI(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Im(i,""),r.flags&=-33);var s=t4(t);Px(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=t4(t);kx(t,a,o);break;default:throw Error(Ue(161))}}catch(l){wr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aU(t,e,n){Xe=t,zI(t)}function zI(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||L0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ii;a=L0;var c=Ii;if(L0=o,(Ii=l)&&!c)for(Xe=i;Xe!==null;)o=Xe,l=o.child,o.tag===22&&o.memoizedState!==null?s4(i):l!==null?(l.return=o,Xe=l):s4(i);for(;s!==null;)Xe=s,zI(s),s=s.sibling;Xe=i,L0=a,Ii=c}r4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Xe=s):r4(t)}}function r4(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ii||Ny(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ii)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&VA(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}VA(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Dm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Ii||e.flags&512&&Tx(e)}catch(g){wr(e,e.return,g)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function i4(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function s4(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ny(4,e)}catch(l){wr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wr(e,i,l)}}var s=e.return;try{Tx(e)}catch(l){wr(e,s,l)}break;case 5:var o=e.return;try{Tx(e)}catch(l){wr(e,o,l)}}}catch(l){wr(e,e.return,l)}if(e===t){Xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Xe=a;break}Xe=e.return}}var lU=Math.ceil,h1=tc.ReactCurrentDispatcher,Ub=tc.ReactCurrentOwner,xo=tc.ReactCurrentBatchConfig,yn=0,ri=null,Fr=null,pi=0,qs=0,Hh=Pu(0),Hr=0,Wm=null,Ad=0,Ay=0,Vb=0,pm=null,ps=null,zb=0,If=1/0,Il=null,f1=!1,Ix=null,ru=null,j0=!1,Kc=null,p1=0,mm=0,Rx=null,wv=-1,_v=0;function Xi(){return yn&6?Pr():wv!==-1?wv:wv=Pr()}function iu(t){return t.mode&1?yn&2&&pi!==0?pi&-pi:HB.transition!==null?(_v===0&&(_v=A3()),_v):(t=Dn,t!==0||(t=window.event,t=t===void 0?16:L3(t.type)),t):1}function Qo(t,e,n,r){if(50<mm)throw mm=0,Rx=null,Error(Ue(185));Ng(t,n,r),(!(yn&2)||t!==ri)&&(t===ri&&(!(yn&2)&&(Ay|=n),Hr===4&&jc(t,pi)),_s(t,r),n===1&&yn===0&&!(e.mode&1)&&(If=Pr()+500,by&&Iu()))}function _s(t,e){var n=t.callbackNode;H9(t,e);var r=Xv(t,t===ri?pi:0);if(r===0)n!==null&&pA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pA(n),e===1)t.tag===0?qB(o4.bind(null,t)):J3(o4.bind(null,t)),UB(function(){!(yn&6)&&Iu()}),n=null;else{switch(C3(r)){case 1:n=pb;break;case 4:n=E3;break;case 16:n=Qv;break;case 536870912:n=N3;break;default:n=Qv}n=QI(n,$I.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $I(t,e){if(wv=-1,_v=0,yn&6)throw Error(Ue(327));var n=t.callbackNode;if(Zh()&&t.callbackNode!==n)return null;var r=Xv(t,t===ri?pi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=m1(t,r);else{e=r;var i=yn;yn|=2;var s=HI();(ri!==t||pi!==e)&&(Il=null,If=Pr()+500,yd(t,e));do try{dU();break}catch(a){qI(t,a)}while(!0);Cb(),h1.current=s,yn=i,Fr!==null?e=0:(ri=null,pi=0,e=Hr)}if(e!==0){if(e===2&&(i=sx(t),i!==0&&(r=i,e=Lx(t,i))),e===1)throw n=Wm,yd(t,0),jc(t,r),_s(t,Pr()),n;if(e===6)jc(t,r);else{if(i=t.current.alternate,!(r&30)&&!cU(i)&&(e=m1(t,r),e===2&&(s=sx(t),s!==0&&(r=s,e=Lx(t,s))),e===1))throw n=Wm,yd(t,0),jc(t,r),_s(t,Pr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:ed(t,ps,Il);break;case 3:if(jc(t,r),(r&130023424)===r&&(e=zb+500-Pr(),10<e)){if(Xv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fx(ed.bind(null,t,ps,Il),e);break}ed(t,ps,Il);break;case 4:if(jc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lU(r/1960))-r,10<r){t.timeoutHandle=fx(ed.bind(null,t,ps,Il),r);break}ed(t,ps,Il);break;case 5:ed(t,ps,Il);break;default:throw Error(Ue(329))}}}return _s(t,Pr()),t.callbackNode===n?$I.bind(null,t):null}function Lx(t,e){var n=pm;return t.current.memoizedState.isDehydrated&&(yd(t,e).flags|=256),t=m1(t,e),t!==2&&(e=ps,ps=n,e!==null&&jx(e)),t}function jx(t){ps===null?ps=t:ps.push.apply(ps,t)}function cU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jc(t,e){for(e&=~Vb,e&=~Ay,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yo(e),r=1<<n;t[n]=-1,e&=~r}}function o4(t){if(yn&6)throw Error(Ue(327));Zh();var e=Xv(t,0);if(!(e&1))return _s(t,Pr()),null;var n=m1(t,e);if(t.tag!==0&&n===2){var r=sx(t);r!==0&&(e=r,n=Lx(t,r))}if(n===1)throw n=Wm,yd(t,0),jc(t,e),_s(t,Pr()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ed(t,ps,Il),_s(t,Pr()),null}function $b(t,e){var n=yn;yn|=1;try{return t(e)}finally{yn=n,yn===0&&(If=Pr()+500,by&&Iu())}}function Cd(t){Kc!==null&&Kc.tag===0&&!(yn&6)&&Zh();var e=yn;yn|=1;var n=xo.transition,r=Dn;try{if(xo.transition=null,Dn=1,t)return t()}finally{Dn=r,xo.transition=n,yn=e,!(yn&6)&&Iu()}}function qb(){qs=Hh.current,nr(Hh)}function yd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BB(n)),Fr!==null)for(n=Fr.return;n!==null;){var r=n;switch(Eb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&n1();break;case 3:kf(),nr(ys),nr(Di),Lb();break;case 5:Rb(r);break;case 4:kf();break;case 13:nr(cr);break;case 19:nr(cr);break;case 10:Tb(r.type._context);break;case 22:case 23:qb()}n=n.return}if(ri=t,Fr=t=su(t.current,null),pi=qs=e,Hr=0,Wm=null,Vb=Ay=Ad=0,ps=pm=null,od!==null){for(e=0;e<od.length;e++)if(n=od[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}od=null}return t}function qI(t,e){do{var n=Fr;try{if(Cb(),gv.current=d1,u1){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}u1=!1}if(Nd=0,Zr=$r=dr=null,hm=!1,$m=0,Ub.current=null,n===null||n.return===null){Hr=1,Wm=e,Fr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=GA(o);if(h!==null){h.flags&=-257,KA(h,o,a,s,e),h.mode&1&&WA(s,c,e),e=h,l=c;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){WA(s,c,e),Hb();break e}l=Error(Ue(426))}}else if(ar&&a.mode&1){var x=GA(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),KA(x,o,a,s,e),Nb(Pf(l,a));break e}}s=l=Pf(l,a),Hr!==4&&(Hr=2),pm===null?pm=[s]:pm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=CI(s,l,e);UA(s,w);break e;case 1:a=l;var b=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ru===null||!ru.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=TI(s,a,e);UA(s,R);break e}}s=s.return}while(s!==null)}GI(n)}catch(z){e=z,Fr===n&&n!==null&&(Fr=n=n.return);continue}break}while(!0)}function HI(){var t=h1.current;return h1.current=d1,t===null?d1:t}function Hb(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),ri===null||!(Ad&268435455)&&!(Ay&268435455)||jc(ri,pi)}function m1(t,e){var n=yn;yn|=2;var r=HI();(ri!==t||pi!==e)&&(Il=null,yd(t,e));do try{uU();break}catch(i){qI(t,i)}while(!0);if(Cb(),yn=n,h1.current=r,Fr!==null)throw Error(Ue(261));return ri=null,pi=0,Hr}function uU(){for(;Fr!==null;)WI(Fr)}function dU(){for(;Fr!==null&&!O9();)WI(Fr)}function WI(t){var e=YI(t.alternate,t,qs);t.memoizedProps=t.pendingProps,e===null?GI(t):Fr=e,Ub.current=null}function GI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iU(n,e),n!==null){n.flags&=32767,Fr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Hr=6,Fr=null;return}}else if(n=rU(n,e,qs),n!==null){Fr=n;return}if(e=e.sibling,e!==null){Fr=e;return}Fr=e=t}while(e!==null);Hr===0&&(Hr=5)}function ed(t,e,n){var r=Dn,i=xo.transition;try{xo.transition=null,Dn=1,hU(t,e,n,r)}finally{xo.transition=i,Dn=r}return null}function hU(t,e,n,r){do Zh();while(Kc!==null);if(yn&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(W9(t,s),t===ri&&(Fr=ri=null,pi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||j0||(j0=!0,QI(Qv,function(){return Zh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xo.transition,xo.transition=null;var o=Dn;Dn=1;var a=yn;yn|=4,Ub.current=null,oU(t,n),VI(n,t),RB(dx),Jv=!!ux,dx=ux=null,t.current=n,aU(n),M9(),yn=a,Dn=o,xo.transition=s}else t.current=n;if(j0&&(j0=!1,Kc=t,p1=i),s=t.pendingLanes,s===0&&(ru=null),U9(n.stateNode),_s(t,Pr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(f1)throw f1=!1,t=Ix,Ix=null,t;return p1&1&&t.tag!==0&&Zh(),s=t.pendingLanes,s&1?t===Rx?mm++:(mm=0,Rx=t):mm=0,Iu(),null}function Zh(){if(Kc!==null){var t=C3(p1),e=xo.transition,n=Dn;try{if(xo.transition=null,Dn=16>t?16:t,Kc===null)var r=!1;else{if(t=Kc,Kc=null,p1=0,yn&6)throw Error(Ue(331));var i=yn;for(yn|=4,Xe=t.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var d=Xe;switch(d.tag){case 0:case 11:case 15:fm(8,d,s)}var f=d.child;if(f!==null)f.return=d,Xe=f;else for(;Xe!==null;){d=Xe;var g=d.sibling,h=d.return;if(FI(d),d===c){Xe=null;break}if(g!==null){g.return=h,Xe=g;break}Xe=h}}}var _=s.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fm(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Xe=w;break e}Xe=s.return}}var b=t.current;for(Xe=b;Xe!==null;){o=Xe;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Xe=N;else e:for(o=b;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ny(9,a)}}catch(z){wr(a,a.return,z)}if(a===o){Xe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Xe=R;break e}Xe=a.return}}if(yn=i,Iu(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(vy,t)}catch{}r=!0}return r}finally{Dn=n,xo.transition=e}}return!1}function a4(t,e,n){e=Pf(n,e),e=CI(t,e,1),t=nu(t,e,1),e=Xi(),t!==null&&(Ng(t,1,e),_s(t,e))}function wr(t,e,n){if(t.tag===3)a4(t,t,n);else for(;e!==null;){if(e.tag===3){a4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ru===null||!ru.has(r))){t=Pf(n,t),t=TI(e,t,1),e=nu(e,t,1),t=Xi(),e!==null&&(Ng(e,1,t),_s(e,t));break}}e=e.return}}function fU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xi(),t.pingedLanes|=t.suspendedLanes&n,ri===t&&(pi&n)===n&&(Hr===4||Hr===3&&(pi&130023424)===pi&&500>Pr()-zb?yd(t,0):Vb|=n),_s(t,e)}function KI(t,e){e===0&&(t.mode&1?(e=E0,E0<<=1,!(E0&130023424)&&(E0=4194304)):e=1);var n=Xi();t=Wl(t,e),t!==null&&(Ng(t,e,n),_s(t,n))}function pU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),KI(t,n)}function mU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),KI(t,n)}var YI;YI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ys.current)ms=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ms=!1,nU(t,e,n);ms=!!(t.flags&131072)}else ms=!1,ar&&e.flags&1048576&&Z3(e,s1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yv(t,e),t=e.pendingProps;var i=Af(e,Di.current);Jh(e,n),i=Db(null,e,r,t,i,n);var s=Ob();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ws(r)?(s=!0,r1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pb(e),i.updater=Ey,e.stateNode=i,i._reactInternals=e,_x(e,r,t,n),e=Sx(null,e,r,!0,s,n)):(e.tag=0,ar&&s&&Sb(e),Gi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vU(r),t=Vo(r,t),i){case 0:e=bx(null,e,r,t,n);break e;case 1:e=XA(null,e,r,t,n);break e;case 11:e=YA(null,e,r,t,n);break e;case 14:e=QA(null,e,r,Vo(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),bx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),XA(t,e,r,i,n);case 3:e:{if(RI(e),t===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,sI(t,e),l1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pf(Error(Ue(423)),e),e=JA(t,e,r,n,i);break e}else if(r!==i){i=Pf(Error(Ue(424)),e),e=JA(t,e,r,n,i);break e}else for(Gs=tu(e.stateNode.containerInfo.firstChild),Xs=e,ar=!0,Wo=null,n=rI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cf(),r===i){e=Gl(t,e,n);break e}Gi(t,e,r,n)}e=e.child}return e;case 5:return oI(e),t===null&&vx(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hx(r,i)?o=null:s!==null&&hx(r,s)&&(e.flags|=32),II(t,e),Gi(t,e,o,n),e.child;case 6:return t===null&&vx(e),null;case 13:return LI(t,e,n);case 4:return Ib(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tf(e,null,r,n):Gi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),YA(t,e,r,i,n);case 7:return Gi(t,e,e.pendingProps,n),e.child;case 8:return Gi(t,e,e.pendingProps.children,n),e.child;case 12:return Gi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Kn(o1,r._currentValue),r._currentValue=o,s!==null)if(Xo(s.value,o)){if(s.children===i.children&&!ys.current){e=Gl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Vl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jh(e,n),i=Eo(i),r=r(i),e.flags|=1,Gi(t,e,r,n),e.child;case 14:return r=e.type,i=Vo(r,e.pendingProps),i=Vo(r.type,i),QA(t,e,r,i,n);case 15:return kI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vo(r,i),yv(t,e),e.tag=1,ws(r)?(t=!0,r1(e)):t=!1,Jh(e,n),AI(e,r,i),_x(e,r,i,n),Sx(null,e,r,!0,t,n);case 19:return jI(t,e,n);case 22:return PI(t,e,n)}throw Error(Ue(156,e.tag))};function QI(t,e){return S3(t,e)}function gU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(t,e,n,r){return new gU(t,e,n,r)}function Wb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vU(t){if(typeof t=="function")return Wb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===db)return 11;if(t===hb)return 14}return 2}function su(t,e){var n=t.alternate;return n===null?(n=_o(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dh:return wd(n.children,i,s,e);case ub:o=8,i|=8;break;case q_:return t=_o(12,n,e,i|2),t.elementType=q_,t.lanes=s,t;case H_:return t=_o(13,n,e,i),t.elementType=H_,t.lanes=s,t;case W_:return t=_o(19,n,e,i),t.elementType=W_,t.lanes=s,t;case o3:return Cy(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i3:o=10;break e;case s3:o=9;break e;case db:o=11;break e;case hb:o=14;break e;case Ic:o=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=_o(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wd(t,e,n,r){return t=_o(7,t,r,e),t.lanes=n,t}function Cy(t,e,n,r){return t=_o(22,t,r,e),t.elementType=o3,t.lanes=n,t.stateNode={isHidden:!1},t}function Nw(t,e,n){return t=_o(6,t,null,e),t.lanes=n,t}function Aw(t,e,n){return e=_o(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ow(0),this.expirationTimes=ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ow(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gb(t,e,n,r,i,s,o,a,l){return t=new yU(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_o(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pb(s),t}function wU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function XI(t){if(!t)return gu;t=t._reactInternals;e:{if(Yd(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ws(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(ws(n))return X3(t,n,e)}return e}function JI(t,e,n,r,i,s,o,a,l){return t=Gb(n,r,!0,t,i,s,o,a,l),t.context=XI(null),n=t.current,r=Xi(),i=iu(n),s=Vl(r,i),s.callback=e??null,nu(n,s,i),t.current.lanes=i,Ng(t,i,r),_s(t,r),t}function Ty(t,e,n,r){var i=e.current,s=Xi(),o=iu(i);return n=XI(n),e.context===null?e.context=n:e.pendingContext=n,e=Vl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=nu(i,e,o),t!==null&&(Qo(t,i,o,s),mv(t,i,o)),o}function g1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kb(t,e){l4(t,e),(t=t.alternate)&&l4(t,e)}function _U(){return null}var ZI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yb(t){this._internalRoot=t}ky.prototype.render=Yb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Ty(t,e,null,null)};ky.prototype.unmount=Yb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cd(function(){Ty(null,t,null,null)}),e[Hl]=null}};function ky(t){this._internalRoot=t}ky.prototype.unstable_scheduleHydration=function(t){if(t){var e=P3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lc.length&&e!==0&&e<Lc[n].priority;n++);Lc.splice(n,0,t),n===0&&R3(t)}};function Qb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c4(){}function xU(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=g1(o);s.call(c)}}var o=JI(e,r,t,0,null,!1,!1,"",c4);return t._reactRootContainer=o,t[Hl]=o.current,Fm(t.nodeType===8?t.parentNode:t),Cd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=g1(l);a.call(c)}}var l=Gb(t,0,!1,null,null,!1,!1,"",c4);return t._reactRootContainer=l,t[Hl]=l.current,Fm(t.nodeType===8?t.parentNode:t),Cd(function(){Ty(e,l,n,r)}),l}function Iy(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=g1(o);a.call(l)}}Ty(e,o,t,i)}else o=xU(n,e,t,i,r);return g1(o)}T3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qp(e.pendingLanes);n!==0&&(mb(e,n|1),_s(e,Pr()),!(yn&6)&&(If=Pr()+500,Iu()))}break;case 13:Cd(function(){var r=Wl(t,1);if(r!==null){var i=Xi();Qo(r,t,1,i)}}),Kb(t,1)}};gb=function(t){if(t.tag===13){var e=Wl(t,134217728);if(e!==null){var n=Xi();Qo(e,t,134217728,n)}Kb(t,134217728)}};k3=function(t){if(t.tag===13){var e=iu(t),n=Wl(t,e);if(n!==null){var r=Xi();Qo(n,t,e,r)}Kb(t,e)}};P3=function(){return Dn};I3=function(t,e){var n=Dn;try{return Dn=t,e()}finally{Dn=n}};nx=function(t,e,n){switch(e){case"input":if(Y_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xy(r);if(!i)throw Error(Ue(90));l3(r),Y_(r,i)}}}break;case"textarea":u3(t,n);break;case"select":e=n.value,e!=null&&Kh(t,!!n.multiple,e,!1)}};v3=$b;y3=Cd;var bU={usingClientEntryPoint:!1,Events:[Cg,Bh,xy,m3,g3,$b]},Fp={findFiberByHostInstance:sd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SU={bundleType:Fp.bundleType,version:Fp.version,rendererPackageName:Fp.rendererPackageName,rendererConfig:Fp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x3(t),t===null?null:t.stateNode},findFiberByHostInstance:Fp.findFiberByHostInstance||_U,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var D0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!D0.isDisabled&&D0.supportsFiber)try{vy=D0.inject(SU),za=D0}catch{}}io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bU;io.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qb(e))throw Error(Ue(200));return wU(t,e,null,n)};io.createRoot=function(t,e){if(!Qb(t))throw Error(Ue(299));var n=!1,r="",i=ZI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gb(t,1,!1,null,null,n,!1,r,i),t[Hl]=e.current,Fm(t.nodeType===8?t.parentNode:t),new Yb(e)};io.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=x3(e),t=t===null?null:t.stateNode,t};io.flushSync=function(t){return Cd(t)};io.hydrate=function(t,e,n){if(!Py(e))throw Error(Ue(200));return Iy(null,t,e,!0,n)};io.hydrateRoot=function(t,e,n){if(!Qb(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ZI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=JI(e,null,t,1,n??null,i,!1,s,o),t[Hl]=e.current,Fm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ky(e)};io.render=function(t,e,n){if(!Py(e))throw Error(Ue(200));return Iy(null,t,e,!1,n)};io.unmountComponentAtNode=function(t){if(!Py(t))throw Error(Ue(40));return t._reactRootContainer?(Cd(function(){Iy(null,null,t,!1,function(){t._reactRootContainer=null,t[Hl]=null})}),!0):!1};io.unstable_batchedUpdates=$b;io.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Py(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return Iy(t,e,n,!1,r)};io.version="18.3.1-next-f1338f8080-20240426";function eR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eR)}catch(t){console.error(t)}}eR(),e3.exports=io;var Qd=e3.exports;const tR=VP(Qd);var nR,u4=Qd;nR=u4.createRoot,u4.hydrateRoot;const EU=1,NU=1e6;let Cw=0;function AU(){return Cw=(Cw+1)%Number.MAX_SAFE_INTEGER,Cw.toString()}const Tw=new Map,d4=t=>{if(Tw.has(t))return;const e=setTimeout(()=>{Tw.delete(t),gm({type:"REMOVE_TOAST",toastId:t})},NU);Tw.set(t,e)},CU=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,EU)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?d4(n):t.toasts.forEach(r=>{d4(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},bv=[];let Sv={toasts:[]};function gm(t){Sv=CU(Sv,t),bv.forEach(e=>{e(Sv)})}function Ht({...t}){const e=AU(),n=i=>gm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>gm({type:"DISMISS_TOAST",toastId:e});return gm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function nc(){const[t,e]=E.useState(Sv);return E.useEffect(()=>(bv.push(e),()=>{const n=bv.indexOf(e);n>-1&&bv.splice(n,1)}),[t]),{...t,toast:Ht,dismiss:n=>gm({type:"DISMISS_TOAST",toastId:n})}}function ft(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function h4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Td(...t){return e=>{let n=!1;const r=t.map(i=>{const s=h4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():h4(t[i],null)}}}}function Xt(...t){return E.useCallback(Td(...t),t)}function TU(t,e){const n=E.createContext(e),r=s=>{const{children:o,...a}=s,l=E.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=E.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function sa(t,e=[]){let n=[];function r(s,o){const a=E.createContext(o),l=n.length;n=[...n,o];const c=f=>{var w;const{scope:g,children:h,..._}=f,y=((w=g==null?void 0:g[t])==null?void 0:w[l])||a,x=E.useMemo(()=>_,Object.values(_));return u.jsx(y.Provider,{value:x,children:h})};c.displayName=s+"Provider";function d(f,g){var y;const h=((y=g==null?void 0:g[t])==null?void 0:y[l])||a,_=E.useContext(h);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return E.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,kU(i,...e)]}function kU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kd(t){const e=IU(t),n=E.forwardRef((r,i)=>{const{children:s,...o}=r,a=E.Children.toArray(s),l=a.find(RU);if(l){const c=l.props.children,d=a.map(f=>f===l?E.Children.count(c)>1?E.Children.only(null):E.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:i,children:E.isValidElement(c)?E.cloneElement(c,void 0,d):null})}return u.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var PU=kd("Slot");function IU(t){const e=E.forwardRef((n,r)=>{const{children:i,...s}=n;if(E.isValidElement(i)){const o=jU(i),a=LU(s,i.props);return i.type!==E.Fragment&&(a.ref=r?Td(r,o):o),E.cloneElement(i,a)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rR=Symbol("radix.slottable");function iR(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rR,e}function RU(t){return E.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rR}function LU(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sR(t){const e=t+"CollectionProvider",[n,r]=sa(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:x,children:w}=y,b=$e.useRef(null),N=$e.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:N,collectionRef:b,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=kd(a),c=$e.forwardRef((y,x)=>{const{scope:w,children:b}=y,N=s(a,w),R=Xt(x,N.collectionRef);return u.jsx(l,{ref:R,children:b})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=kd(d),h=$e.forwardRef((y,x)=>{const{scope:w,children:b,...N}=y,R=$e.useRef(null),z=Xt(x,R),U=s(d,w);return $e.useEffect(()=>(U.itemMap.set(R,{ref:R,...N}),()=>void U.itemMap.delete(R))),u.jsx(g,{[f]:"",ref:z,children:b})});h.displayName=d;function _(y){const x=s(t+"CollectionConsumer",y);return $e.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const N=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((U,I)=>N.indexOf(U.ref.current)-N.indexOf(I.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},_,r]}var DU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=DU.reduce((t,e)=>{const n=kd(`Primitive.${e}`),r=E.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function oR(t,e){t&&Qd.flushSync(()=>t.dispatchEvent(e))}function ti(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t}),E.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function OU(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var MU="DismissableLayer",Dx="dismissableLayer.update",FU="dismissableLayer.pointerDownOutside",BU="dismissableLayer.focusOutside",f4,aR=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jf=E.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=E.useContext(aR),[d,f]=E.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=E.useState({}),_=Xt(e,I=>f(I)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),b=d?y.indexOf(d):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,R=b>=w,z=VU(I=>{const k=I.target,P=[...c.branches].some(M=>M.contains(k));!R||P||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),U=zU(I=>{const k=I.target;[...c.branches].some(M=>M.contains(k))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return OU(I=>{b===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),E.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(f4=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),p4(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=f4)}},[d,g,n,c]),E.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),p4())},[d,c]),E.useEffect(()=>{const I=()=>h({});return document.addEventListener(Dx,I),()=>document.removeEventListener(Dx,I)},[]),u.jsx(mt.div,{...l,ref:_,style:{pointerEvents:N?R?"auto":"none":void 0,...t.style},onFocusCapture:ft(t.onFocusCapture,U.onFocusCapture),onBlurCapture:ft(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:ft(t.onPointerDownCapture,z.onPointerDownCapture)})});Jf.displayName=MU;var UU="DismissableLayerBranch",lR=E.forwardRef((t,e)=>{const n=E.useContext(aR),r=E.useRef(null),i=Xt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(mt.div,{...t,ref:i})});lR.displayName=UU;function VU(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){cR(FU,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zU(t,e=globalThis==null?void 0:globalThis.document){const n=ti(t),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&cR(BU,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p4(){const t=new CustomEvent(Dx);document.dispatchEvent(t)}function cR(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?oR(i,s):i.dispatchEvent(s)}var $U=Jf,qU=lR,Kr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},HU="Portal",kg=E.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=E.useState(!1);Kr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?tR.createPortal(u.jsx(mt.div,{...r,ref:e}),o):null});kg.displayName=HU;function WU(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var oo=t=>{const{present:e,children:n}=t,r=GU(e),i=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),s=Xt(r.ref,KU(i));return typeof n=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};oo.displayName="Presence";function GU(t){const[e,n]=E.useState(),r=E.useRef(null),i=E.useRef(t),s=E.useRef("none"),o=t?"mounted":"unmounted",[a,l]=WU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=O0(r.current);s.current=a==="mounted"?c:"none"},[a]),Kr(()=>{const c=r.current,d=i.current;if(d!==t){const g=s.current,h=O0(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&g!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Kr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=h=>{const y=O0(r.current).includes(h.animationName);if(h.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=h=>{h.target===e&&(s.current=O0(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function O0(t){return(t==null?void 0:t.animationName)||"none"}function KU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YU=JP[" useInsertionEffect ".trim().toString()]||Kr;function Pd({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=QU({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=E.useRef(t!==void 0);E.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=E.useCallback(d=>{var f;if(a){const g=XU(d)?d(t):d;g!==t&&((f=o.current)==null||f.call(o,g))}else s(d)},[a,t,s,o]);return[l,c]}function QU({defaultProp:t,onChange:e}){const[n,r]=E.useState(t),i=E.useRef(n),s=E.useRef(e);return YU(()=>{s.current=e},[e]),E.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function XU(t){return typeof t=="function"}var uR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JU="VisuallyHidden",Ry=E.forwardRef((t,e)=>u.jsx(mt.span,{...t,ref:e,style:{...uR,...t.style}}));Ry.displayName=JU;var ZU=Ry,Xb="ToastProvider",[Jb,eV,tV]=sR("Toast"),[dR,Cde]=sa("Toast",[tV]),[nV,Ly]=dR(Xb),hR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=E.useState(null),[c,d]=E.useState(0),f=E.useRef(!1),g=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xb}\`. Expected non-empty \`string\`.`),u.jsx(Jb.Provider,{scope:e,children:u.jsx(nV,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>d(h=>h+1),[]),onToastRemove:E.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};hR.displayName=Xb;var fR="ToastViewport",rV=["F8"],Ox="toast.viewportPause",Mx="toast.viewportResume",pR=E.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=rV,label:i="Notifications ({hotkey})",...s}=t,o=Ly(fR,n),a=eV(n),l=E.useRef(null),c=E.useRef(null),d=E.useRef(null),f=E.useRef(null),g=Xt(e,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;E.useEffect(()=>{const x=w=>{var N;r.length!==0&&r.every(R=>w[R]||w.code===R)&&((N=f.current)==null||N.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),E.useEffect(()=>{const x=l.current,w=f.current;if(_&&x&&w){const b=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(Ox);w.dispatchEvent(U),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(Mx);w.dispatchEvent(U),o.isClosePausedRef.current=!1}},R=U=>{!x.contains(U.relatedTarget)&&N()},z=()=>{x.contains(document.activeElement)||N()};return x.addEventListener("focusin",b),x.addEventListener("focusout",R),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",z),window.addEventListener("blur",b),window.addEventListener("focus",N),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",R),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",z),window.removeEventListener("blur",b),window.removeEventListener("focus",N)}}},[_,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:x})=>{const b=a().map(N=>{const R=N.ref.current,z=[R,...gV(R)];return x==="forwards"?z:z.reverse()});return(x==="forwards"?b.reverse():b).flat()},[a]);return E.useEffect(()=>{const x=f.current;if(x){const w=b=>{var z,U,I;const N=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!N){const k=document.activeElement,P=b.shiftKey;if(b.target===x&&P){(z=c.current)==null||z.focus();return}const L=y({tabbingDirection:P?"backwards":"forwards"}),O=L.findIndex(W=>W===k);kw(L.slice(O+1))?b.preventDefault():P?(U=c.current)==null||U.focus():(I=d.current)==null||I.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,y]),u.jsxs(qU,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&u.jsx(Fx,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});kw(x)}}),u.jsx(Jb.Slot,{scope:n,children:u.jsx(mt.ol,{tabIndex:-1,...s,ref:g})}),_&&u.jsx(Fx,{ref:d,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});kw(x)}})]})});pR.displayName=fR;var mR="ToastFocusProxy",Fx=E.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Ly(mR,n);return u.jsx(Ry,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Fx.displayName=mR;var Pg="Toast",iV="toast.swipeStart",sV="toast.swipeMove",oV="toast.swipeCancel",aV="toast.swipeEnd",gR=E.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=Pd({prop:r,defaultProp:i??!0,onChange:s,caller:Pg});return u.jsx(oo,{present:n||a,children:u.jsx(uV,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ti(t.onPause),onResume:ti(t.onResume),onSwipeStart:ft(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ft(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ft(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ft(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});gR.displayName=Pg;var[lV,cV]=dR(Pg,{onClose(){}}),uV=E.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:h,..._}=t,y=Ly(Pg,n),[x,w]=E.useState(null),b=Xt(e,W=>w(W)),N=E.useRef(null),R=E.useRef(null),z=i||y.duration,U=E.useRef(0),I=E.useRef(z),k=E.useRef(0),{onToastAdd:P,onToastRemove:M}=y,T=ti(()=>{var le;(x==null?void 0:x.contains(document.activeElement))&&((le=y.viewport)==null||le.focus()),o()}),L=E.useCallback(W=>{!W||W===1/0||(window.clearTimeout(k.current),U.current=new Date().getTime(),k.current=window.setTimeout(T,W))},[T]);E.useEffect(()=>{const W=y.viewport;if(W){const le=()=>{L(I.current),c==null||c()},fe=()=>{const oe=new Date().getTime()-U.current;I.current=I.current-oe,window.clearTimeout(k.current),l==null||l()};return W.addEventListener(Ox,fe),W.addEventListener(Mx,le),()=>{W.removeEventListener(Ox,fe),W.removeEventListener(Mx,le)}}},[y.viewport,z,l,c,L]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&L(z)},[s,z,y.isClosePausedRef,L]),E.useEffect(()=>(P(),()=>M()),[P,M]);const O=E.useMemo(()=>x?SR(x):null,[x]);return y.viewport?u.jsxs(u.Fragment,{children:[O&&u.jsx(dV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),u.jsx(lV,{scope:n,onClose:T,children:Qd.createPortal(u.jsx(Jb.ItemSlot,{scope:n,children:u.jsx($U,{asChild:!0,onEscapeKeyDown:ft(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||T(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,..._,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ft(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:ft(t.onPointerDown,W=>{W.button===0&&(N.current={x:W.clientX,y:W.clientY})}),onPointerMove:ft(t.onPointerMove,W=>{if(!N.current)return;const le=W.clientX-N.current.x,fe=W.clientY-N.current.y,oe=!!R.current,$=["left","right"].includes(y.swipeDirection),te=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,se=$?te(0,le):0,ge=$?0:te(0,fe),D=W.pointerType==="touch"?10:2,H={x:se,y:ge},Q={originalEvent:W,delta:H};oe?(R.current=H,M0(sV,f,Q,{discrete:!1})):m4(H,y.swipeDirection,D)?(R.current=H,M0(iV,d,Q,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(le)>D||Math.abs(fe)>D)&&(N.current=null)}),onPointerUp:ft(t.onPointerUp,W=>{const le=R.current,fe=W.target;if(fe.hasPointerCapture(W.pointerId)&&fe.releasePointerCapture(W.pointerId),R.current=null,N.current=null,le){const oe=W.currentTarget,$={originalEvent:W,delta:le};m4(le,y.swipeDirection,y.swipeThreshold)?M0(aV,h,$,{discrete:!0}):M0(oV,g,$,{discrete:!0}),oe.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),dV=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ly(Pg,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return pV(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(kg,{asChild:!0,children:u.jsx(Ry,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},hV="ToastTitle",vR=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(mt.div,{...r,ref:e})});vR.displayName=hV;var fV="ToastDescription",yR=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(mt.div,{...r,ref:e})});yR.displayName=fV;var wR="ToastAction",_R=E.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(bR,{altText:n,asChild:!0,children:u.jsx(Zb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${wR}\`. Expected non-empty \`string\`.`),null)});_R.displayName=wR;var xR="ToastClose",Zb=E.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=cV(xR,n);return u.jsx(bR,{asChild:!0,children:u.jsx(mt.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,i.onClose)})})});Zb.displayName=xR;var bR=E.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function SR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),mV(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...SR(r))}}),e}function M0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?oR(i,s):i.dispatchEvent(s)}var m4=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function pV(t=()=>{}){const e=ti(t);Kr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function mV(t){return t.nodeType===t.ELEMENT_NODE}function gV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var vV=hR,ER=pR,NR=gR,AR=vR,CR=yR,TR=_R,kR=Zb;function PR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=PR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function IR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=PR(t))&&(r&&(r+=" "),r+=e);return r}const g4=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,v4=IR,jy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return v4(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const g=g4(d)||g4(f);return i[c][g]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,g]=d;return g===void 0||(c[f]=g),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:g,...h}=d;return Object.entries(h).every(_=>{let[y,x]=_;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,f,g]:c},[]);return v4(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...wV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:RR("lucide",i),...a},[...o.map(([c,d])=>E.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(_V,{ref:s,iconNode:e,className:RR(`lucide-${yV(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Gt("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Gt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Gt("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Gt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Gt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Gt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=Gt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Gt("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=Gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=Gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=Gt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Gt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Gt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Gt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Gt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Gt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Gt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Gt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Gt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Gt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Gt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Gt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Gt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Gt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Gt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Gt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Gt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Gt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Gt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nS="-",UV=t=>{const e=zV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(nS);return a[0]===""&&a.length!==1&&a.shift(),FR(a,e)||VV(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},FR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?FR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(nS);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},w4=/^\[(.+)\]$/,VV=t=>{if(w4.test(t)){const e=w4.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return qV(Object.entries(t.classGroups),n).forEach(([s,o])=>{Vx(o,r,s,e)}),r},Vx=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:_4(e,i);s.classGroupId=n;return}if(typeof i=="function"){if($V(i)){Vx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Vx(o,_4(e,s),n,r)})})},_4=(t,e)=>{let n=t;return e.split(nS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$V=t=>t.isThemeGetter,qV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,HV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},BR="!",WV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(d,x)),d=x+s;continue}if(w==="/"){f=x;continue}}w==="["?c++:w==="]"&&c--}const g=l.length===0?a:a.substring(d),h=g.startsWith(BR),_=h?g.substring(1):g,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:_,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},GV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},KV=t=>({cache:HV(t.cacheSize),parseClassName:WV(t),...UV(t)}),YV=/\s+/,QV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(YV);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:h}=n(c);let _=!!h,y=r(_?g.substring(0,h):g);if(!y){if(!_){a=c+(a.length>0?" "+a:a);continue}if(y=r(g),!y){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=GV(d).join(":"),w=f?x+BR:x,b=w+y;if(s.includes(b))continue;s.push(b);const N=i(y,_);for(let R=0;R<N.length;++R){const z=N[R];s.push(w+z)}a=c+(a.length>0?" "+a:a)}return a};function XV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=UR(e))&&(r&&(r+=" "),r+=n);return r}const UR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=UR(t[r]))&&(n&&(n+=" "),n+=e);return n};function JV(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=KV(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=QV(l,n);return i(l,d),d}return function(){return s(XV.apply(null,arguments))}}const Jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VR=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZV=/^\d+\/\d+$/,ez=new Set(["px","full","screen"]),tz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Al=t=>ef(t)||ez.has(t)||ZV.test(t),Sc=t=>ep(t,"length",fz),ef=t=>!!t&&!Number.isNaN(Number(t)),Pw=t=>ep(t,"number",ef),Bp=t=>!!t&&Number.isInteger(Number(t)),oz=t=>t.endsWith("%")&&ef(t.slice(0,-1)),qt=t=>VR.test(t),Ec=t=>tz.test(t),az=new Set(["length","size","percentage"]),lz=t=>ep(t,az,zR),cz=t=>ep(t,"position",zR),uz=new Set(["image","url"]),dz=t=>ep(t,uz,mz),hz=t=>ep(t,"",pz),Up=()=>!0,ep=(t,e,n)=>{const r=VR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fz=t=>nz.test(t)&&!rz.test(t),zR=()=>!1,pz=t=>iz.test(t),mz=t=>sz.test(t),gz=()=>{const t=Jn("colors"),e=Jn("spacing"),n=Jn("blur"),r=Jn("brightness"),i=Jn("borderColor"),s=Jn("borderRadius"),o=Jn("borderSpacing"),a=Jn("borderWidth"),l=Jn("contrast"),c=Jn("grayscale"),d=Jn("hueRotate"),f=Jn("invert"),g=Jn("gap"),h=Jn("gradientColorStops"),_=Jn("gradientColorStopPositions"),y=Jn("inset"),x=Jn("margin"),w=Jn("opacity"),b=Jn("padding"),N=Jn("saturate"),R=Jn("scale"),z=Jn("sepia"),U=Jn("skew"),I=Jn("space"),k=Jn("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",qt,e],L=()=>[qt,e],O=()=>["",Al,Sc],W=()=>["auto",ef,qt],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",qt],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[ef,qt];return{cacheSize:500,separator:":",theme:{colors:[Up],spacing:[Al,Sc],blur:["none","",Ec,qt],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Ec,qt],borderSpacing:L(),borderWidth:O(),contrast:ge(),grayscale:te(),hueRotate:ge(),invert:te(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[oz,Sc],inset:T(),margin:T(),opacity:ge(),padding:L(),saturate:ge(),scale:ge(),sepia:te(),skew:ge(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[Ec]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),qt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bp,qt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Bp,qt]}],"grid-cols":[{"grid-cols":[Up]}],"col-start-end":[{col:["auto",{span:["full",Bp,qt]},qt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Up]}],"row-start-end":[{row:["auto",{span:[Bp,qt]},qt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,e]}],"min-w":[{"min-w":[qt,e,"min","max","fit"]}],"max-w":[{"max-w":[qt,e,"none","full","min","max","fit","prose",{screen:[Ec]},Ec]}],h:[{h:[qt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ec,Sc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pw]}],"font-family":[{font:[Up]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",ef,Pw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Al,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Al,Sc]}],"underline-offset":[{"underline-offset":["auto",Al,qt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),cz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:fe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[Al,qt]}],"outline-w":[{outline:[Al,Sc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Al,Sc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ec,hz]}],"shadow-color":[{shadow:[Up]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ec,qt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Bp,qt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Al,Sc,Pw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vz=JV(gz);function We(...t){return vz(IR(t))}const yz=vV,$R=E.forwardRef(({className:t,...e},n)=>u.jsx(ER,{ref:n,className:We("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));$R.displayName=ER.displayName;const wz=jy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qR=E.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(NR,{ref:r,className:We(wz({variant:e}),t),...n}));qR.displayName=NR.displayName;const _z=E.forwardRef(({className:t,...e},n)=>u.jsx(TR,{ref:n,className:We("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_z.displayName=TR.displayName;const HR=E.forwardRef(({className:t,...e},n)=>u.jsx(kR,{ref:n,className:We("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Oy,{className:"h-4 w-4"})}));HR.displayName=kR.displayName;const WR=E.forwardRef(({className:t,...e},n)=>u.jsx(AR,{ref:n,className:We("text-sm font-semibold",t),...e}));WR.displayName=AR.displayName;const GR=E.forwardRef(({className:t,...e},n)=>u.jsx(CR,{ref:n,className:We("text-sm opacity-90",t),...e}));GR.displayName=CR.displayName;function xz(){const{toasts:t}=nc();return u.jsxs(yz,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return u.jsxs(qR,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(WR,{children:n}),r&&u.jsx(GR,{children:r})]}),i,u.jsx(HR,{})]},e)}),u.jsx($R,{})]})}var x4=["light","dark"],bz="(prefers-color-scheme: dark)",Sz=E.createContext(void 0),Ez={setTheme:t=>{},themes:[]},Nz=()=>{var t;return(t=E.useContext(Sz))!=null?t:Ez};E.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?x4.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(_,y=!1,x=!0)=>{let w=o?o[_]:_,b=y?_+"|| ''":`'${w}'`,N="";return i&&x&&!y&&x4.includes(_)&&(N+=`d.style.colorScheme = '${_}';`),n==="class"?y||w?N+=`c.add(${b})`:N+="null":w&&(N+=`d[s](n,${b})`),N},h=t?`!function(){${d}${g(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${bz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${c?"":"else{"+g(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${f}}catch(t){}}();`;return E.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Az=t=>{switch(t){case"success":return kz;case"info":return Iz;case"warning":return Pz;case"error":return Rz;default:return null}},Cz=Array(12).fill(0),Tz=({visible:t,className:e})=>$e.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$e.createElement("div",{className:"sonner-spinner"},Cz.map((n,r)=>$e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kz=$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pz=$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Iz=$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rz=$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Lz=$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jz=()=>{let[t,e]=$e.useState(document.hidden);return $e.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zx=1,Dz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zx++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:a,title:r}):l):this.addToast({title:r,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],$e.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Mz(c)&&!c.ok){s=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){s=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){s=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||zx++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hs=new Dz,Oz=(t,e)=>{let n=(e==null?void 0:e.id)||zx++;return hs.addToast({title:t,...e,id:n}),n},Mz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Fz=Oz,Bz=()=>hs.toasts,Uz=()=>hs.getActiveToasts();Object.assign(Fz,{success:hs.success,info:hs.info,warning:hs.warning,error:hs.error,custom:hs.custom,message:hs.message,promise:hs.promise,dismiss:hs.dismiss,loading:hs.loading},{getHistory:Bz,getToasts:Uz});function Vz(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Vz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function F0(t){return t.label!==void 0}var zz=3,$z="32px",qz="16px",b4=4e3,Hz=356,Wz=14,Gz=20,Kz=200;function Fo(...t){return t.filter(Boolean).join(" ")}function Yz(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Qz=t=>{var e,n,r,i,s,o,a,l,c,d,f;let{invert:g,toast:h,unstyled:_,interacting:y,setHeights:x,visibleToasts:w,heights:b,index:N,toasts:R,expanded:z,removeToast:U,defaultRichColors:I,closeButton:k,style:P,cancelButtonStyle:M,actionButtonStyle:T,className:L="",descriptionClassName:O="",duration:W,position:le,gap:fe,loadingIcon:oe,expandByDefault:$,classNames:te,icons:se,closeButtonAriaLabel:ge="Close toast",pauseWhenPageIsHidden:D}=t,[H,Q]=$e.useState(null),[Z,ae]=$e.useState(null),[K,ue]=$e.useState(!1),[de,_e]=$e.useState(!1),[Ne,he]=$e.useState(!1),[Ee,ye]=$e.useState(!1),[ee,st]=$e.useState(!1),[ct,Je]=$e.useState(0),[De,ze]=$e.useState(0),Ve=$e.useRef(h.duration||W||b4),Nt=$e.useRef(null),Qe=$e.useRef(null),Jt=N===0,Pt=N+1<=w,He=h.type,_t=h.dismissible!==!1,At=h.className||"",ot=h.descriptionClassName||"",pt=$e.useMemo(()=>b.findIndex(vt=>vt.toastId===h.id)||0,[b,h.id]),lt=$e.useMemo(()=>{var vt;return(vt=h.closeButton)!=null?vt:k},[h.closeButton,k]),ln=$e.useMemo(()=>h.duration||W||b4,[h.duration,W]),Qt=$e.useRef(0),Ye=$e.useRef(0),bt=$e.useRef(0),nn=$e.useRef(null),[gt,Vt]=le.split("-"),Ct=$e.useMemo(()=>b.reduce((vt,St,Zt)=>Zt>=pt?vt:vt+St.height,0),[b,pt]),Bn=jz(),Un=h.invert||g,cn=He==="loading";Ye.current=$e.useMemo(()=>pt*fe+Ct,[pt,Ct]),$e.useEffect(()=>{Ve.current=ln},[ln]),$e.useEffect(()=>{ue(!0)},[]),$e.useEffect(()=>{let vt=Qe.current;if(vt){let St=vt.getBoundingClientRect().height;return ze(St),x(Zt=>[{toastId:h.id,height:St,position:h.position},...Zt]),()=>x(Zt=>Zt.filter(On=>On.toastId!==h.id))}},[x,h.id]),$e.useLayoutEffect(()=>{if(!K)return;let vt=Qe.current,St=vt.style.height;vt.style.height="auto";let Zt=vt.getBoundingClientRect().height;vt.style.height=St,ze(Zt),x(On=>On.find(Ze=>Ze.toastId===h.id)?On.map(Ze=>Ze.toastId===h.id?{...Ze,height:Zt}:Ze):[{toastId:h.id,height:Zt,position:h.position},...On])},[K,h.title,h.description,x,h.id]);let ut=$e.useCallback(()=>{_e(!0),Je(Ye.current),x(vt=>vt.filter(St=>St.toastId!==h.id)),setTimeout(()=>{U(h)},Kz)},[h,U,x,Ye]);$e.useEffect(()=>{if(h.promise&&He==="loading"||h.duration===1/0||h.type==="loading")return;let vt;return z||y||D&&Bn?(()=>{if(bt.current<Qt.current){let St=new Date().getTime()-Qt.current;Ve.current=Ve.current-St}bt.current=new Date().getTime()})():Ve.current!==1/0&&(Qt.current=new Date().getTime(),vt=setTimeout(()=>{var St;(St=h.onAutoClose)==null||St.call(h,h),ut()},Ve.current)),()=>clearTimeout(vt)},[z,y,h,He,D,Bn,ut]),$e.useEffect(()=>{h.delete&&ut()},[ut,h.delete]);function Wt(){var vt,St,Zt;return se!=null&&se.loading?$e.createElement("div",{className:Fo(te==null?void 0:te.loader,(vt=h==null?void 0:h.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":He==="loading"},se.loading):oe?$e.createElement("div",{className:Fo(te==null?void 0:te.loader,(St=h==null?void 0:h.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":He==="loading"},oe):$e.createElement(Tz,{className:Fo(te==null?void 0:te.loader,(Zt=h==null?void 0:h.classNames)==null?void 0:Zt.loader),visible:He==="loading"})}return $e.createElement("li",{tabIndex:0,ref:Qe,className:Fo(L,At,te==null?void 0:te.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,te==null?void 0:te.default,te==null?void 0:te[He],(n=h==null?void 0:h.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:I,"data-styled":!(h.jsx||h.unstyled||_),"data-mounted":K,"data-promise":!!h.promise,"data-swiped":ee,"data-removed":de,"data-visible":Pt,"data-y-position":gt,"data-x-position":Vt,"data-index":N,"data-front":Jt,"data-swiping":Ne,"data-dismissible":_t,"data-type":He,"data-invert":Un,"data-swipe-out":Ee,"data-swipe-direction":Z,"data-expanded":!!(z||$&&K),style:{"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${de?ct:Ye.current}px`,"--initial-height":$?"auto":`${De}px`,...P,...h.style},onDragEnd:()=>{he(!1),Q(null),nn.current=null},onPointerDown:vt=>{cn||!_t||(Nt.current=new Date,Je(Ye.current),vt.target.setPointerCapture(vt.pointerId),vt.target.tagName!=="BUTTON"&&(he(!0),nn.current={x:vt.clientX,y:vt.clientY}))},onPointerUp:()=>{var vt,St,Zt,On;if(Ee||!_t)return;nn.current=null;let Ze=Number(((vt=Qe.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fn=Number(((St=Qe.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jr=new Date().getTime()-((Zt=Nt.current)==null?void 0:Zt.getTime()),Cn=H==="x"?Ze:fn,Vn=Math.abs(Cn)/jr;if(Math.abs(Cn)>=Gz||Vn>.11){Je(Ye.current),(On=h.onDismiss)==null||On.call(h,h),ae(H==="x"?Ze>0?"right":"left":fn>0?"down":"up"),ut(),ye(!0),st(!1);return}he(!1),Q(null)},onPointerMove:vt=>{var St,Zt,On,Ze;if(!nn.current||!_t||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;let fn=vt.clientY-nn.current.y,jr=vt.clientX-nn.current.x,Cn=(Zt=t.swipeDirections)!=null?Zt:Yz(le);!H&&(Math.abs(jr)>1||Math.abs(fn)>1)&&Q(Math.abs(jr)>Math.abs(fn)?"x":"y");let Vn={x:0,y:0};H==="y"?(Cn.includes("top")||Cn.includes("bottom"))&&(Cn.includes("top")&&fn<0||Cn.includes("bottom")&&fn>0)&&(Vn.y=fn):H==="x"&&(Cn.includes("left")||Cn.includes("right"))&&(Cn.includes("left")&&jr<0||Cn.includes("right")&&jr>0)&&(Vn.x=jr),(Math.abs(Vn.x)>0||Math.abs(Vn.y)>0)&&st(!0),(On=Qe.current)==null||On.style.setProperty("--swipe-amount-x",`${Vn.x}px`),(Ze=Qe.current)==null||Ze.style.setProperty("--swipe-amount-y",`${Vn.y}px`)}},lt&&!h.jsx?$e.createElement("button",{"aria-label":ge,"data-disabled":cn,"data-close-button":!0,onClick:cn||!_t?()=>{}:()=>{var vt;ut(),(vt=h.onDismiss)==null||vt.call(h,h)},className:Fo(te==null?void 0:te.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=se==null?void 0:se.close)!=null?s:Lz):null,h.jsx||E.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:$e.createElement($e.Fragment,null,He||h.icon||h.promise?$e.createElement("div",{"data-icon":"",className:Fo(te==null?void 0:te.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Wt():null,h.type!=="loading"?h.icon||(se==null?void 0:se[He])||Az(He):null):null,$e.createElement("div",{"data-content":"",className:Fo(te==null?void 0:te.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},$e.createElement("div",{"data-title":"",className:Fo(te==null?void 0:te.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?$e.createElement("div",{"data-description":"",className:Fo(O,ot,te==null?void 0:te.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),E.isValidElement(h.cancel)?h.cancel:h.cancel&&F0(h.cancel)?$e.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||M,onClick:vt=>{var St,Zt;F0(h.cancel)&&_t&&((Zt=(St=h.cancel).onClick)==null||Zt.call(St,vt),ut())},className:Fo(te==null?void 0:te.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,E.isValidElement(h.action)?h.action:h.action&&F0(h.action)?$e.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:vt=>{var St,Zt;F0(h.action)&&((Zt=(St=h.action).onClick)==null||Zt.call(St,vt),!vt.defaultPrevented&&ut())},className:Fo(te==null?void 0:te.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function S4(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Xz(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?qz:$z;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var Jz=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:g,style:h,visibleToasts:_=zz,toastOptions:y,dir:x=S4(),gap:w=Wz,loadingIcon:b,icons:N,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:z}=t,[U,I]=$e.useState([]),k=$e.useMemo(()=>Array.from(new Set([r].concat(U.filter(D=>D.position).map(D=>D.position)))),[U,r]),[P,M]=$e.useState([]),[T,L]=$e.useState(!1),[O,W]=$e.useState(!1),[le,fe]=$e.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=$e.useRef(null),$=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=$e.useRef(null),se=$e.useRef(!1),ge=$e.useCallback(D=>{I(H=>{var Q;return(Q=H.find(Z=>Z.id===D.id))!=null&&Q.delete||hs.dismiss(D.id),H.filter(({id:Z})=>Z!==D.id)})},[]);return $e.useEffect(()=>hs.subscribe(D=>{if(D.dismiss){I(H=>H.map(Q=>Q.id===D.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{tR.flushSync(()=>{I(H=>{let Q=H.findIndex(Z=>Z.id===D.id);return Q!==-1?[...H.slice(0,Q),{...H[Q],...D},...H.slice(Q+1)]:[D,...H]})})})}),[]),$e.useEffect(()=>{if(d!=="system"){fe(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?fe("dark"):fe("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:H})=>{fe(H?"dark":"light")})}catch{D.addListener(({matches:Q})=>{try{fe(Q?"dark":"light")}catch(Z){console.error(Z)}})}},[d]),$e.useEffect(()=>{U.length<=1&&L(!1)},[U]),$e.useEffect(()=>{let D=H=>{var Q,Z;i.every(ae=>H[ae]||H.code===ae)&&(L(!0),(Q=oe.current)==null||Q.focus()),H.code==="Escape"&&(document.activeElement===oe.current||(Z=oe.current)!=null&&Z.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),$e.useEffect(()=>{if(oe.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,se.current=!1)}},[oe.current]),$e.createElement("section",{ref:e,"aria-label":`${R} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((D,H)=>{var Q;let[Z,ae]=D.split("-");return U.length?$e.createElement("ol",{key:D,dir:x==="auto"?S4():x,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":Z,"data-lifted":T&&U.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((Q=P[0])==null?void 0:Q.height)||0}px`,"--width":`${Hz}px`,"--gap":`${w}px`,...h,...Xz(l,c)},onBlur:K=>{se.current&&!K.currentTarget.contains(K.relatedTarget)&&(se.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||se.current||(se.current=!0,te.current=K.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{O||L(!1)},onDragEnd:()=>L(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},U.filter(K=>!K.position&&H===0||K.position===D).map((K,ue)=>{var de,_e;return $e.createElement(Qz,{key:K.id,icons:N,index:ue,toast:K,defaultRichColors:f,duration:(de=y==null?void 0:y.duration)!=null?de:g,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:_,closeButton:(_e=y==null?void 0:y.closeButton)!=null?_e:o,interacting:O,position:D,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:ge,toasts:U.filter(Ne=>Ne.position==K.position),heights:P.filter(Ne=>Ne.position==K.position),setHeights:M,expandByDefault:s,gap:w,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:z,swipeDirections:t.swipeDirections})})):null}))});const Zz=({...t})=>{const{theme:e="system"}=Nz();return u.jsx(Jz,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var e$=JP[" useId ".trim().toString()]||(()=>{}),t$=0;function xs(t){const[e,n]=E.useState(e$());return Kr(()=>{n(r=>r??String(t$++))},[t]),e?`radix-${e}`:""}const n$=["top","right","bottom","left"],vu=Math.min,Hs=Math.max,_1=Math.round,B0=Math.floor,Ha=t=>({x:t,y:t}),r$={left:"right",right:"left",bottom:"top",top:"bottom"},i$={start:"end",end:"start"};function $x(t,e,n){return Hs(t,vu(e,n))}function Kl(t,e){return typeof t=="function"?t(e):t}function Yl(t){return t.split("-")[0]}function tp(t){return t.split("-")[1]}function rS(t){return t==="x"?"y":"x"}function iS(t){return t==="y"?"height":"width"}const s$=new Set(["top","bottom"]);function Fa(t){return s$.has(Yl(t))?"y":"x"}function sS(t){return rS(Fa(t))}function o$(t,e,n){n===void 0&&(n=!1);const r=tp(t),i=sS(t),s=iS(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=x1(o)),[o,x1(o)]}function a$(t){const e=x1(t);return[qx(t),e,qx(e)]}function qx(t){return t.replace(/start|end/g,e=>i$[e])}const E4=["left","right"],N4=["right","left"],l$=["top","bottom"],c$=["bottom","top"];function u$(t,e,n){switch(t){case"top":case"bottom":return n?e?N4:E4:e?E4:N4;case"left":case"right":return e?l$:c$;default:return[]}}function d$(t,e,n,r){const i=tp(t);let s=u$(Yl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(qx)))),s}function x1(t){return t.replace(/left|right|bottom|top/g,e=>r$[e])}function h$(t){return{top:0,right:0,bottom:0,left:0,...t}}function KR(t){return typeof t!="number"?h$(t):{top:t,right:t,bottom:t,left:t}}function b1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function A4(t,e,n){let{reference:r,floating:i}=t;const s=Fa(e),o=sS(e),a=iS(o),l=Yl(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(tp(e)){case"start":h[o]-=g*(n&&c?-1:1);break;case"end":h[o]+=g*(n&&c?-1:1);break}return h}const f$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=A4(c,r,l),g=r,h={},_=0;for(let y=0;y<a.length;y++){const{name:x,fn:w}=a[y],{x:b,y:N,data:R,reset:z}=await w({x:d,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});d=b??d,f=N??f,h={...h,[x]:{...h[x],...R}},z&&_<=50&&(_++,typeof z=="object"&&(z.placement&&(g=z.placement),z.rects&&(c=z.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):z.rects),{x:d,y:f}=A4(c,g,l)),y=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:h}};async function Gm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:h=0}=Kl(e,t),_=KR(h),x=a[g?f==="floating"?"reference":"floating":f],w=b1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},z=b1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:N,strategy:l}):b);return{top:(w.top-z.top+_.top)/R.y,bottom:(z.bottom-w.bottom+_.bottom)/R.y,left:(w.left-z.left+_.left)/R.x,right:(z.right-w.right+_.right)/R.x}}const p$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Kl(t,e)||{};if(c==null)return{};const f=KR(d),g={x:n,y:r},h=sS(i),_=iS(h),y=await o.getDimensions(c),x=h==="y",w=x?"top":"left",b=x?"bottom":"right",N=x?"clientHeight":"clientWidth",R=s.reference[_]+s.reference[h]-g[h]-s.floating[_],z=g[h]-s.reference[h],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=U?U[N]:0;(!I||!await(o.isElement==null?void 0:o.isElement(U)))&&(I=a.floating[N]||s.floating[_]);const k=R/2-z/2,P=I/2-y[_]/2-1,M=vu(f[w],P),T=vu(f[b],P),L=M,O=I-y[_]-T,W=I/2-y[_]/2+k,le=$x(L,W,O),fe=!l.arrow&&tp(i)!=null&&W!==le&&s.reference[_]/2-(W<L?M:T)-y[_]/2<0,oe=fe?W<L?W-L:W-O:0;return{[h]:g[h]+oe,data:{[h]:le,centerOffset:W-le-oe,...fe&&{alignmentOffset:oe}},reset:fe}}}),m$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:y=!0,...x}=Kl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Yl(i),b=Fa(a),N=Yl(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),z=g||(N||!y?[x1(a)]:a$(a)),U=_!=="none";!g&&U&&z.push(...d$(a,y,_,R));const I=[a,...z],k=await Gm(e,x),P=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(k[w]),f){const W=o$(i,o,R);P.push(k[W[0]],k[W[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every(W=>W<=0)){var T,L;const W=(((T=s.flip)==null?void 0:T.index)||0)+1,le=I[W];if(le&&(!(f==="alignment"?b!==Fa(le):!1)||M.every($=>$.overflows[0]>0&&Fa($.placement)===b)))return{data:{index:W,overflows:M},reset:{placement:le}};let fe=(L=M.filter(oe=>oe.overflows[0]<=0).sort((oe,$)=>oe.overflows[1]-$.overflows[1])[0])==null?void 0:L.placement;if(!fe)switch(h){case"bestFit":{var O;const oe=(O=M.filter($=>{if(U){const te=Fa($.placement);return te===b||te==="y"}return!0}).map($=>[$.placement,$.overflows.filter(te=>te>0).reduce((te,se)=>te+se,0)]).sort(($,te)=>$[1]-te[1])[0])==null?void 0:O[0];oe&&(fe=oe);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}};function C4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function T4(t){return n$.some(e=>t[e]>=0)}const g$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Kl(t,e);switch(r){case"referenceHidden":{const s=await Gm(e,{...i,elementContext:"reference"}),o=C4(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:T4(o)}}}case"escaped":{const s=await Gm(e,{...i,altBoundary:!0}),o=C4(s,n.floating);return{data:{escapedOffsets:o,escaped:T4(o)}}}default:return{}}}}},YR=new Set(["left","top"]);async function v$(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yl(n),a=tp(n),l=Fa(n)==="y",c=YR.has(o)?-1:1,d=s&&l?-1:1,f=Kl(e,t);let{mainAxis:g,crossAxis:h,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(h=a==="end"?_*-1:_),l?{x:h*d,y:g*c}:{x:g*c,y:h*d}}const y$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await v$(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},w$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:b}=x;return{x:w,y:b}}},...l}=Kl(t,e),c={x:n,y:r},d=await Gm(e,l),f=Fa(Yl(i)),g=rS(f);let h=c[g],_=c[f];if(s){const x=g==="y"?"top":"left",w=g==="y"?"bottom":"right",b=h+d[x],N=h-d[w];h=$x(b,h,N)}if(o){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=_+d[x],N=_-d[w];_=$x(b,_,N)}const y=a.fn({...e,[g]:h,[f]:_});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:s,[f]:o}}}}}},_$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kl(t,e),d={x:n,y:r},f=Fa(i),g=rS(f);let h=d[g],_=d[f];const y=Kl(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const N=g==="y"?"height":"width",R=s.reference[g]-s.floating[N]+x.mainAxis,z=s.reference[g]+s.reference[N]-x.mainAxis;h<R?h=R:h>z&&(h=z)}if(c){var w,b;const N=g==="y"?"width":"height",R=YR.has(Yl(i)),z=s.reference[f]-s.floating[N]+(R&&((w=o.offset)==null?void 0:w[f])||0)+(R?0:x.crossAxis),U=s.reference[f]+s.reference[N]+(R?0:((b=o.offset)==null?void 0:b[f])||0)-(R?x.crossAxis:0);_<z?_=z:_>U&&(_=U)}return{[g]:h,[f]:_}}}},x$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Kl(t,e),d=await Gm(e,c),f=Yl(i),g=tp(i),h=Fa(i)==="y",{width:_,height:y}=s.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=g==="end"?"top":"bottom");const b=y-d.top-d.bottom,N=_-d.left-d.right,R=vu(y-d[x],b),z=vu(_-d[w],N),U=!e.middlewareData.shift;let I=R,k=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=b),U&&!g){const M=Hs(d.left,0),T=Hs(d.right,0),L=Hs(d.top,0),O=Hs(d.bottom,0);h?k=_-2*(M!==0||T!==0?M+T:Hs(d.left,d.right)):I=y-2*(L!==0||O!==0?L+O:Hs(d.top,d.bottom))}await l({...e,availableWidth:k,availableHeight:I});const P=await o.getDimensions(a.floating);return _!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function My(){return typeof window<"u"}function np(t){return QR(t)?(t.nodeName||"").toLowerCase():"#document"}function Js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function al(t){var e;return(e=(QR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function QR(t){return My()?t instanceof Node||t instanceof Js(t).Node:!1}function Jo(t){return My()?t instanceof Element||t instanceof Js(t).Element:!1}function nl(t){return My()?t instanceof HTMLElement||t instanceof Js(t).HTMLElement:!1}function k4(t){return!My()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Js(t).ShadowRoot}const b$=new Set(["inline","contents"]);function Rg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Zo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!b$.has(i)}const S$=new Set(["table","td","th"]);function E$(t){return S$.has(np(t))}const N$=[":popover-open",":modal"];function Fy(t){return N$.some(e=>{try{return t.matches(e)}catch{return!1}})}const A$=["transform","translate","scale","rotate","perspective"],C$=["transform","translate","scale","rotate","perspective","filter"],T$=["paint","layout","strict","content"];function oS(t){const e=aS(),n=Jo(t)?Zo(t):t;return A$.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||C$.some(r=>(n.willChange||"").includes(r))||T$.some(r=>(n.contain||"").includes(r))}function k$(t){let e=yu(t);for(;nl(e)&&!Rf(e);){if(oS(e))return e;if(Fy(e))return null;e=yu(e)}return null}function aS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P$=new Set(["html","body","#document"]);function Rf(t){return P$.has(np(t))}function Zo(t){return Js(t).getComputedStyle(t)}function By(t){return Jo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yu(t){if(np(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k4(t)&&t.host||al(t);return k4(e)?e.host:e}function XR(t){const e=yu(t);return Rf(e)?t.ownerDocument?t.ownerDocument.body:t.body:nl(e)&&Rg(e)?e:XR(e)}function Km(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=XR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Js(i);if(s){const a=Hx(o);return e.concat(o,o.visualViewport||[],Rg(i)?i:[],a&&n?Km(a):[])}return e.concat(i,Km(i,[],n))}function Hx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function JR(t){const e=Zo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=nl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=_1(n)!==s||_1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function lS(t){return Jo(t)?t:t.contextElement}function tf(t){const e=lS(t);if(!nl(e))return Ha(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=JR(e);let o=(s?_1(n.width):n.width)/r,a=(s?_1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const I$=Ha(0);function ZR(t){const e=Js(t);return!aS()||!e.visualViewport?I$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Js(t)?!1:e}function Rd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=lS(t);let o=Ha(1);e&&(r?Jo(r)&&(o=tf(r)):o=tf(t));const a=R$(s,n,r)?ZR(s):Ha(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const g=Js(s),h=r&&Jo(r)?Js(r):r;let _=g,y=Hx(_);for(;y&&r&&h!==_;){const x=tf(y),w=y.getBoundingClientRect(),b=Zo(y),N=w.left+(y.clientLeft+parseFloat(b.paddingLeft))*x.x,R=w.top+(y.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=N,c+=R,_=Js(y),y=Hx(_)}}return b1({width:d,height:f,x:l,y:c})}function cS(t,e){const n=By(t).scrollLeft;return e?e.left+n:Rd(al(t)).left+n}function e6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:cS(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function L$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=al(r),a=e?Fy(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ha(1);const d=Ha(0),f=nl(r);if((f||!f&&!s)&&((np(r)!=="body"||Rg(o))&&(l=By(r)),nl(r))){const h=Rd(r);c=tf(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const g=o&&!f&&!s?e6(o,l,!0):Ha(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:n.y*c.y-l.scrollTop*c.y+d.y+g.y}}function j$(t){return Array.from(t.getClientRects())}function D$(t){const e=al(t),n=By(t),r=t.ownerDocument.body,i=Hs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Hs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+cS(t);const a=-n.scrollTop;return Zo(r).direction==="rtl"&&(o+=Hs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function O$(t,e){const n=Js(t),r=al(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=aS();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const M$=new Set(["absolute","fixed"]);function F$(t,e){const n=Rd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=nl(t)?tf(t):Ha(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function P4(t,e,n){let r;if(e==="viewport")r=O$(t,n);else if(e==="document")r=D$(al(t));else if(Jo(e))r=F$(e,n);else{const i=ZR(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return b1(r)}function t6(t,e){const n=yu(t);return n===e||!Jo(n)||Rf(n)?!1:Zo(n).position==="fixed"||t6(n,e)}function B$(t,e){const n=e.get(t);if(n)return n;let r=Km(t,[],!1).filter(a=>Jo(a)&&np(a)!=="body"),i=null;const s=Zo(t).position==="fixed";let o=s?yu(t):t;for(;Jo(o)&&!Rf(o);){const a=Zo(o),l=oS(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&M$.has(i.position)||Rg(o)&&!l&&t6(t,o))?r=r.filter(d=>d!==o):i=a,o=yu(o)}return e.set(t,r),r}function U$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Fy(e)?[]:B$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=P4(e,d,i);return c.top=Hs(f.top,c.top),c.right=vu(f.right,c.right),c.bottom=vu(f.bottom,c.bottom),c.left=Hs(f.left,c.left),c},P4(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function V$(t){const{width:e,height:n}=JR(t);return{width:e,height:n}}function z$(t,e,n){const r=nl(e),i=al(e),s=n==="fixed",o=Rd(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ha(0);function c(){l.x=cS(i)}if(r||!r&&!s)if((np(e)!=="body"||Rg(i))&&(a=By(e)),r){const h=Rd(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?e6(i,a):Ha(0),f=o.left+a.scrollLeft-l.x-d.x,g=o.top+a.scrollTop-l.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function Iw(t){return Zo(t).position==="static"}function I4(t,e){if(!nl(t)||Zo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return al(t)===n&&(n=n.ownerDocument.body),n}function n6(t,e){const n=Js(t);if(Fy(t))return n;if(!nl(t)){let i=yu(t);for(;i&&!Rf(i);){if(Jo(i)&&!Iw(i))return i;i=yu(i)}return n}let r=I4(t,e);for(;r&&E$(r)&&Iw(r);)r=I4(r,e);return r&&Rf(r)&&Iw(r)&&!oS(r)?n:r||k$(t)||n}const $$=async function(t){const e=this.getOffsetParent||n6,n=this.getDimensions,r=await n(t.floating);return{reference:z$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q$(t){return Zo(t).direction==="rtl"}const H$={convertOffsetParentRelativeRectToViewportRelativeRect:L$,getDocumentElement:al,getClippingRect:U$,getOffsetParent:n6,getElementRects:$$,getClientRects:j$,getDimensions:V$,getScale:tf,isElement:Jo,isRTL:q$};function r6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function W$(t,e){let n=null,r;const i=al(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:g,height:h}=c;if(a||e(),!g||!h)return;const _=B0(f),y=B0(i.clientWidth-(d+g)),x=B0(i.clientHeight-(f+h)),w=B0(d),N={rootMargin:-_+"px "+-y+"px "+-x+"px "+-w+"px",threshold:Hs(0,vu(1,l))||1};let R=!0;function z(U){const I=U[0].intersectionRatio;if(I!==l){if(!R)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!r6(c,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(z,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(z,N)}n.observe(t)}return o(!0),s}function G$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=lS(t),d=i||s?[...c?Km(c):[],...Km(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=c&&a?W$(c,n):null;let g=-1,h=null;o&&(h=new ResizeObserver(w=>{let[b]=w;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=h)==null||N.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let _,y=l?Rd(t):null;l&&x();function x(){const w=Rd(t);y&&!r6(y,w)&&n(),y=w,_=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),f==null||f(),(w=h)==null||w.disconnect(),h=null,l&&cancelAnimationFrame(_)}}const K$=y$,Y$=w$,Q$=m$,X$=x$,J$=g$,R4=p$,Z$=_$,eq=(t,e,n)=>{const r=new Map,i={platform:H$,...n},s={...i.platform,_c:r};return f$(t,e,{...i,platform:s})};var tq=typeof document<"u",nq=function(){},Ev=tq?E.useLayoutEffect:nq;function S1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!S1(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!S1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function i6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function L4(t,e){const n=i6(t);return Math.round(e*n)/n}function Rw(t){const e=E.useRef(t);return Ev(()=>{e.current=t}),e}function rq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,h]=E.useState(r);S1(g,r)||h(r);const[_,y]=E.useState(null),[x,w]=E.useState(null),b=E.useCallback($=>{$!==U.current&&(U.current=$,y($))},[]),N=E.useCallback($=>{$!==I.current&&(I.current=$,w($))},[]),R=s||_,z=o||x,U=E.useRef(null),I=E.useRef(null),k=E.useRef(d),P=l!=null,M=Rw(l),T=Rw(i),L=Rw(c),O=E.useCallback(()=>{if(!U.current||!I.current)return;const $={placement:e,strategy:n,middleware:g};T.current&&($.platform=T.current),eq(U.current,I.current,$).then(te=>{const se={...te,isPositioned:L.current!==!1};W.current&&!S1(k.current,se)&&(k.current=se,Qd.flushSync(()=>{f(se)}))})},[g,e,n,T,L]);Ev(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const W=E.useRef(!1);Ev(()=>(W.current=!0,()=>{W.current=!1}),[]),Ev(()=>{if(R&&(U.current=R),z&&(I.current=z),R&&z){if(M.current)return M.current(R,z,O);O()}},[R,z,O,M,P]);const le=E.useMemo(()=>({reference:U,floating:I,setReference:b,setFloating:N}),[b,N]),fe=E.useMemo(()=>({reference:R,floating:z}),[R,z]),oe=E.useMemo(()=>{const $={position:n,left:0,top:0};if(!fe.floating)return $;const te=L4(fe.floating,d.x),se=L4(fe.floating,d.y);return a?{...$,transform:"translate("+te+"px, "+se+"px)",...i6(fe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:se}},[n,a,fe.floating,d.x,d.y]);return E.useMemo(()=>({...d,update:O,refs:le,elements:fe,floatingStyles:oe}),[d,O,le,fe,oe])}const iq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?R4({element:r.current,padding:i}).fn(n):{}:r?R4({element:r,padding:i}).fn(n):{}}}},sq=(t,e)=>({...K$(t),options:[t,e]}),oq=(t,e)=>({...Y$(t),options:[t,e]}),aq=(t,e)=>({...Z$(t),options:[t,e]}),lq=(t,e)=>({...Q$(t),options:[t,e]}),cq=(t,e)=>({...X$(t),options:[t,e]}),uq=(t,e)=>({...J$(t),options:[t,e]}),dq=(t,e)=>({...iq(t),options:[t,e]});var hq="Arrow",s6=E.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(mt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});s6.displayName=hq;var fq=s6;function o6(t){const[e,n]=E.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uS="Popper",[a6,rp]=sa(uS),[pq,l6]=a6(uS),c6=t=>{const{__scopePopper:e,children:n}=t,[r,i]=E.useState(null);return u.jsx(pq,{scope:e,anchor:r,onAnchorChange:i,children:n})};c6.displayName=uS;var u6="PopperAnchor",d6=E.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=l6(u6,n),o=E.useRef(null),a=Xt(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(mt.div,{...i,ref:a})});d6.displayName=u6;var dS="PopperContent",[mq,gq]=a6(dS),h6=E.forwardRef((t,e)=>{var K,ue,de,_e,Ne,he;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:h="optimized",onPlaced:_,...y}=t,x=l6(dS,n),[w,b]=E.useState(null),N=Xt(e,Ee=>b(Ee)),[R,z]=E.useState(null),U=o6(R),I=(U==null?void 0:U.width)??0,k=(U==null?void 0:U.height)??0,P=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(c)?c:[c],L=T.length>0,O={padding:M,boundary:T.filter(yq),altBoundary:L},{refs:W,floatingStyles:le,placement:fe,isPositioned:oe,middlewareData:$}=rq({strategy:"fixed",placement:P,whileElementsMounted:(...Ee)=>G$(...Ee,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[sq({mainAxis:i+k,alignmentAxis:o}),l&&oq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aq():void 0,...O}),l&&lq({...O}),cq({...O,apply:({elements:Ee,rects:ye,availableWidth:ee,availableHeight:st})=>{const{width:ct,height:Je}=ye.reference,De=Ee.floating.style;De.setProperty("--radix-popper-available-width",`${ee}px`),De.setProperty("--radix-popper-available-height",`${st}px`),De.setProperty("--radix-popper-anchor-width",`${ct}px`),De.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),R&&dq({element:R,padding:a}),wq({arrowWidth:I,arrowHeight:k}),g&&uq({strategy:"referenceHidden",...O})]}),[te,se]=m6(fe),ge=ti(_);Kr(()=>{oe&&(ge==null||ge())},[oe,ge]);const D=(K=$.arrow)==null?void 0:K.x,H=(ue=$.arrow)==null?void 0:ue.y,Q=((de=$.arrow)==null?void 0:de.centerOffset)!==0,[Z,ae]=E.useState();return Kr(()=>{w&&ae(window.getComputedStyle(w).zIndex)},[w]),u.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:oe?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(_e=$.transformOrigin)==null?void 0:_e.x,(Ne=$.transformOrigin)==null?void 0:Ne.y].join(" "),...((he=$.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(mq,{scope:n,placedSide:te,onArrowChange:z,arrowX:D,arrowY:H,shouldHideArrow:Q,children:u.jsx(mt.div,{"data-side":te,"data-align":se,...y,ref:N,style:{...y.style,animation:oe?void 0:"none"}})})})});h6.displayName=dS;var f6="PopperArrow",vq={top:"bottom",right:"left",bottom:"top",left:"right"},p6=E.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=gq(f6,r),o=vq[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(fq,{...i,ref:n,style:{...i.style,display:"block"}})})});p6.displayName=f6;function yq(t){return t!==null}var wq=t=>({name:"transformOrigin",options:t,fn(e){var x,w,b;const{placement:n,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=m6(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let _="",y="";return c==="bottom"?(_=o?f:`${g}px`,y=`${-l}px`):c==="top"?(_=o?f:`${g}px`,y=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,y=o?f:`${h}px`):c==="left"&&(_=`${r.floating.width+l}px`,y=o?f:`${h}px`),{data:{x:_,y}}}});function m6(t){const[e,n="center"]=t.split("-");return[e,n]}var g6=c6,Uy=d6,hS=h6,fS=p6,[Vy,kde]=sa("Tooltip",[rp]),pS=rp(),v6="TooltipProvider",_q=700,j4="tooltip.open",[xq,y6]=Vy(v6),w6=t=>{const{__scopeTooltip:e,delayDuration:n=_q,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=E.useRef(!0),a=E.useRef(!1),l=E.useRef(0);return E.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(xq,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:E.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};w6.displayName=v6;var _6="Tooltip",[Pde,zy]=Vy(_6),Wx="TooltipTrigger",bq=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zy(Wx,n),s=y6(Wx,n),o=pS(n),a=E.useRef(null),l=Xt(e,a,i.onTriggerChange),c=E.useRef(!1),d=E.useRef(!1),f=E.useCallback(()=>c.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Uy,{asChild:!0,...o,children:u.jsx(mt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ft(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ft(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ft(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ft(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ft(t.onBlur,i.onClose),onClick:ft(t.onClick,i.onClose)})})});bq.displayName=Wx;var Sq="TooltipPortal",[Ide,Eq]=Vy(Sq,{forceMount:void 0}),Lf="TooltipContent",x6=E.forwardRef((t,e)=>{const n=Eq(Lf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=zy(Lf,t.__scopeTooltip);return u.jsx(oo,{present:r||o.open,children:o.disableHoverableContent?u.jsx(b6,{side:i,...s,ref:e}):u.jsx(Nq,{side:i,...s,ref:e})})}),Nq=E.forwardRef((t,e)=>{const n=zy(Lf,t.__scopeTooltip),r=y6(Lf,t.__scopeTooltip),i=E.useRef(null),s=Xt(e,i),[o,a]=E.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,g=E.useCallback(()=>{a(null),f(!1)},[f]),h=E.useCallback((_,y)=>{const x=_.currentTarget,w={x:_.clientX,y:_.clientY},b=Pq(w,x.getBoundingClientRect()),N=Iq(w,b),R=Rq(y.getBoundingClientRect()),z=jq([...N,...R]);a(z),f(!0)},[f]);return E.useEffect(()=>()=>g(),[g]),E.useEffect(()=>{if(l&&d){const _=x=>h(x,d),y=x=>h(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",y)}}},[l,d,h,g]),E.useEffect(()=>{if(o){const _=y=>{const x=y.target,w={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),N=!Lq(w,o);b?g():N&&(g(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,g]),u.jsx(b6,{...t,ref:s})}),[Aq,Cq]=Vy(_6,{isInside:!1}),Tq=iR("TooltipContent"),b6=E.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=zy(Lf,n),c=pS(n),{onClose:d}=l;return E.useEffect(()=>(document.addEventListener(j4,d),()=>document.removeEventListener(j4,d)),[d]),E.useEffect(()=>{if(l.trigger){const f=g=>{const h=g.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Jf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(hS,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(Tq,{children:r}),u.jsx(Aq,{scope:n,isInside:!0,children:u.jsx(ZU,{id:l.contentId,role:"tooltip",children:i||r})})]})})});x6.displayName=Lf;var S6="TooltipArrow",kq=E.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=pS(n);return Cq(S6,n).isInside?null:u.jsx(fS,{...i,...r,ref:e})});kq.displayName=S6;function Pq(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Iq(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Rq(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Lq(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,d=a.y,f=l.x,g=l.y;d>r!=g>r&&n<(f-c)*(r-d)/(g-d)+c&&(i=!i)}return i}function jq(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Dq(e)}function Dq(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Oq=w6,E6=x6;const Mq=Oq,Fq=E.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(E6,{ref:r,sideOffset:e,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Fq.displayName=E6.displayName;var $y=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qy=typeof window>"u"||"Deno"in globalThis;function zo(){}function Bq(t,e){return typeof t=="function"?t(e):t}function Uq(t){return typeof t=="number"&&t>=0&&t!==1/0}function Vq(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gx(t,e){return typeof t=="function"?t(e):t}function zq(t,e){return typeof t=="function"?t(e):t}function D4(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==mS(o,e.options))return!1}else if(!Qm(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function O4(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ym(e.options.mutationKey)!==Ym(s))return!1}else if(!Qm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function mS(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ym)(t)}function Ym(t){return JSON.stringify(t,(e,n)=>Kx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Qm(t[n],e[n])):!1}function N6(t,e){if(t===e)return t;const n=M4(t)&&M4(e);if(n||Kx(t)&&Kx(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=N6(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function M4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kx(t){if(!F4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F4(t){return Object.prototype.toString.call(t)==="[object Object]"}function $q(t){return new Promise(e=>{setTimeout(e,t)})}function qq(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N6(t,e):e}function Hq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Wq(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var gS=Symbol();function A6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var hd,zc,vf,LP,Gq=(LP=class extends $y{constructor(){super();xn(this,hd);xn(this,zc);xn(this,vf);Ut(this,vf,e=>{if(!qy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Ie(this,zc)||this.setEventListener(Ie(this,vf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ie(this,zc))==null||e.call(this),Ut(this,zc,void 0))}setEventListener(e){var n;Ut(this,vf,e),(n=Ie(this,zc))==null||n.call(this),Ut(this,zc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Ie(this,hd)!==e&&(Ut(this,hd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Ie(this,hd)=="boolean"?Ie(this,hd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hd=new WeakMap,zc=new WeakMap,vf=new WeakMap,LP),C6=new Gq,yf,$c,wf,jP,Kq=(jP=class extends $y{constructor(){super();xn(this,yf,!0);xn(this,$c);xn(this,wf);Ut(this,wf,e=>{if(!qy&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Ie(this,$c)||this.setEventListener(Ie(this,wf))}onUnsubscribe(){var e;this.hasListeners()||((e=Ie(this,$c))==null||e.call(this),Ut(this,$c,void 0))}setEventListener(e){var n;Ut(this,wf,e),(n=Ie(this,$c))==null||n.call(this),Ut(this,$c,e(this.setOnline.bind(this)))}setOnline(e){Ie(this,yf)!==e&&(Ut(this,yf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Ie(this,yf)}},yf=new WeakMap,$c=new WeakMap,wf=new WeakMap,jP),E1=new Kq;function Yq(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Qq(t){return Math.min(1e3*2**t,3e4)}function T6(t){return(t??"online")==="online"?E1.isOnline():!0}var k6=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lw(t){return t instanceof k6}function P6(t){let e=!1,n=0,r=!1,i;const s=Yq(),o=y=>{var x;r||(g(new k6(y)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>C6.isFocused()&&(t.networkMode==="always"||E1.isOnline())&&t.canRun(),d=()=>T6(t.networkMode)&&t.canRun(),f=y=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,y),i==null||i(),s.resolve(y))},g=y=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,y),i==null||i(),s.reject(y))},h=()=>new Promise(y=>{var x;i=w=>{(r||c())&&y(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),_=()=>{if(r)return;let y;const x=n===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var U;if(r)return;const b=t.retry??(qy?0:3),N=t.retryDelay??Qq,R=typeof N=="function"?N(n,w):N,z=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,w);if(e||!z){g(w);return}n++,(U=t.onFail)==null||U.call(t,n,w),$q(R).then(()=>c()?void 0:h()).then(()=>{e?g(w):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():h().then(_),s)}}var Xq=t=>setTimeout(t,0);function Jq(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=Xq;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yi=Jq(),fd,DP,I6=(DP=class{constructor(){xn(this,fd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Uq(this.gcTime)&&Ut(this,fd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qy?1/0:5*60*1e3))}clearGcTimeout(){Ie(this,fd)&&(clearTimeout(Ie(this,fd)),Ut(this,fd,void 0))}},fd=new WeakMap,DP),_f,pd,po,md,ki,bg,gd,$o,Pl,OP,Zq=(OP=class extends I6{constructor(n){super();xn(this,$o);xn(this,_f);xn(this,pd);xn(this,po);xn(this,md);xn(this,ki);xn(this,bg);xn(this,gd);Ut(this,gd,!1),Ut(this,bg,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ut(this,md,n.client),Ut(this,po,Ie(this,md).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ut(this,_f,tH(this.options)),this.state=n.state??Ie(this,_f),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Ie(this,ki))==null?void 0:n.promise}setOptions(n){this.options={...Ie(this,bg),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ie(this,po).remove(this)}setData(n,r){const i=qq(this.state.data,n,this.options);return xi(this,$o,Pl).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){xi(this,$o,Pl).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=Ie(this,ki))==null?void 0:i.promise;return(s=Ie(this,ki))==null||s.cancel(n),r?r.then(zo).catch(zo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ie(this,_f))}isActive(){return this.observers.some(n=>zq(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Gx(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Vq(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Ie(this,ki))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Ie(this,ki))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Ie(this,po).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Ie(this,ki)&&(Ie(this,gd)?Ie(this,ki).cancel({revert:!0}):Ie(this,ki).cancelRetry()),this.scheduleGc()),Ie(this,po).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xi(this,$o,Pl).call(this,{type:"invalidate"})}fetch(n,r){var d,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ie(this,ki))return Ie(this,ki).continueRetry(),Ie(this,ki).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(_=>_.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ut(this,gd,!0),i.signal)})},o=()=>{const h=A6(this.options,r),y=(()=>{const x={client:Ie(this,md),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return Ut(this,gd,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ie(this,md),state:this.state,fetchFn:o};return s(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),Ut(this,pd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&xi(this,$o,Pl).call(this,{type:"fetch",meta:(g=l.fetchOptions)==null?void 0:g.meta});const c=h=>{var _,y,x,w;Lw(h)&&h.silent||xi(this,$o,Pl).call(this,{type:"error",error:h}),Lw(h)||((y=(_=Ie(this,po).config).onError)==null||y.call(_,h,this),(w=(x=Ie(this,po).config).onSettled)==null||w.call(x,this.state.data,h,this)),this.scheduleGc()};return Ut(this,ki,P6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var _,y,x,w;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(y=(_=Ie(this,po).config).onSuccess)==null||y.call(_,h,this),(w=(x=Ie(this,po).config).onSettled)==null||w.call(x,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,_)=>{xi(this,$o,Pl).call(this,{type:"failed",failureCount:h,error:_})},onPause:()=>{xi(this,$o,Pl).call(this,{type:"pause"})},onContinue:()=>{xi(this,$o,Pl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Ie(this,ki).start()}},_f=new WeakMap,pd=new WeakMap,po=new WeakMap,md=new WeakMap,ki=new WeakMap,bg=new WeakMap,gd=new WeakMap,$o=new WeakSet,Pl=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...eH(i.data,this.options),fetchMeta:n.meta??null};case"success":return Ut(this,pd,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Lw(s)&&s.revert&&Ie(this,pd)?{...Ie(this,pd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Yi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Ie(this,po).notify({query:this,type:"updated",action:n})})},OP);function eH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tH(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ra,MP,nH=(MP=class extends $y{constructor(e={}){super();xn(this,Ra);this.config=e,Ut(this,Ra,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??mS(i,n);let o=this.get(s);return o||(o=new Zq({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Ie(this,Ra).has(e.queryHash)||(Ie(this,Ra).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Ie(this,Ra).get(e.queryHash);n&&(e.destroy(),n===e&&Ie(this,Ra).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ie(this,Ra).get(e)}getAll(){return[...Ie(this,Ra).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>D4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>D4(e,r)):n}notify(e){Yi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ra=new WeakMap,MP),La,Wi,vd,ja,kc,FP,rH=(FP=class extends I6{constructor(n){super();xn(this,ja);xn(this,La);xn(this,Wi);xn(this,vd);this.mutationId=n.mutationId,Ut(this,Wi,n.mutationCache),Ut(this,La,[]),this.state=n.state||iH(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Ie(this,La).includes(n)||(Ie(this,La).push(n),this.clearGcTimeout(),Ie(this,Wi).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ut(this,La,Ie(this,La).filter(r=>r!==n)),this.scheduleGc(),Ie(this,Wi).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Ie(this,La).length||(this.state.status==="pending"?this.scheduleGc():Ie(this,Wi).remove(this))}continue(){var n;return((n=Ie(this,vd))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,f,g,h,_,y,x,w,b,N,R,z,U,I,k,P;const r=()=>{xi(this,ja,kc).call(this,{type:"continue"})};Ut(this,vd,P6({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(M,T)=>{xi(this,ja,kc).call(this,{type:"failed",failureCount:M,error:T})},onPause:()=>{xi(this,ja,kc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ie(this,Wi).canRun(this)}));const i=this.state.status==="pending",s=!Ie(this,vd).canStart();try{if(i)r();else{xi(this,ja,kc).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(o=Ie(this,Wi).config).onMutate)==null?void 0:a.call(o,n,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));T!==this.state.context&&xi(this,ja,kc).call(this,{type:"pending",context:T,variables:n,isPaused:s})}const M=await Ie(this,vd).start();return await((f=(d=Ie(this,Wi).config).onSuccess)==null?void 0:f.call(d,M,n,this.state.context,this)),await((h=(g=this.options).onSuccess)==null?void 0:h.call(g,M,n,this.state.context)),await((y=(_=Ie(this,Wi).config).onSettled)==null?void 0:y.call(_,M,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,M,null,n,this.state.context)),xi(this,ja,kc).call(this,{type:"success",data:M}),M}catch(M){try{throw await((N=(b=Ie(this,Wi).config).onError)==null?void 0:N.call(b,M,n,this.state.context,this)),await((z=(R=this.options).onError)==null?void 0:z.call(R,M,n,this.state.context)),await((I=(U=Ie(this,Wi).config).onSettled)==null?void 0:I.call(U,void 0,M,this.state.variables,this.state.context,this)),await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,M,n,this.state.context)),M}finally{xi(this,ja,kc).call(this,{type:"error",error:M})}}finally{Ie(this,Wi).runNext(this)}}},La=new WeakMap,Wi=new WeakMap,vd=new WeakMap,ja=new WeakSet,kc=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yi.batch(()=>{Ie(this,La).forEach(i=>{i.onMutationUpdate(n)}),Ie(this,Wi).notify({mutation:this,type:"updated",action:n})})},FP);function iH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dl,qo,Sg,BP,sH=(BP=class extends $y{constructor(e={}){super();xn(this,Dl);xn(this,qo);xn(this,Sg);this.config=e,Ut(this,Dl,new Set),Ut(this,qo,new Map),Ut(this,Sg,0)}build(e,n,r){const i=new rH({mutationCache:this,mutationId:++y0(this,Sg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Ie(this,Dl).add(e);const n=U0(e);if(typeof n=="string"){const r=Ie(this,qo).get(n);r?r.push(e):Ie(this,qo).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ie(this,Dl).delete(e)){const n=U0(e);if(typeof n=="string"){const r=Ie(this,qo).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Ie(this,qo).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=U0(e);if(typeof n=="string"){const r=Ie(this,qo).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=U0(e);if(typeof n=="string"){const i=(r=Ie(this,qo).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yi.batch(()=>{Ie(this,Dl).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ie(this,Dl).clear(),Ie(this,qo).clear()})}getAll(){return Array.from(Ie(this,Dl))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>O4(n,r))}findAll(e={}){return this.getAll().filter(n=>O4(e,n))}notify(e){Yi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yi.batch(()=>Promise.all(e.map(n=>n.continue().catch(zo))))}},Dl=new WeakMap,qo=new WeakMap,Sg=new WeakMap,BP);function U0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function B4(t){return{onFetch:(e,n)=>{var d,f,g,h,_;const r=e.options,i=(g=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=A6(e.options,e.fetchOptions),b=async(N,R,z)=>{if(y)return Promise.reject();if(R==null&&N.pages.length)return Promise.resolve(N);const I=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:R,direction:z?"backward":"forward",meta:e.options.meta};return x(T),T})(),k=await w(I),{maxPages:P}=e.options,M=z?Wq:Hq;return{pages:M(N.pages,k,P),pageParams:M(N.pageParams,R,P)}};if(i&&s.length){const N=i==="backward",R=N?oH:U4,z={pages:s,pageParams:o},U=R(r,z);a=await b(z,U,N)}else{const N=t??s.length;do{const R=l===0?o[0]??r.initialPageParam:U4(r,a);if(l>0&&R==null)break;a=await b(a,R),l++}while(l<N)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function U4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vr,qc,Hc,xf,bf,Wc,Sf,Ef,UP,aH=(UP=class{constructor(t={}){xn(this,vr);xn(this,qc);xn(this,Hc);xn(this,xf);xn(this,bf);xn(this,Wc);xn(this,Sf);xn(this,Ef);Ut(this,vr,t.queryCache||new nH),Ut(this,qc,t.mutationCache||new sH),Ut(this,Hc,t.defaultOptions||{}),Ut(this,xf,new Map),Ut(this,bf,new Map),Ut(this,Wc,0)}mount(){y0(this,Wc)._++,Ie(this,Wc)===1&&(Ut(this,Sf,C6.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ie(this,vr).onFocus())})),Ut(this,Ef,E1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ie(this,vr).onOnline())})))}unmount(){var t,e;y0(this,Wc)._--,Ie(this,Wc)===0&&((t=Ie(this,Sf))==null||t.call(this),Ut(this,Sf,void 0),(e=Ie(this,Ef))==null||e.call(this),Ut(this,Ef,void 0))}isFetching(t){return Ie(this,vr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ie(this,qc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ie(this,vr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Ie(this,vr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Gx(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Ie(this,vr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Ie(this,vr).get(r.queryHash),s=i==null?void 0:i.state.data,o=Bq(e,s);if(o!==void 0)return Ie(this,vr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Yi.batch(()=>Ie(this,vr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Ie(this,vr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Ie(this,vr);Yi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Ie(this,vr);return Yi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Yi.batch(()=>Ie(this,vr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(zo).catch(zo)}invalidateQueries(t,e={}){return Yi.batch(()=>(Ie(this,vr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Yi.batch(()=>Ie(this,vr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(zo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(zo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Ie(this,vr).build(this,e);return n.isStaleByTime(Gx(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zo).catch(zo)}fetchInfiniteQuery(t){return t.behavior=B4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zo).catch(zo)}ensureInfiniteQueryData(t){return t.behavior=B4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return E1.isOnline()?Ie(this,qc).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ie(this,vr)}getMutationCache(){return Ie(this,qc)}getDefaultOptions(){return Ie(this,Hc)}setDefaultOptions(t){Ut(this,Hc,t)}setQueryDefaults(t,e){Ie(this,xf).set(Ym(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ie(this,xf).values()],n={};return e.forEach(r=>{Qm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Ie(this,bf).set(Ym(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ie(this,bf).values()],n={};return e.forEach(r=>{Qm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ie(this,Hc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ie(this,Hc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ie(this,vr).clear(),Ie(this,qc).clear()}},vr=new WeakMap,qc=new WeakMap,Hc=new WeakMap,xf=new WeakMap,bf=new WeakMap,Wc=new WeakMap,Sf=new WeakMap,Ef=new WeakMap,UP),lH=E.createContext(void 0),cH=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(lH.Provider,{value:t,children:e}));const yt=E.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));yt.displayName="Card";const Nn=E.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",t),...e}));Nn.displayName="CardHeader";const An=E.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",t),...e}));An.displayName="CardTitle";const ni=E.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",t),...e}));ni.displayName="CardDescription";const xt=E.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:We("p-6 pt-0",t),...e}));xt.displayName="CardContent";const uH=E.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",t),...e}));uH.displayName="CardFooter";const Xm=jy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Le=E.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?PU:"button";return u.jsx(o,{className:We(Xm({variant:e,size:n,className:t})),ref:s,...i})});Le.displayName="Button";var jw="focusScope.autoFocusOnMount",Dw="focusScope.autoFocusOnUnmount",V4={bubbles:!1,cancelable:!0},dH="FocusScope",Hy=E.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=E.useState(null),c=ti(i),d=ti(s),f=E.useRef(null),g=Xt(e,y=>l(y)),h=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(N){if(h.paused||!a)return;const R=N.target;a.contains(R)?f.current=R:Pc(f.current,{select:!0})},x=function(N){if(h.paused||!a)return;const R=N.relatedTarget;R!==null&&(a.contains(R)||Pc(f.current,{select:!0}))},w=function(N){if(document.activeElement===document.body)for(const z of N)z.removedNodes.length>0&&Pc(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const b=new MutationObserver(w);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),b.disconnect()}}},[r,a,h.paused]),E.useEffect(()=>{if(a){$4.add(h);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(jw,V4);a.addEventListener(jw,c),a.dispatchEvent(w),w.defaultPrevented||(hH(vH(R6(a)),{select:!0}),document.activeElement===y&&Pc(a))}return()=>{a.removeEventListener(jw,c),setTimeout(()=>{const w=new CustomEvent(Dw,V4);a.addEventListener(Dw,d),a.dispatchEvent(w),w.defaultPrevented||Pc(y??document.body,{select:!0}),a.removeEventListener(Dw,d),$4.remove(h)},0)}}},[a,c,d,h]);const _=E.useCallback(y=>{if(!n&&!r||h.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const b=y.currentTarget,[N,R]=fH(b);N&&R?!y.shiftKey&&w===R?(y.preventDefault(),n&&Pc(N,{select:!0})):y.shiftKey&&w===N&&(y.preventDefault(),n&&Pc(R,{select:!0})):w===b&&y.preventDefault()}},[n,r,h.paused]);return u.jsx(mt.div,{tabIndex:-1,...o,ref:g,onKeyDown:_})});Hy.displayName=dH;function hH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Pc(r,{select:e}),document.activeElement!==n)return}function fH(t){const e=R6(t),n=z4(e,t),r=z4(e.reverse(),t);return[n,r]}function R6(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function z4(t,e){for(const n of t)if(!pH(n,{upTo:e}))return n}function pH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mH(t){return t instanceof HTMLInputElement&&"select"in t}function Pc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mH(t)&&e&&t.select()}}var $4=gH();function gH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=q4(t,e),t.unshift(e)},remove(e){var n;t=q4(t,e),(n=t[0])==null||n.resume()}}}function q4(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vH(t){return t.filter(e=>e.tagName!=="A")}var Ow=0;function vS(){E.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H4()),document.body.insertAdjacentElement("beforeend",t[1]??H4()),Ow++,()=>{Ow===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ow--}},[])}function H4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Oa=function(){return Oa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oa.apply(this,arguments)};function Lg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yH(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Nv="right-scroll-bar-position",Av="width-before-scroll-bar",wH="with-scroll-bars-hidden",_H="--removed-body-scroll-bar-size";function Mw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xH(t,e){var n=E.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bH=typeof window<"u"?E.useLayoutEffect:E.useEffect,W4=new WeakMap;function SH(t,e){var n=xH(null,function(r){return t.forEach(function(i){return Mw(i,r)})});return bH(function(){var r=W4.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Mw(a,null)}),s.forEach(function(a){i.has(a)||Mw(a,o)})}W4.set(n,t)},[t]),n}function EH(t){return t}function NH(t,e){e===void 0&&(e=EH);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function AH(t){t===void 0&&(t={});var e=NH(null);return e.options=Oa({async:!0,ssr:!1},t),e}var L6=function(t){var e=t.sideCar,n=Lg(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Oa({},n))};L6.isSideCarExport=!0;function CH(t,e){return t.useMedium(e),L6}var j6=AH(),Fw=function(){},Wy=E.forwardRef(function(t,e){var n=E.useRef(null),r=E.useState({onScrollCapture:Fw,onWheelCapture:Fw,onTouchMoveCapture:Fw}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,h=t.noRelative,_=t.noIsolation,y=t.inert,x=t.allowPinchZoom,w=t.as,b=w===void 0?"div":w,N=t.gapMode,R=Lg(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=g,U=SH([n,e]),I=Oa(Oa({},R),i);return E.createElement(E.Fragment,null,d&&E.createElement(z,{sideCar:j6,removeScrollBar:c,shards:f,noRelative:h,noIsolation:_,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:N}),o?E.cloneElement(E.Children.only(a),Oa(Oa({},I),{ref:U})):E.createElement(b,Oa({},I,{className:l,ref:U}),a))});Wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wy.classNames={fullWidth:Av,zeroRight:Nv};var TH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TH();return e&&t.setAttribute("nonce",e),t}function PH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function IH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kH())&&(PH(e,n),IH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},LH=function(){var t=RH();return function(e,n){E.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},D6=function(){var t=LH(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},jH={left:0,top:0,right:0,gap:0},Bw=function(t){return parseInt(t||"",10)||0},DH=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Bw(n),Bw(r),Bw(i)]},OH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jH;var e=DH(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},MH=D6(),nf="data-scroll-locked",FH=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(nf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Av,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nv," .").concat(Nv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Av," .").concat(Av,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nf,`] {
    `).concat(_H,": ").concat(a,`px;
  }
`)},G4=function(){var t=parseInt(document.body.getAttribute(nf)||"0",10);return isFinite(t)?t:0},BH=function(){E.useEffect(function(){return document.body.setAttribute(nf,(G4()+1).toString()),function(){var t=G4()-1;t<=0?document.body.removeAttribute(nf):document.body.setAttribute(nf,t.toString())}},[])},UH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;BH();var s=E.useMemo(function(){return OH(i)},[i]);return E.createElement(MH,{styles:FH(s,!e,i,n?"":"!important")})},Yx=!1;if(typeof window<"u")try{var V0=Object.defineProperty({},"passive",{get:function(){return Yx=!0,!0}});window.addEventListener("test",V0,V0),window.removeEventListener("test",V0,V0)}catch{Yx=!1}var gh=Yx?{passive:!1}:!1,VH=function(t){return t.tagName==="TEXTAREA"},O6=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VH(t)&&n[e]==="visible")},zH=function(t){return O6(t,"overflowY")},$H=function(t){return O6(t,"overflowX")},K4=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=M6(t,r);if(i){var s=F6(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},M6=function(t,e){return t==="v"?zH(e):$H(e)},F6=function(t,e){return t==="v"?qH(e):HH(e)},WH=function(t,e){return t==="h"&&e==="rtl"?-1:1},GH=function(t,e,n,r,i){var s=WH(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,g=0;do{if(!a)break;var h=F6(t,a),_=h[0],y=h[1],x=h[2],w=y-x-s*_;(_||w)&&M6(t,a)&&(f+=w,g+=_);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(g)<1||!i))&&(c=!0),c},z0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Y4=function(t){return[t.deltaX,t.deltaY]},Q4=function(t){return t&&"current"in t?t.current:t},KH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},YH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},QH=0,vh=[];function XH(t){var e=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),i=E.useState(QH++)[0],s=E.useState(D6)[0],o=E.useRef(t);E.useEffect(function(){o.current=t},[t]),E.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=yH([t.lockRef.current],(t.shards||[]).map(Q4),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=E.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=z0(y),b=n.current,N="deltaX"in y?y.deltaX:b[0]-w[0],R="deltaY"in y?y.deltaY:b[1]-w[1],z,U=y.target,I=Math.abs(N)>Math.abs(R)?"h":"v";if("touches"in y&&I==="h"&&U.type==="range")return!1;var k=K4(I,U);if(!k)return!0;if(k?z=I:(z=I==="v"?"h":"v",k=K4(I,U)),!k)return!1;if(!r.current&&"changedTouches"in y&&(N||R)&&(r.current=z),!z)return!0;var P=r.current||z;return GH(P,x,y,P==="h"?N:R,!0)},[]),l=E.useCallback(function(y){var x=y;if(!(!vh.length||vh[vh.length-1]!==s)){var w="deltaY"in x?Y4(x):z0(x),b=e.current.filter(function(z){return z.name===x.type&&(z.target===x.target||x.target===z.shadowParent)&&KH(z.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var N=(o.current.shards||[]).map(Q4).filter(Boolean).filter(function(z){return z.contains(x.target)}),R=N.length>0?a(x,N[0]):!o.current.noIsolation;R&&x.cancelable&&x.preventDefault()}}},[]),c=E.useCallback(function(y,x,w,b){var N={name:y,delta:x,target:w,should:b,shadowParent:JH(w)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(R){return R!==N})},1)},[]),d=E.useCallback(function(y){n.current=z0(y),r.current=void 0},[]),f=E.useCallback(function(y){c(y.type,Y4(y),y.target,a(y,t.lockRef.current))},[]),g=E.useCallback(function(y){c(y.type,z0(y),y.target,a(y,t.lockRef.current))},[]);E.useEffect(function(){return vh.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,gh),document.addEventListener("touchmove",l,gh),document.addEventListener("touchstart",d,gh),function(){vh=vh.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,gh),document.removeEventListener("touchmove",l,gh),document.removeEventListener("touchstart",d,gh)}},[]);var h=t.removeScrollBar,_=t.inert;return E.createElement(E.Fragment,null,_?E.createElement(s,{styles:YH(i)}):null,h?E.createElement(UH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZH=CH(j6,XH);var Gy=E.forwardRef(function(t,e){return E.createElement(Wy,Oa({},t,{ref:e,sideCar:ZH}))});Gy.classNames=Wy.classNames;var eW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yh=new WeakMap,$0=new WeakMap,q0={},Uw=0,B6=function(t){return t&&(t.host||B6(t.parentNode))},tW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=B6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nW=function(t,e,n,r){var i=tW(e,Array.isArray(t)?t:[t]);q0[n]||(q0[n]=new WeakMap);var s=q0[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))d(g);else try{var h=g.getAttribute(r),_=h!==null&&h!=="false",y=(yh.get(g)||0)+1,x=(s.get(g)||0)+1;yh.set(g,y),s.set(g,x),o.push(g),y===1&&_&&$0.set(g,!0),x===1&&g.setAttribute(n,"true"),_||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return d(e),a.clear(),Uw++,function(){o.forEach(function(f){var g=yh.get(f)-1,h=s.get(f)-1;yh.set(f,g),s.set(f,h),g||($0.has(f)||f.removeAttribute(r),$0.delete(f)),h||f.removeAttribute(n)}),Uw--,Uw||(yh=new WeakMap,yh=new WeakMap,$0=new WeakMap,q0={})}},yS=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=eW(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),nW(r,i,n,"aria-hidden")):function(){return null}},Ky="Dialog",[U6,V6]=sa(Ky),[rW,oa]=U6(Ky),z6=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=E.useRef(null),l=E.useRef(null),[c,d]=Pd({prop:r,defaultProp:i??!1,onChange:s,caller:Ky});return u.jsx(rW,{scope:e,triggerRef:a,contentRef:l,contentId:xs(),titleId:xs(),descriptionId:xs(),open:c,onOpenChange:d,onOpenToggle:E.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};z6.displayName=Ky;var $6="DialogTrigger",q6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oa($6,n),s=Xt(e,i.triggerRef);return u.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xS(i.open),...r,ref:s,onClick:ft(t.onClick,i.onOpenToggle)})});q6.displayName=$6;var wS="DialogPortal",[iW,H6]=U6(wS,{forceMount:void 0}),W6=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=oa(wS,e);return u.jsx(iW,{scope:e,forceMount:n,children:E.Children.map(r,o=>u.jsx(oo,{present:n||s.open,children:u.jsx(kg,{asChild:!0,container:i,children:o})}))})};W6.displayName=wS;var N1="DialogOverlay",G6=E.forwardRef((t,e)=>{const n=H6(N1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=oa(N1,t.__scopeDialog);return s.modal?u.jsx(oo,{present:r||s.open,children:u.jsx(oW,{...i,ref:e})}):null});G6.displayName=N1;var sW=kd("DialogOverlay.RemoveScroll"),oW=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oa(N1,n);return u.jsx(Gy,{as:sW,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(mt.div,{"data-state":xS(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ld="DialogContent",K6=E.forwardRef((t,e)=>{const n=H6(Ld,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=oa(Ld,t.__scopeDialog);return u.jsx(oo,{present:r||s.open,children:s.modal?u.jsx(aW,{...i,ref:e}):u.jsx(lW,{...i,ref:e})})});K6.displayName=Ld;var aW=E.forwardRef((t,e)=>{const n=oa(Ld,t.__scopeDialog),r=E.useRef(null),i=Xt(e,n.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return yS(s)},[]),u.jsx(Y6,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ft(t.onFocusOutside,s=>s.preventDefault())})}),lW=E.forwardRef((t,e)=>{const n=oa(Ld,t.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return u.jsx(Y6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Y6=E.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=oa(Ld,n),l=E.useRef(null),c=Xt(e,l);return vS(),u.jsxs(u.Fragment,{children:[u.jsx(Hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Jf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":xS(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(uW,{titleId:a.titleId}),u.jsx(hW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),_S="DialogTitle",Q6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oa(_S,n);return u.jsx(mt.h2,{id:i.titleId,...r,ref:e})});Q6.displayName=_S;var X6="DialogDescription",J6=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oa(X6,n);return u.jsx(mt.p,{id:i.descriptionId,...r,ref:e})});J6.displayName=X6;var Z6="DialogClose",eL=E.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oa(Z6,n);return u.jsx(mt.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});eL.displayName=Z6;function xS(t){return t?"open":"closed"}var tL="DialogTitleWarning",[cW,nL]=TU(tL,{contentName:Ld,titleName:_S,docsSlug:"dialog"}),uW=({titleId:t})=>{const e=nL(tL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dW="DialogDescriptionWarning",hW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nL(dW).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},bS=z6,fW=q6,SS=W6,Yy=G6,Qy=K6,ES=Q6,NS=J6,AS=eL;const bo=bS,pW=SS,rL=E.forwardRef(({className:t,...e},n)=>u.jsx(Yy,{ref:n,className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rL.displayName=Yy.displayName;const Zs=E.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(pW,{children:[u.jsx(rL,{}),u.jsxs(Qy,{ref:r,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(AS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Oy,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zs.displayName=Qy.displayName;const eo=({className:t,...e})=>u.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});eo.displayName="DialogHeader";const Wa=({className:t,...e})=>u.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Wa.displayName="DialogFooter";const to=E.forwardRef(({className:t,...e},n)=>u.jsx(ES,{ref:n,className:We("text-lg font-semibold leading-none tracking-tight",t),...e}));to.displayName=ES.displayName;const So=E.forwardRef(({className:t,...e},n)=>u.jsx(NS,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));So.displayName=NS.displayName;const Kt=E.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kt.displayName="Input";var mW=E.createContext(void 0);function iL(t){const e=E.useContext(mW);return t||e||"ltr"}function Qx(t,[e,n]){return Math.min(n,Math.max(e,t))}function gW(t,e){return E.useReducer((n,r)=>e[n][r]??n,t)}var CS="ScrollArea",[sL,jde]=sa(CS),[vW,To]=sL(CS),oL=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=E.useState(null),[c,d]=E.useState(null),[f,g]=E.useState(null),[h,_]=E.useState(null),[y,x]=E.useState(null),[w,b]=E.useState(0),[N,R]=E.useState(0),[z,U]=E.useState(!1),[I,k]=E.useState(!1),P=Xt(e,T=>l(T)),M=iL(i);return u.jsx(vW,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:g,scrollbarX:h,onScrollbarXChange:_,scrollbarXEnabled:z,onScrollbarXEnabledChange:U,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:I,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:R,children:u.jsx(mt.div,{dir:M,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});oL.displayName=CS;var aL="ScrollAreaViewport",lL=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=To(aL,n),a=E.useRef(null),l=Xt(e,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});lL.displayName=aL;var ll="ScrollAreaScrollbar",TS=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ll,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?u.jsx(yW,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(wW,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(cL,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(kS,{...r,ref:e}):null});TS.displayName=ll;var yW=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ll,t.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(oo,{present:n||s,children:u.jsx(cL,{"data-state":s?"visible":"hidden",...r,ref:e})})}),wW=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ll,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Jy(()=>l("SCROLL_END"),100),[a,l]=gW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let f=c[d];const g=()=>{const h=c[d];f!==h&&(l("SCROLL"),o()),f=h};return c.addEventListener("scroll",g),()=>c.removeEventListener("scroll",g)}},[i.viewport,s,l,o]),u.jsx(oo,{present:n||a!=="hidden",children:u.jsx(kS,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ft(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ft(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),cL=E.forwardRef((t,e)=>{const n=To(ll,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=E.useState(!1),a=t.orientation==="horizontal",l=Jy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return jf(n.viewport,l),jf(n.content,l),u.jsx(oo,{present:r||s,children:u.jsx(kS,{"data-state":s?"visible":"hidden",...i,ref:e})})}),kS=E.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=To(ll,t.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=pL(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:g=>s.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function f(g,h){return NW(g,o.current,a,h)}return n==="horizontal"?u.jsx(_W,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollLeft,h=X4(g,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=f(g,i.dir))}}):n==="vertical"?u.jsx(xW,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const g=i.viewport.scrollTop,h=X4(g,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=f(g))}}):null}),_W=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=To(ll,t.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=Xt(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(dL,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const g=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(g),gL(g,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:C1(o.paddingLeft),paddingEnd:C1(o.paddingRight)}})}})}),xW=E.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=To(ll,t.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=Xt(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(dL,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xy(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const g=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(g),gL(g,f)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:C1(o.paddingTop),paddingEnd:C1(o.paddingBottom)}})}})}),[bW,uL]=sL(ll),dL=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...g}=t,h=To(ll,n),[_,y]=E.useState(null),x=Xt(e,P=>y(P)),w=E.useRef(null),b=E.useRef(""),N=h.viewport,R=r.content-r.viewport,z=ti(d),U=ti(l),I=Jy(f,10);function k(P){if(w.current){const M=P.clientX-w.current.left,T=P.clientY-w.current.top;c({x:M,y:T})}}return E.useEffect(()=>{const P=M=>{const T=M.target;(_==null?void 0:_.contains(T))&&z(M,R)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[N,_,R,z]),E.useEffect(U,[r,U]),jf(_,I),jf(h.content,I),u.jsx(bW,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:ti(s),onThumbPointerUp:ti(o),onThumbPositionChange:U,onThumbPointerDown:ti(a),children:u.jsx(mt.div,{...g,ref:x,style:{position:"absolute",...g.style},onPointerDown:ft(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),w.current=_.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),k(P))}),onPointerMove:ft(t.onPointerMove,k),onPointerUp:ft(t.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),w.current=null})})})}),A1="ScrollAreaThumb",hL=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=uL(A1,t.__scopeScrollArea);return u.jsx(oo,{present:n||i.hasThumb,children:u.jsx(SW,{ref:e,...r})})}),SW=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=To(A1,n),o=uL(A1,n),{onThumbPositionChange:a}=o,l=Xt(e,f=>o.onThumbChange(f)),c=E.useRef(void 0),d=Jy(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const f=s.viewport;if(f){const g=()=>{if(d(),!c.current){const h=AW(f,a);c.current=h,a()}};return a(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[s.viewport,d,a]),u.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ft(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),_=f.clientX-h.left,y=f.clientY-h.top;o.onThumbPointerDown({x:_,y})}),onPointerUp:ft(t.onPointerUp,o.onThumbPointerUp)})});hL.displayName=A1;var PS="ScrollAreaCorner",fL=E.forwardRef((t,e)=>{const n=To(PS,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(EW,{...t,ref:e}):null});fL.displayName=PS;var EW=E.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=To(PS,n),[s,o]=E.useState(0),[a,l]=E.useState(0),c=!!(s&&a);return jf(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),jf(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?u.jsx(mt.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function C1(t){return t?parseInt(t,10):0}function pL(t,e){const n=t/e;return isNaN(n)?0:n}function Xy(t){const e=pL(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function NW(t,e,n,r="ltr"){const i=Xy(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return mL([l,c],f)(t)}function X4(t,e,n="ltr"){const r=Xy(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Qx(t,l);return mL([0,o],[0,a])(c)}function mL(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function gL(t,e){return t>0&&t<e}var AW=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Jy(t,e){const n=ti(t),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function jf(t,e){const n=ti(e);Kr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var vL=oL,CW=lL,TW=fL;const yL=E.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(vL,{ref:r,className:We("relative overflow-hidden",t),...n,children:[u.jsx(CW,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(wL,{}),u.jsx(TW,{})]}));yL.displayName=vL.displayName;const wL=E.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(TS,{ref:r,orientation:e,className:We("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(hL,{className:"relative flex-1 rounded-full bg-border"})}));wL.displayName=TS.displayName;const Mi={CUSTOMERS:"prakash_customers",BILLS:"prakash_bills",PAYMENTS:"prakash_payments",ITEMS:"prakash_items",ITEM_RATE_HISTORY:"prakash_item_rate_history"},rs=()=>{const t=localStorage.getItem(Mi.CUSTOMERS);return t?JSON.parse(t):[]},IS=t=>{const e=rs(),n=t.name.trim().toLowerCase();if(e.some(s=>s.name.trim().toLowerCase()===n))throw new Error("DUPLICATE_CUSTOMER_NAME");const i={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return e.push(i),localStorage.setItem(Mi.CUSTOMERS,JSON.stringify(e)),i},Ji=()=>{const t=localStorage.getItem(Mi.BILLS);return t?JSON.parse(t):[]},Xx=t=>{const e=Ji(),n={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return e.push(n),localStorage.setItem(Mi.BILLS,JSON.stringify(e)),window.dispatchEvent(new Event("storage")),n},_L=(t,e)=>{const n=Ji(),r=n.findIndex(o=>o.id===t);if(r===-1)return null;const s={...n[r],...e};return n[r]=s,localStorage.setItem(Mi.BILLS,JSON.stringify(n)),s},xL=t=>{const e=Ji(),n=e.find(i=>i.id===t);if(n){const{addToRecycleBin:i}=require("./recycle-bin");i("bill",n,`Bill #${t.slice(-6)} - ${n.customerName} - ₹${n.grandTotal}`)}const r=e.filter(i=>i.id!==t);localStorage.setItem(Mi.BILLS,JSON.stringify(r)),window.dispatchEvent(new Event("storage"))},bs=()=>{const t=localStorage.getItem(Mi.PAYMENTS);return t?JSON.parse(t):[]},kW=t=>{const e=bs(),n={...t,id:Date.now().toString(),createdAt:new Date().toISOString()};return e.push(n),localStorage.setItem(Mi.PAYMENTS,JSON.stringify(e)),n},bL=()=>bs().sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()),RS=t=>{const e=bs(),n=e.find(i=>i.id===t);if(n){const{addToRecycleBin:i}=require("./recycle-bin");i("payment",n,`Payment - ${n.customerName} - ₹${n.amount}`)}const r=e.filter(i=>i.id!==t);localStorage.setItem(Mi.PAYMENTS,JSON.stringify(r)),window.dispatchEvent(new Event("storage"))},SL=(t,e)=>{const n=bs(),r=n.findIndex(o=>o.id===t);if(r===-1)return null;const s={...n[r],...e};return n[r]=s,localStorage.setItem(Mi.PAYMENTS,JSON.stringify(n)),s},Zy=t=>{const e=Ji().filter(o=>o.customerId===t),n=bs().filter(o=>o.customerId===t),r=rs().find(o=>o.id===t),i=e.reduce((o,a)=>o+a.grandTotal,0),s=n.reduce((o,a)=>o+a.amount,0);return{customerId:t,customerName:(r==null?void 0:r.name)||"Unknown",totalSales:i,totalPaid:s,pending:i-s}},PW=t=>Ji().filter(e=>e.customerId===t),e2=()=>rs().map(e=>Zy(e.id)),Ns=()=>{const t=localStorage.getItem(Mi.ITEMS);return t?JSON.parse(t):[]},LS=t=>{const e=Ns(),n=t.name.trim().toLowerCase();if(e.some(s=>s.name.trim().toLowerCase()===n))throw new Error("DUPLICATE_ITEM_NAME");const i={...t,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return e.push(i),localStorage.setItem(Mi.ITEMS,JSON.stringify(e)),i},EL=(t,e)=>{const n=Ns(),r=n.findIndex(o=>o.id===t);if(r===-1)return null;const i=n[r];e.rate&&i.rate&&e.rate!==i.rate&&CL({itemId:t,oldRate:i.rate,newRate:e.rate});const s={...i,...e,updatedAt:new Date().toISOString()};return n[r]=s,localStorage.setItem(Mi.ITEMS,JSON.stringify(n)),s},NL=t=>{const e=Ns(),n=e.find(i=>i.id===t);if(n){const{addToRecycleBin:i}=require("./recycle-bin");i("customer",n,`Item - ${n.name}`)}const r=e.filter(i=>i.id!==t);localStorage.setItem(Mi.ITEMS,JSON.stringify(r)),window.dispatchEvent(new Event("storage"))},AL=()=>{const t=localStorage.getItem(Mi.ITEM_RATE_HISTORY);return t?JSON.parse(t):[]},CL=t=>{const e=AL(),n={...t,id:Date.now().toString(),changedAt:new Date().toISOString()};return e.push(n),localStorage.setItem(Mi.ITEM_RATE_HISTORY,JSON.stringify(e)),n},jS=()=>{const t=Ji(),e=Ns(),n=new Map;return e.forEach(r=>{n.set(r.id,{itemId:r.id,itemName:r.name,usageCount:0,totalQuantity:0,totalRevenue:0})}),t.forEach(r=>{r.items.forEach(i=>{const s=e.find(o=>o.name.toLowerCase()===i.itemName.toLowerCase());if(s){const o=n.get(s.id);o&&(o.usageCount+=1,o.totalQuantity+=i.quantity,o.totalRevenue+=i.total)}else{const o=Array.from(n.values()).find(a=>a.itemName.toLowerCase()===i.itemName.toLowerCase());o?(o.usageCount+=1,o.totalQuantity+=i.quantity,o.totalRevenue+=i.total):n.set(`legacy_${i.itemName}`,{itemId:`legacy_${i.itemName}`,itemName:i.itemName,usageCount:1,totalQuantity:i.quantity,totalRevenue:i.total})}})}),Array.from(n.values()).sort((r,i)=>i.usageCount-r.usageCount)},DS=(t=10)=>jS().slice(0,t),TL=t=>{if(!t.trim())return Ns();const e=Ns(),n=t.toLowerCase();return e.filter(r=>r.name.toLowerCase().includes(n)).sort((r,i)=>{const s=r.name.toLowerCase().startsWith(n),o=i.name.toLowerCase().startsWith(n);return s&&!o?-1:!s&&o?1:r.name.localeCompare(i.name)})},OS=Object.freeze(Object.defineProperty({__proto__:null,deleteBill:xL,deleteItem:NL,deletePayment:RS,getAllCustomerBalances:e2,getBills:Ji,getBillsByCustomer:PW,getCustomerBalance:Zy,getCustomers:rs,getItemUsageAnalytics:jS,getItems:Ns,getMostUsedItems:DS,getPaymentHistory:bL,getPayments:bs,getRateHistory:AL,saveBill:Xx,saveCustomer:IS,saveItem:LS,savePayment:kW,saveRateHistory:CL,searchItems:TL,updateBill:_L,updateItem:EL,updatePayment:SL},Symbol.toStringTag,{value:"Module"})),IW=(t,e,n,r,i)=>{const s=t.toLowerCase();return{bills:e.filter(o=>o.customerName.toLowerCase().includes(s)||o.particulars.toLowerCase().includes(s)||o.items.some(a=>a.itemName.toLowerCase().includes(s))),payments:n.filter(o=>o.customerName.toLowerCase().includes(s)),customers:r.filter(o=>o.name.toLowerCase().includes(s)||o.phone&&o.phone.includes(s)),items:i.filter(o=>o.name.toLowerCase().includes(s))}},RW=({open:t,onOpenChange:e,onNavigate:n})=>{const[r,i]=E.useState(""),[s,o]=E.useState({bills:[],payments:[],customers:[],items:[]});E.useEffect(()=>{if(!r.trim()){o({bills:[],payments:[],customers:[],items:[]});return}const c=Ji(),d=bs(),f=rs(),g=Ns(),h=IW(r,c,d,f,g);o(h)},[r]);const a=()=>{i(""),o({bills:[],payments:[],customers:[],items:[]})},l=s.bills.length+s.payments.length+s.customers.length+s.items.length;return u.jsx(bo,{open:t,onOpenChange:e,children:u.jsxs(Zs,{className:"max-w-2xl max-h-[80vh]",children:[u.jsx(eo,{children:u.jsx(to,{children:"Search Everything"})}),u.jsxs("div",{className:"relative",children:[u.jsx(Xd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Kt,{placeholder:"Search bills, payments, customers, items...",value:r,onChange:c=>i(c.target.value),className:"pl-9 pr-9",autoFocus:!0}),r&&u.jsx(Le,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:a,children:u.jsx(Oy,{className:"h-4 w-4"})})]}),u.jsxs(yL,{className:"h-[400px] pr-4",children:[!r&&u.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Start typing to search..."}),r&&l===0&&u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:['No results found for "',r,'"']}),s.bills.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold",children:[u.jsx(Zf,{className:"h-4 w-4"}),"Bills (",s.bills.length,")"]}),u.jsx("div",{className:"space-y-2",children:s.bills.map(c=>u.jsxs("div",{className:"p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>{n==null||n("edit-bills",c),e(!1)},children:[u.jsx("div",{className:"font-medium",children:c.customerName}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(c.date).toLocaleDateString()," • ₹",c.grandTotal.toFixed(2)]}),c.particulars&&u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:c.particulars})]},c.id))})]}),s.payments.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold",children:[u.jsx(RV,{className:"h-4 w-4"}),"Payments (",s.payments.length,")"]}),u.jsx("div",{className:"space-y-2",children:s.payments.map(c=>u.jsxs("div",{className:"p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>{n==null||n("edit-payments"),e(!1)},children:[u.jsx("div",{className:"font-medium",children:c.customerName}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(c.date).toLocaleDateString()," • ₹",c.amount.toFixed(2),c.paymentMethod&&` • ${c.paymentMethod}`]})]},c.id))})]}),s.customers.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold",children:[u.jsx(Ux,{className:"h-4 w-4"}),"Customers (",s.customers.length,")"]}),u.jsx("div",{className:"space-y-2",children:s.customers.map(c=>u.jsxs("div",{className:"p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>{n==null||n("customers"),e(!1)},children:[u.jsx("div",{className:"font-medium",children:c.name}),c.phone&&u.jsx("div",{className:"text-sm text-muted-foreground",children:c.phone})]},c.id))})]}),s.items.length>0&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-semibold",children:[u.jsx(eS,{className:"h-4 w-4"}),"Items (",s.items.length,")"]}),u.jsx("div",{className:"space-y-2",children:s.items.map(c=>u.jsxs("div",{className:"p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>{n==null||n("item-master"),e(!1)},children:[u.jsx("div",{className:"font-medium",children:c.name}),u.jsx("div",{className:"text-sm text-muted-foreground",children:c.type==="fixed"?`₹${c.rate}`:"Variable price"})]},c.id))})]})]})]})})},LW=({onNavigate:t})=>{const[e,n]=E.useState(!1),[r,i]=E.useState(!1);E.useEffect(()=>{const o=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;n(o==="dark"||!o&&a)},[]);const s=()=>{const o=!e;n(o),localStorage.setItem("theme",o?"dark":"light"),document.documentElement.classList.toggle("dark",o)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-soft to-accent-soft p-8",children:u.jsxs("div",{className:"max-w-lg mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"text-center flex-1",children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Prakashbhai"}),u.jsx("p",{className:"text-business-gray text-lg",children:"Bill Manager"})]}),u.jsxs("div",{className:"flex gap-2 ml-4",children:[u.jsx(Le,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"transition-all duration-200 hover:scale-105",children:u.jsx(Xd,{className:"w-4 h-4"})}),u.jsx(Le,{variant:"outline",size:"sm",onClick:s,className:"transition-all duration-200 hover:scale-105",children:e?u.jsx(MR,{className:"w-4 h-4"}):u.jsx(OR,{className:"w-4 h-4"})}),u.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>t("settings"),children:[u.jsx(OV,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]}),u.jsx(RW,{open:r,onOpenChange:i,onNavigate:t}),u.jsx(yt,{className:"shadow-lg",children:u.jsx(xt,{className:"p-8",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-primary hover:text-primary-foreground transition-all duration-300 hover:scale-105",onClick:()=>t("create-bill"),children:[u.jsx(Zf,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Create a Bill"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-accent hover:text-accent-foreground transition-all duration-300 hover:scale-105",onClick:()=>t("amount-tracker"),children:[u.jsx(xV,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Amount Paid/Not Paid"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-warning hover:text-warning-foreground transition-all duration-300 hover:scale-105",onClick:()=>t("last-balance"),children:[u.jsx(y4,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Last Balance"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-business-blue hover:text-primary-foreground transition-all duration-300 hover:scale-105",onClick:()=>t("total-business"),children:[u.jsx(Dy,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Total Business"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-orange-500 hover:text-white transition-all duration-300 hover:scale-105",onClick:()=>t("item-master"),children:[u.jsx(eS,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Item Master"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-indigo-500 hover:text-white transition-all duration-300 hover:scale-105",onClick:()=>t("analytics"),children:[u.jsx(EV,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-business-blue hover:text-primary-foreground transition-all duration-300 hover:scale-105",onClick:()=>t("customers"),children:[u.jsx(BV,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Customers"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-purple-500 hover:text-white transition-all duration-300 hover:scale-105",onClick:()=>t("edit-bills"),children:[u.jsx(tS,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Edit Bills"})]}),u.jsxs(Le,{variant:"outline",size:"lg",className:"h-24 flex-col gap-3 hover:bg-emerald-500 hover:text-white transition-all duration-300 hover:scale-105",onClick:()=>t("edit-payments"),children:[u.jsx(y4,{className:"w-8 h-8"}),u.jsx("span",{className:"text-sm font-medium",children:"Edit Amt Paid"})]})]})})})]})})},MS=E.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:We("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));MS.displayName="Textarea";var jW="Label",kL=E.forwardRef((t,e)=>u.jsx(mt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kL.displayName=jW;var PL=kL;const DW=jy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lt=E.forwardRef(({className:t,...e},n)=>u.jsx(PL,{ref:n,className:We(DW(),t),...e}));Lt.displayName=PL.displayName;var OW="Separator",J4="horizontal",MW=["horizontal","vertical"],IL=E.forwardRef((t,e)=>{const{decorative:n,orientation:r=J4,...i}=t,s=FW(r)?r:J4,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(mt.div,{"data-orientation":s,...a,...i,ref:e})});IL.displayName=OW;function FW(t){return MW.includes(t)}var RL=IL;const FS=E.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(RL,{ref:i,decorative:n,orientation:e,className:We("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));FS.displayName=RL.displayName;const BW=jy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vm({className:t,variant:e,...n}){return u.jsx("div",{className:We(BW({variant:e}),t),...n})}var Z4=1,UW=.9,VW=.8,zW=.17,Vw=.1,zw=.999,$W=.9999,qW=.99,HW=/[\\\/_+.#"@\[\(\{&]/,WW=/[\\\/_+.#"@\[\(\{&]/g,GW=/[\s-]/,LL=/[\s-]/g;function Jx(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?Z4:qW;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),d=0,f,g,h,_;c>=0;)f=Jx(t,e,n,r,c+1,s+1,o),f>d&&(c===i?f*=Z4:HW.test(t.charAt(c-1))?(f*=VW,h=t.slice(i,c-1).match(WW),h&&i>0&&(f*=Math.pow(zw,h.length))):GW.test(t.charAt(c-1))?(f*=UW,_=t.slice(i,c-1).match(LL),_&&i>0&&(f*=Math.pow(zw,_.length))):(f*=zW,i>0&&(f*=Math.pow(zw,c-i))),t.charAt(c)!==e.charAt(s)&&(f*=$W)),(f<Vw&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(g=Jx(t,e,n,r,c+1,s+2,o),g*Vw>f&&(f=g*Vw)),f>d&&(d=f),c=n.indexOf(l,c+1);return o[a]=d,d}function eC(t){return t.toLowerCase().replace(LL," ")}function KW(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Jx(t,e,eC(t),eC(e),0,0,{})}var Vp='[cmdk-group=""]',$w='[cmdk-group-items=""]',YW='[cmdk-group-heading=""]',jL='[cmdk-item=""]',tC=`${jL}:not([aria-disabled="true"])`,Zx="cmdk-item-select",Eh="data-value",QW=(t,e,n)=>KW(t,e,n),DL=E.createContext(void 0),jg=()=>E.useContext(DL),OL=E.createContext(void 0),BS=()=>E.useContext(OL),ML=E.createContext(void 0),FL=E.forwardRef((t,e)=>{let n=Nh(()=>{var D,H;return{search:"",value:(H=(D=t.value)!=null?D:t.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Nh(()=>new Set),i=Nh(()=>new Map),s=Nh(()=>new Map),o=Nh(()=>new Set),a=BL(t),{label:l,children:c,value:d,onValueChange:f,filter:g,shouldFilter:h,loop:_,disablePointerSelection:y=!1,vimBindings:x=!0,...w}=t,b=xs(),N=xs(),R=xs(),z=E.useRef(null),U=aG();jd(()=>{if(d!==void 0){let D=d.trim();n.current.value=D,I.emit()}},[d]),jd(()=>{U(6,O)},[]);let I=E.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>n.current,setState:(D,H,Q)=>{var Z,ae,K,ue;if(!Object.is(n.current[D],H)){if(n.current[D]=H,D==="search")L(),M(),U(1,T);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(R);de?de.focus():(Z=document.getElementById(b))==null||Z.focus()}if(U(7,()=>{var de;n.current.selectedItemId=(de=W())==null?void 0:de.id,I.emit()}),Q||U(5,O),((ae=a.current)==null?void 0:ae.value)!==void 0){let de=H??"";(ue=(K=a.current).onValueChange)==null||ue.call(K,de);return}}I.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),k=E.useMemo(()=>({value:(D,H,Q)=>{var Z;H!==((Z=s.current.get(D))==null?void 0:Z.value)&&(s.current.set(D,{value:H,keywords:Q}),n.current.filtered.items.set(D,P(H,Q)),U(2,()=>{M(),I.emit()}))},item:(D,H)=>(r.current.add(D),H&&(i.current.has(H)?i.current.get(H).add(D):i.current.set(H,new Set([D]))),U(3,()=>{L(),M(),n.current.value||T(),I.emit()}),()=>{s.current.delete(D),r.current.delete(D),n.current.filtered.items.delete(D);let Q=W();U(4,()=>{L(),(Q==null?void 0:Q.getAttribute("id"))===D&&T(),I.emit()})}),group:D=>(i.current.has(D)||i.current.set(D,new Set),()=>{s.current.delete(D),i.current.delete(D)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:b,inputId:R,labelId:N,listInnerRef:z}),[]);function P(D,H){var Q,Z;let ae=(Z=(Q=a.current)==null?void 0:Q.filter)!=null?Z:QW;return D?ae(D,n.current.search,H):0}function M(){if(!n.current.search||a.current.shouldFilter===!1)return;let D=n.current.filtered.items,H=[];n.current.filtered.groups.forEach(Z=>{let ae=i.current.get(Z),K=0;ae.forEach(ue=>{let de=D.get(ue);K=Math.max(de,K)}),H.push([Z,K])});let Q=z.current;le().sort((Z,ae)=>{var K,ue;let de=Z.getAttribute("id"),_e=ae.getAttribute("id");return((K=D.get(_e))!=null?K:0)-((ue=D.get(de))!=null?ue:0)}).forEach(Z=>{let ae=Z.closest($w);ae?ae.appendChild(Z.parentElement===ae?Z:Z.closest(`${$w} > *`)):Q.appendChild(Z.parentElement===Q?Z:Z.closest(`${$w} > *`))}),H.sort((Z,ae)=>ae[1]-Z[1]).forEach(Z=>{var ae;let K=(ae=z.current)==null?void 0:ae.querySelector(`${Vp}[${Eh}="${encodeURIComponent(Z[0])}"]`);K==null||K.parentElement.appendChild(K)})}function T(){let D=le().find(Q=>Q.getAttribute("aria-disabled")!=="true"),H=D==null?void 0:D.getAttribute(Eh);I.setState("value",H||void 0)}function L(){var D,H,Q,Z;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let K of r.current){let ue=(H=(D=s.current.get(K))==null?void 0:D.value)!=null?H:"",de=(Z=(Q=s.current.get(K))==null?void 0:Q.keywords)!=null?Z:[],_e=P(ue,de);n.current.filtered.items.set(K,_e),_e>0&&ae++}for(let[K,ue]of i.current)for(let de of ue)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(K);break}n.current.filtered.count=ae}function O(){var D,H,Q;let Z=W();Z&&(((D=Z.parentElement)==null?void 0:D.firstChild)===Z&&((Q=(H=Z.closest(Vp))==null?void 0:H.querySelector(YW))==null||Q.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function W(){var D;return(D=z.current)==null?void 0:D.querySelector(`${jL}[aria-selected="true"]`)}function le(){var D;return Array.from(((D=z.current)==null?void 0:D.querySelectorAll(tC))||[])}function fe(D){let H=le()[D];H&&I.setState("value",H.getAttribute(Eh))}function oe(D){var H;let Q=W(),Z=le(),ae=Z.findIndex(ue=>ue===Q),K=Z[ae+D];(H=a.current)!=null&&H.loop&&(K=ae+D<0?Z[Z.length-1]:ae+D===Z.length?Z[0]:Z[ae+D]),K&&I.setState("value",K.getAttribute(Eh))}function $(D){let H=W(),Q=H==null?void 0:H.closest(Vp),Z;for(;Q&&!Z;)Q=D>0?sG(Q,Vp):oG(Q,Vp),Z=Q==null?void 0:Q.querySelector(tC);Z?I.setState("value",Z.getAttribute(Eh)):oe(D)}let te=()=>fe(le().length-1),se=D=>{D.preventDefault(),D.metaKey?te():D.altKey?$(1):oe(1)},ge=D=>{D.preventDefault(),D.metaKey?fe(0):D.altKey?$(-1):oe(-1)};return E.createElement(mt.div,{ref:e,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:D=>{var H;(H=w.onKeyDown)==null||H.call(w,D);let Q=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||Q))switch(D.key){case"n":case"j":{x&&D.ctrlKey&&se(D);break}case"ArrowDown":{se(D);break}case"p":case"k":{x&&D.ctrlKey&&ge(D);break}case"ArrowUp":{ge(D);break}case"Home":{D.preventDefault(),fe(0);break}case"End":{D.preventDefault(),te();break}case"Enter":{D.preventDefault();let Z=W();if(Z){let ae=new Event(Zx);Z.dispatchEvent(ae)}}}}},E.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:cG},l),t2(t,D=>E.createElement(OL.Provider,{value:I},E.createElement(DL.Provider,{value:k},D))))}),XW=E.forwardRef((t,e)=>{var n,r;let i=xs(),s=E.useRef(null),o=E.useContext(ML),a=jg(),l=BL(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;jd(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let d=UL(i,s,[t.value,t.children,s],t.keywords),f=BS(),g=wu(U=>U.value&&U.value===d.current),h=wu(U=>c||a.filter()===!1?!0:U.search?U.filtered.items.get(i)>0:!0);E.useEffect(()=>{let U=s.current;if(!(!U||t.disabled))return U.addEventListener(Zx,_),()=>U.removeEventListener(Zx,_)},[h,t.onSelect,t.disabled]);function _(){var U,I;y(),(I=(U=l.current).onSelect)==null||I.call(U,d.current)}function y(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:x,value:w,onSelect:b,forceMount:N,keywords:R,...z}=t;return E.createElement(mt.div,{ref:Td(s,e),...z,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!g,"data-disabled":!!x,"data-selected":!!g,onPointerMove:x||a.getDisablePointerSelection()?void 0:y,onClick:x?void 0:_},t.children)}),JW=E.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=xs(),a=E.useRef(null),l=E.useRef(null),c=xs(),d=jg(),f=wu(h=>i||d.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);jd(()=>d.group(o),[]),UL(o,a,[t.value,t.heading,l]);let g=E.useMemo(()=>({id:o,forceMount:i}),[i]);return E.createElement(mt.div,{ref:Td(a,e),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&E.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),t2(t,h=>E.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},E.createElement(ML.Provider,{value:g},h))))}),ZW=E.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=E.useRef(null),s=wu(o=>!o.search);return!n&&!s?null:E.createElement(mt.div,{ref:Td(i,e),...r,"cmdk-separator":"",role:"separator"})}),eG=E.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=BS(),o=wu(c=>c.search),a=wu(c=>c.selectedItemId),l=jg();return E.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),E.createElement(mt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:o,onChange:c=>{i||s.setState("search",c.target.value),n==null||n(c.target.value)}})}),tG=E.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=E.useRef(null),o=E.useRef(null),a=wu(c=>c.selectedItemId),l=jg();return E.useEffect(()=>{if(o.current&&s.current){let c=o.current,d=s.current,f,g=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=c.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return g.observe(c),()=>{cancelAnimationFrame(f),g.unobserve(c)}}},[]),E.createElement(mt.div,{ref:Td(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},t2(t,c=>E.createElement("div",{ref:Td(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),nG=E.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return E.createElement(bS,{open:n,onOpenChange:r},E.createElement(SS,{container:o},E.createElement(Yy,{"cmdk-overlay":"",className:i}),E.createElement(Qy,{"aria-label":t.label,"cmdk-dialog":"",className:s},E.createElement(FL,{ref:e,...a}))))}),rG=E.forwardRef((t,e)=>wu(n=>n.filtered.count===0)?E.createElement(mt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),iG=E.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return E.createElement(mt.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},t2(t,o=>E.createElement("div",{"aria-hidden":!0},o)))}),Cs=Object.assign(FL,{List:tG,Item:XW,Input:eG,Group:JW,Separator:ZW,Dialog:nG,Empty:rG,Loading:iG});function sG(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function oG(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function BL(t){let e=E.useRef(t);return jd(()=>{e.current=t}),e}var jd=typeof window>"u"?E.useEffect:E.useLayoutEffect;function Nh(t){let e=E.useRef();return e.current===void 0&&(e.current=t()),e}function wu(t){let e=BS(),n=()=>t(e.snapshot());return E.useSyncExternalStore(e.subscribe,n,n)}function UL(t,e,n,r=[]){let i=E.useRef(),s=jg();return jd(()=>{var o;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(Eh,a),i.current=a}),i}var aG=()=>{let[t,e]=E.useState(),n=Nh(()=>new Map);return jd(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function lG(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function t2({asChild:t,children:e},n){return t&&E.isValidElement(e)?E.cloneElement(lG(e),{ref:e.ref},n(e.props.children)):n(e)}var cG={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const VL=E.forwardRef(({className:t,...e},n)=>u.jsx(Cs,{ref:n,className:We("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));VL.displayName=Cs.displayName;const zL=E.forwardRef(({className:t,...e},n)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(Xd,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Cs.Input,{ref:n,className:We("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));zL.displayName=Cs.Input.displayName;const $L=E.forwardRef(({className:t,...e},n)=>u.jsx(Cs.List,{ref:n,className:We("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));$L.displayName=Cs.List.displayName;const qL=E.forwardRef((t,e)=>u.jsx(Cs.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));qL.displayName=Cs.Empty.displayName;const Cv=E.forwardRef(({className:t,...e},n)=>u.jsx(Cs.Group,{ref:n,className:We("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Cv.displayName=Cs.Group.displayName;const uG=E.forwardRef(({className:t,...e},n)=>u.jsx(Cs.Separator,{ref:n,className:We("-mx-1 h-px bg-border",t),...e}));uG.displayName=Cs.Separator.displayName;const Tv=E.forwardRef(({className:t,...e},n)=>u.jsx(Cs.Item,{ref:n,className:We("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Tv.displayName=Cs.Item.displayName;var n2="Popover",[HL,Dde]=sa(n2,[rp]),Dg=rp(),[dG,Ru]=HL(n2),WL=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Dg(e),l=E.useRef(null),[c,d]=E.useState(!1),[f,g]=Pd({prop:r,defaultProp:i??!1,onChange:s,caller:n2});return u.jsx(g6,{...a,children:u.jsx(dG,{scope:e,contentId:xs(),triggerRef:l,open:f,onOpenChange:g,onOpenToggle:E.useCallback(()=>g(h=>!h),[g]),hasCustomAnchor:c,onCustomAnchorAdd:E.useCallback(()=>d(!0),[]),onCustomAnchorRemove:E.useCallback(()=>d(!1),[]),modal:o,children:n})})};WL.displayName=n2;var GL="PopoverAnchor",hG=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ru(GL,n),s=Dg(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return E.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(Uy,{...s,...r,ref:e})});hG.displayName=GL;var KL="PopoverTrigger",YL=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ru(KL,n),s=Dg(n),o=Xt(e,i.triggerRef),a=u.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ej(i.open),...r,ref:o,onClick:ft(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(Uy,{asChild:!0,...s,children:a})});YL.displayName=KL;var US="PopoverPortal",[fG,pG]=HL(US,{forceMount:void 0}),QL=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Ru(US,e);return u.jsx(fG,{scope:e,forceMount:n,children:u.jsx(oo,{present:n||s.open,children:u.jsx(kg,{asChild:!0,container:i,children:r})})})};QL.displayName=US;var Df="PopoverContent",XL=E.forwardRef((t,e)=>{const n=pG(Df,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Ru(Df,t.__scopePopover);return u.jsx(oo,{present:r||s.open,children:s.modal?u.jsx(gG,{...i,ref:e}):u.jsx(vG,{...i,ref:e})})});XL.displayName=Df;var mG=kd("PopoverContent.RemoveScroll"),gG=E.forwardRef((t,e)=>{const n=Ru(Df,t.__scopePopover),r=E.useRef(null),i=Xt(e,r),s=E.useRef(!1);return E.useEffect(()=>{const o=r.current;if(o)return yS(o)},[]),u.jsx(Gy,{as:mG,allowPinchZoom:!0,children:u.jsx(JL,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ft(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ft(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),vG=E.forwardRef((t,e)=>{const n=Ru(Df,t.__scopePopover),r=E.useRef(!1),i=E.useRef(!1);return u.jsx(JL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JL=E.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...f}=t,g=Ru(Df,n),h=Dg(n);return vS(),u.jsx(Hy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Jf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:u.jsx(hS,{"data-state":ej(g.open),role:"dialog",id:g.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZL="PopoverClose",yG=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Ru(ZL,n);return u.jsx(mt.button,{type:"button",...r,ref:e,onClick:ft(t.onClick,()=>i.onOpenChange(!1))})});yG.displayName=ZL;var wG="PopoverArrow",_G=E.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Dg(n);return u.jsx(fS,{...i,...r,ref:e})});_G.displayName=wG;function ej(t){return t?"open":"closed"}var xG=WL,bG=YL,SG=QL,tj=XL;const Jm=xG,Zm=bG,Of=E.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx(SG,{children:u.jsx(tj,{ref:i,align:e,sideOffset:n,className:We("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Of.displayName=tj.displayName;function nj(t){const e=E.useRef({value:t,previous:t});return E.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var EG=[" ","Enter","ArrowUp","ArrowDown"],NG=[" ","Enter"],Dd="Select",[r2,i2,AG]=sR(Dd),[ip,Ode]=sa(Dd,[AG,rp]),s2=rp(),[CG,Lu]=ip(Dd),[TG,kG]=ip(Dd),rj=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:g,required:h,form:_}=t,y=s2(e),[x,w]=E.useState(null),[b,N]=E.useState(null),[R,z]=E.useState(!1),U=iL(c),[I,k]=Pd({prop:r,defaultProp:i??!1,onChange:s,caller:Dd}),[P,M]=Pd({prop:o,defaultProp:a,onChange:l,caller:Dd}),T=E.useRef(null),L=x?_||!!x.closest("form"):!0,[O,W]=E.useState(new Set),le=Array.from(O).map(fe=>fe.props.value).join(";");return u.jsx(g6,{...y,children:u.jsxs(CG,{required:h,scope:e,trigger:x,onTriggerChange:w,valueNode:b,onValueNodeChange:N,valueNodeHasChildren:R,onValueNodeHasChildrenChange:z,contentId:xs(),value:P,onValueChange:M,open:I,onOpenChange:k,dir:U,triggerPointerDownPosRef:T,disabled:g,children:[u.jsx(r2.Provider,{scope:e,children:u.jsx(TG,{scope:t.__scopeSelect,onNativeOptionAdd:E.useCallback(fe=>{W(oe=>new Set(oe).add(fe))},[]),onNativeOptionRemove:E.useCallback(fe=>{W(oe=>{const $=new Set(oe);return $.delete(fe),$})},[]),children:n})}),L?u.jsxs(Cj,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:fe=>M(fe.target.value),disabled:g,form:_,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from(O)]},le):null]})})};rj.displayName=Dd;var ij="SelectTrigger",sj=E.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=s2(n),o=Lu(ij,n),a=o.disabled||r,l=Xt(e,o.onTriggerChange),c=i2(n),d=E.useRef("touch"),[f,g,h]=kj(y=>{const x=c().filter(N=>!N.disabled),w=x.find(N=>N.value===o.value),b=Pj(x,y,w);b!==void 0&&o.onValueChange(b.value)}),_=y=>{a||(o.onOpenChange(!0),h()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(Uy,{asChild:!0,...s,children:u.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Tj(o.value)?"":void 0,...i,ref:l,onClick:ft(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&_(y)}),onPointerDown:ft(i.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(_(y),y.preventDefault())}),onKeyDown:ft(i.onKeyDown,y=>{const x=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(x&&y.key===" ")&&EG.includes(y.key)&&(_(),y.preventDefault())})})})});sj.displayName=ij;var oj="SelectValue",aj=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Lu(oj,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=Xt(e,l.onValueNodeChange);return Kr(()=>{c(d)},[c,d]),u.jsx(mt.span,{...a,ref:f,style:{pointerEvents:"none"},children:Tj(l.value)?u.jsx(u.Fragment,{children:o}):s})});aj.displayName=oj;var PG="SelectIcon",lj=E.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(mt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});lj.displayName=PG;var IG="SelectPortal",cj=t=>u.jsx(kg,{asChild:!0,...t});cj.displayName=IG;var Od="SelectContent",uj=E.forwardRef((t,e)=>{const n=Lu(Od,t.__scopeSelect),[r,i]=E.useState();if(Kr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Qd.createPortal(u.jsx(dj,{scope:t.__scopeSelect,children:u.jsx(r2.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(hj,{...t,ref:e})});uj.displayName=Od;var Uo=10,[dj,ju]=ip(Od),RG="SelectContentImpl",LG=kd("SelectContent.RemoveScroll"),hj=E.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:h,sticky:_,hideWhenDetached:y,avoidCollisions:x,...w}=t,b=Lu(Od,n),[N,R]=E.useState(null),[z,U]=E.useState(null),I=Xt(e,K=>R(K)),[k,P]=E.useState(null),[M,T]=E.useState(null),L=i2(n),[O,W]=E.useState(!1),le=E.useRef(!1);E.useEffect(()=>{if(N)return yS(N)},[N]),vS();const fe=E.useCallback(K=>{const[ue,...de]=L().map(he=>he.ref.current),[_e]=de.slice(-1),Ne=document.activeElement;for(const he of K)if(he===Ne||(he==null||he.scrollIntoView({block:"nearest"}),he===ue&&z&&(z.scrollTop=0),he===_e&&z&&(z.scrollTop=z.scrollHeight),he==null||he.focus(),document.activeElement!==Ne))return},[L,z]),oe=E.useCallback(()=>fe([k,N]),[fe,k,N]);E.useEffect(()=>{O&&oe()},[O,oe]);const{onOpenChange:$,triggerPointerDownPosRef:te}=b;E.useEffect(()=>{if(N){let K={x:0,y:0};const ue=_e=>{var Ne,he;K={x:Math.abs(Math.round(_e.pageX)-(((Ne=te.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((he=te.current)==null?void 0:he.y)??0))}},de=_e=>{K.x<=10&&K.y<=10?_e.preventDefault():N.contains(_e.target)||$(!1),document.removeEventListener("pointermove",ue),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",de,{capture:!0})}}},[N,$,te]),E.useEffect(()=>{const K=()=>$(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[$]);const[se,ge]=kj(K=>{const ue=L().filter(Ne=>!Ne.disabled),de=ue.find(Ne=>Ne.ref.current===document.activeElement),_e=Pj(ue,K,de);_e&&setTimeout(()=>_e.ref.current.focus())}),D=E.useCallback((K,ue,de)=>{const _e=!le.current&&!de;(b.value!==void 0&&b.value===ue||_e)&&(P(K),_e&&(le.current=!0))},[b.value]),H=E.useCallback(()=>N==null?void 0:N.focus(),[N]),Q=E.useCallback((K,ue,de)=>{const _e=!le.current&&!de;(b.value!==void 0&&b.value===ue||_e)&&T(K)},[b.value]),Z=r==="popper"?e5:fj,ae=Z===e5?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:h,sticky:_,hideWhenDetached:y,avoidCollisions:x}:{};return u.jsx(dj,{scope:n,content:N,viewport:z,onViewportChange:U,itemRefCallback:D,selectedItem:k,onItemLeave:H,itemTextRefCallback:Q,focusSelectedItem:oe,selectedItemText:M,position:r,isPositioned:O,searchRef:se,children:u.jsx(Gy,{as:LG,allowPinchZoom:!0,children:u.jsx(Hy,{asChild:!0,trapped:b.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ft(i,K=>{var ue;(ue=b.trigger)==null||ue.focus({preventScroll:!0}),K.preventDefault()}),children:u.jsx(Jf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:u.jsx(Z,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:K=>K.preventDefault(),...w,...ae,onPlaced:()=>W(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ft(w.onKeyDown,K=>{const ue=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ue&&K.key.length===1&&ge(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let _e=L().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(K.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ne=K.target,he=_e.indexOf(Ne);_e=_e.slice(he+1)}setTimeout(()=>fe(_e)),K.preventDefault()}})})})})})})});hj.displayName=RG;var jG="SelectItemAlignedPosition",fj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Lu(Od,n),o=ju(Od,n),[a,l]=E.useState(null),[c,d]=E.useState(null),f=Xt(e,I=>d(I)),g=i2(n),h=E.useRef(!1),_=E.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:w,focusSelectedItem:b}=o,N=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&x&&w){const I=s.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(s.dir!=="rtl"){const Ne=M.left-k.left,he=P.left-Ne,Ee=I.left-he,ye=I.width+Ee,ee=Math.max(ye,k.width),st=window.innerWidth-Uo,ct=Qx(he,[Uo,Math.max(Uo,st-ee)]);a.style.minWidth=ye+"px",a.style.left=ct+"px"}else{const Ne=k.right-M.right,he=window.innerWidth-P.right-Ne,Ee=window.innerWidth-I.right-he,ye=I.width+Ee,ee=Math.max(ye,k.width),st=window.innerWidth-Uo,ct=Qx(he,[Uo,Math.max(Uo,st-ee)]);a.style.minWidth=ye+"px",a.style.right=ct+"px"}const T=g(),L=window.innerHeight-Uo*2,O=y.scrollHeight,W=window.getComputedStyle(c),le=parseInt(W.borderTopWidth,10),fe=parseInt(W.paddingTop,10),oe=parseInt(W.borderBottomWidth,10),$=parseInt(W.paddingBottom,10),te=le+fe+O+$+oe,se=Math.min(x.offsetHeight*5,te),ge=window.getComputedStyle(y),D=parseInt(ge.paddingTop,10),H=parseInt(ge.paddingBottom,10),Q=I.top+I.height/2-Uo,Z=L-Q,ae=x.offsetHeight/2,K=x.offsetTop+ae,ue=le+fe+K,de=te-ue;if(ue<=Q){const Ne=T.length>0&&x===T[T.length-1].ref.current;a.style.bottom="0px";const he=c.clientHeight-y.offsetTop-y.offsetHeight,Ee=Math.max(Z,ae+(Ne?H:0)+he+oe),ye=ue+Ee;a.style.height=ye+"px"}else{const Ne=T.length>0&&x===T[0].ref.current;a.style.top="0px";const Ee=Math.max(Q,le+y.offsetTop+(Ne?D:0)+ae)+de;a.style.height=Ee+"px",y.scrollTop=ue-Q+y.offsetTop}a.style.margin=`${Uo}px 0`,a.style.minHeight=se+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[g,s.trigger,s.valueNode,a,c,y,x,w,s.dir,r]);Kr(()=>N(),[N]);const[R,z]=E.useState();Kr(()=>{c&&z(window.getComputedStyle(c).zIndex)},[c]);const U=E.useCallback(I=>{I&&_.current===!0&&(N(),b==null||b(),_.current=!1)},[N,b]);return u.jsx(OG,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:U,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:u.jsx(mt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});fj.displayName=jG;var DG="SelectPopperPosition",e5=E.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Uo,...s}=t,o=s2(n);return u.jsx(hS,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e5.displayName=DG;var[OG,VS]=ip(Od,{}),t5="SelectViewport",pj=E.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ju(t5,n),o=VS(t5,n),a=Xt(e,s.onViewportChange),l=E.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(r2.Slot,{scope:n,children:u.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ft(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const _=window.innerHeight-Uo*2,y=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(y,x);if(w<_){const b=w+h,N=Math.min(_,b),R=b-N;f.style.height=N+"px",f.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});pj.displayName=t5;var mj="SelectGroup",[MG,FG]=ip(mj),BG=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=xs();return u.jsx(MG,{scope:n,id:i,children:u.jsx(mt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});BG.displayName=mj;var gj="SelectLabel",vj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=FG(gj,n);return u.jsx(mt.div,{id:i.id,...r,ref:e})});vj.displayName=gj;var T1="SelectItem",[UG,yj]=ip(T1),wj=E.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Lu(T1,n),l=ju(T1,n),c=a.value===r,[d,f]=E.useState(s??""),[g,h]=E.useState(!1),_=Xt(e,b=>{var N;return(N=l.itemRefCallback)==null?void 0:N.call(l,b,r,i)}),y=xs(),x=E.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(UG,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:E.useCallback(b=>{f(N=>N||((b==null?void 0:b.textContent)??"").trim())},[]),children:u.jsx(r2.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(mt.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:ft(o.onFocus,()=>h(!0)),onBlur:ft(o.onBlur,()=>h(!1)),onClick:ft(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:ft(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:ft(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:ft(o.onPointerMove,b=>{var N;x.current=b.pointerType,i?(N=l.onItemLeave)==null||N.call(l):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,b=>{var N;b.currentTarget===document.activeElement&&((N=l.onItemLeave)==null||N.call(l))}),onKeyDown:ft(o.onKeyDown,b=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&b.key===" "||(NG.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});wj.displayName=T1;var Jp="SelectItemText",_j=E.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Lu(Jp,n),a=ju(Jp,n),l=yj(Jp,n),c=kG(Jp,n),[d,f]=E.useState(null),g=Xt(e,w=>f(w),l.onItemTextChange,w=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,w,l.value,l.disabled)}),h=d==null?void 0:d.textContent,_=E.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return Kr(()=>(y(_),()=>x(_)),[y,x,_]),u.jsxs(u.Fragment,{children:[u.jsx(mt.span,{id:l.textId,...s,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qd.createPortal(s.children,o.valueNode):null]})});_j.displayName=Jp;var xj="SelectItemIndicator",bj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yj(xj,n).isSelected?u.jsx(mt.span,{"aria-hidden":!0,...r,ref:e}):null});bj.displayName=xj;var n5="SelectScrollUpButton",Sj=E.forwardRef((t,e)=>{const n=ju(n5,t.__scopeSelect),r=VS(n5,t.__scopeSelect),[i,s]=E.useState(!1),o=Xt(e,r.onScrollButtonChange);return Kr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(Nj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Sj.displayName=n5;var r5="SelectScrollDownButton",Ej=E.forwardRef((t,e)=>{const n=ju(r5,t.__scopeSelect),r=VS(r5,t.__scopeSelect),[i,s]=E.useState(!1),o=Xt(e,r.onScrollButtonChange);return Kr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(Nj,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Ej.displayName=r5;var Nj=E.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ju("SelectScrollButton",n),o=E.useRef(null),a=i2(n),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),Kr(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(mt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ft(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ft(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ft(i.onPointerLeave,()=>{l()})})}),VG="SelectSeparator",Aj=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(mt.div,{"aria-hidden":!0,...r,ref:e})});Aj.displayName=VG;var i5="SelectArrow",zG=E.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=s2(n),s=Lu(i5,n),o=ju(i5,n);return s.open&&o.position==="popper"?u.jsx(fS,{...i,...r,ref:e}):null});zG.displayName=i5;var $G="SelectBubbleInput",Cj=E.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=E.useRef(null),s=Xt(r,i),o=nj(e);return E.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),u.jsx(mt.select,{...n,style:{...uR,...n.style},ref:s,defaultValue:e})});Cj.displayName=$G;function Tj(t){return t===""||t===void 0}function kj(t){const e=ti(t),n=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Pj(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=qG(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function qG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HG=rj,Ij=sj,WG=aj,GG=lj,KG=cj,Rj=uj,YG=pj,Lj=vj,jj=wj,QG=_j,XG=bj,Dj=Sj,Oj=Ej,Mj=Aj;const Zi=HG,es=WG,Li=E.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ij,{ref:r,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(GG,{asChild:!0,children:u.jsx(y1,{className:"h-4 w-4 opacity-50"})})]}));Li.displayName=Ij.displayName;const Fj=E.forwardRef(({className:t,...e},n)=>u.jsx(Dj,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(TV,{className:"h-4 w-4"})}));Fj.displayName=Dj.displayName;const Bj=E.forwardRef(({className:t,...e},n)=>u.jsx(Oj,{ref:n,className:We("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(y1,{className:"h-4 w-4"})}));Bj.displayName=Oj.displayName;const ji=E.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(KG,{children:u.jsxs(Rj,{ref:i,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Fj,{}),u.jsx(YG,{className:We("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(Bj,{})]})}));ji.displayName=Rj.displayName;const JG=E.forwardRef(({className:t,...e},n)=>u.jsx(Lj,{ref:n,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JG.displayName=Lj.displayName;const gn=E.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(jj,{ref:r,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(XG,{children:u.jsx(NV,{className:"h-4 w-4"})})}),u.jsx(QG,{children:e})]}));gn.displayName=jj.displayName;const ZG=E.forwardRef(({className:t,...e},n)=>u.jsx(Mj,{ref:n,className:We("-mx-1 my-1 h-px bg-muted",t),...e}));ZG.displayName=Mj.displayName;function wn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ro(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ki(t,e){const n=wn(t);return isNaN(e)?ro(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ea(t,e){const n=wn(t);if(isNaN(e))return ro(t,NaN);if(!e)return n;const r=n.getDate(),i=ro(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const zS=6048e5,eK=864e5;let tK={};function Og(){return tK}function rl(t,e){var a,l,c,d;const n=Og(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=wn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Md(t){return rl(t,{weekStartsOn:1})}function Uj(t){const e=wn(t),n=e.getFullYear(),r=ro(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Md(r),s=ro(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Md(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Mf(t){const e=wn(t);return e.setHours(0,0,0,0),e}function k1(t){const e=wn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ba(t,e){const n=Mf(t),r=Mf(e),i=+n-k1(n),s=+r-k1(r);return Math.round((i-s)/eK)}function nK(t){const e=Uj(t),n=ro(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Md(n)}function s5(t,e){const n=e*7;return Ki(t,n)}function rK(t,e){return ea(t,e*12)}function iK(t){let e;return t.forEach(function(n){const r=wn(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function sK(t){let e;return t.forEach(n=>{const r=wn(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function gs(t,e){const n=Mf(t),r=Mf(e);return+n==+r}function $S(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oK(t){if(!$S(t)&&typeof t!="number")return!1;const e=wn(t);return!isNaN(Number(e))}function eg(t,e){const n=wn(t),r=wn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function aK(t,e,n){const r=rl(t,n),i=rl(e,n),s=+r-k1(r),o=+i-k1(i);return Math.round((s-o)/zS)}function qS(t){const e=wn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ss(t){const e=wn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Vj(t){const e=wn(t),n=ro(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function HS(t,e){var a,l,c,d;const n=Og(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=wn(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function zj(t){return HS(t,{weekStartsOn:1})}const lK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cK=(t,e,n)=>{let r;const i=lK[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function qw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const uK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fK={date:qw({formats:uK,defaultWidth:"full"}),time:qw({formats:dK,defaultWidth:"full"}),dateTime:qw({formats:hK,defaultWidth:"full"})},pK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mK=(t,e,n,r)=>pK[t];function zp(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const gK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_K={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SK={ordinalNumber:bK,era:zp({values:gK,defaultWidth:"wide"}),quarter:zp({values:vK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zp({values:yK,defaultWidth:"wide"}),day:zp({values:wK,defaultWidth:"wide"}),dayPeriod:zp({values:_K,defaultWidth:"wide",formattingValues:xK,defaultFormattingWidth:"wide"})};function $p(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?NK(a,f=>f.test(o)):EK(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function EK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function AK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const CK=/^(\d+)(th|st|nd|rd)?/i,TK=/\d+/i,kK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PK={any:[/^b/i,/^(a|c)/i]},IK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RK={any:[/1/i,/2/i,/3/i,/4/i]},LK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BK={ordinalNumber:AK({matchPattern:CK,parsePattern:TK,valueCallback:t=>parseInt(t,10)}),era:$p({matchPatterns:kK,defaultMatchWidth:"wide",parsePatterns:PK,defaultParseWidth:"any"}),quarter:$p({matchPatterns:IK,defaultMatchWidth:"wide",parsePatterns:RK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$p({matchPatterns:LK,defaultMatchWidth:"wide",parsePatterns:jK,defaultParseWidth:"any"}),day:$p({matchPatterns:DK,defaultMatchWidth:"wide",parsePatterns:OK,defaultParseWidth:"any"}),dayPeriod:$p({matchPatterns:MK,defaultMatchWidth:"any",parsePatterns:FK,defaultParseWidth:"any"})},$j={code:"en-US",formatDistance:cK,formatLong:fK,formatRelative:mK,localize:SK,match:BK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UK(t){const e=wn(t);return Ba(e,Vj(e))+1}function qj(t){const e=wn(t),n=+Md(e)-+nK(e);return Math.round(n/zS)+1}function Hj(t,e){var d,f,g,h;const n=wn(t),r=n.getFullYear(),i=Og(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(g=i.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??1,o=ro(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=rl(o,e),l=ro(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=rl(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function VK(t,e){var a,l,c,d;const n=Og(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=Hj(t,e),s=ro(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),rl(s,e)}function Wj(t,e){const n=wn(t),r=+rl(n,e)-+VK(n,e);return Math.round(r/zS)+1}function Ln(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Nc={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ln(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ln(n+1,2)},d(t,e){return Ln(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ln(t.getHours()%12||12,e.length)},H(t,e){return Ln(t.getHours(),e.length)},m(t,e){return Ln(t.getMinutes(),e.length)},s(t,e){return Ln(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ln(i,e.length)}},wh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Nc.y(t,e)},Y:function(t,e,n,r){const i=Hj(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ln(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ln(s,e.length)},R:function(t,e){const n=Uj(t);return Ln(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ln(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ln(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ln(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Nc.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ln(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Wj(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ln(i,e.length)},I:function(t,e,n){const r=qj(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ln(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Nc.d(t,e)},D:function(t,e,n){const r=UK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ln(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ln(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ln(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ln(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=wh.noon:r===0?i=wh.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=wh.evening:r>=12?i=wh.afternoon:r>=4?i=wh.morning:i=wh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nc.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Nc.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ln(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ln(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nc.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Nc.s(t,e)},S:function(t,e){return Nc.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iC(r);case"XXXX":case"XX":return td(r);case"XXXXX":case"XXX":default:return td(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return iC(r);case"xxxx":case"xx":return td(r);case"xxxxx":case"xxx":default:return td(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rC(r,":");case"OOOO":default:return"GMT"+td(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rC(r,":");case"zzzz":default:return"GMT"+td(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ln(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ln(r,e.length)}};function rC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ln(s,2)}function iC(t,e){return t%60===0?(t>0?"-":"+")+Ln(Math.abs(t)/60,2):td(t,e)}function td(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ln(Math.trunc(r/60),2),s=Ln(r%60,2);return n+i+e+s}const sC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Gj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return sC(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",sC(r,e)).replace("{{time}}",Gj(i,e))},$K={p:Gj,P:zK},qK=/^D+$/,HK=/^Y+$/,WK=["D","DD","YY","YYYY"];function GK(t){return qK.test(t)}function KK(t){return HK.test(t)}function YK(t,e,n){const r=QK(t,e,n);if(console.warn(r),WK.includes(t))throw new RangeError(r)}function QK(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZK=/^'([^]*?)'?$/,eY=/''/g,tY=/[a-zA-Z]/;function ta(t,e,n){var d,f,g,h,_,y,x,w;const r=Og(),i=(n==null?void 0:n.locale)??r.locale??$j,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(g=r.locale)==null?void 0:g.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(x=r.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,a=wn(t);if(!oK(a))throw new RangeError("Invalid time value");let l=e.match(JK).map(b=>{const N=b[0];if(N==="p"||N==="P"){const R=$K[N];return R(b,i.formatLong)}return b}).join("").match(XK).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const N=b[0];if(N==="'")return{isToken:!1,value:nY(b)};if(nC[N])return{isToken:!0,value:b};if(N.match(tY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const N=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&KK(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&GK(N))&&YK(N,e,String(t));const R=nC[N[0]];return R(a,N,i.localize,c)}).join("")}function nY(t){const e=t.match(ZK);return e?e[1].replace(eY,"'"):t}function rY(t){const e=wn(t),n=e.getFullYear(),r=e.getMonth(),i=ro(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function iY(t){return Math.trunc(+wn(t)/1e3)}function sY(t){const e=wn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function oY(t,e){return aK(sY(t),Ss(t),e)+1}function o5(t,e){const n=wn(t),r=wn(e);return n.getTime()>r.getTime()}function Kj(t,e){const n=wn(t),r=wn(e);return+n<+r}function WS(t,e){const n=wn(t),r=wn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function aY(t,e){const n=wn(t),r=wn(e);return n.getFullYear()===r.getFullYear()}function Hw(t,e){return Ki(t,-e)}function Ww(t,e){const n=wn(t),r=n.getFullYear(),i=n.getDate(),s=ro(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=rY(s);return n.setMonth(e,Math.min(i,o)),n}function oC(t,e){const n=wn(t);return isNaN(+n)?ro(t,NaN):(n.setFullYear(e),n)}var Rt=function(){return Rt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Rt.apply(this,arguments)};function lY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Yj(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Mg(t){return t.mode==="multiple"}function Fg(t){return t.mode==="range"}function o2(t){return t.mode==="single"}var cY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function uY(t,e){return ta(t,"LLLL y",e)}function dY(t,e){return ta(t,"d",e)}function hY(t,e){return ta(t,"LLLL",e)}function fY(t){return"".concat(t)}function pY(t,e){return ta(t,"cccccc",e)}function mY(t,e){return ta(t,"yyyy",e)}var gY=Object.freeze({__proto__:null,formatCaption:uY,formatDay:dY,formatMonthCaption:hY,formatWeekNumber:fY,formatWeekdayName:pY,formatYearCaption:mY}),vY=function(t,e,n){return ta(t,"do MMMM (EEEE)",n)},yY=function(){return"Month: "},wY=function(){return"Go to next month"},_Y=function(){return"Go to previous month"},xY=function(t,e){return ta(t,"cccc",e)},bY=function(t){return"Week n. ".concat(t)},SY=function(){return"Year: "},EY=Object.freeze({__proto__:null,labelDay:vY,labelMonthDropdown:yY,labelNext:wY,labelPrevious:_Y,labelWeekNumber:bY,labelWeekday:xY,labelYearDropdown:SY});function NY(){var t="buttons",e=cY,n=$j,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:gY,labels:EY,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function AY(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=Ss(r):e&&(s=new Date(e,0,1)),i?o=qS(i):n&&(o=new Date(n,11,31)),{fromDate:s?Mf(s):void 0,toDate:o?Mf(o):void 0}}var Qj=E.createContext(void 0);function CY(t){var e,n=t.initialProps,r=NY(),i=AY(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(o2(n)||Mg(n)||Fg(n))&&(l=n.onSelect);var c=Rt(Rt(Rt({},r),n),{captionLayout:a,classNames:Rt(Rt({},r.classNames),n.classNames),components:Rt({},n.components),formatters:Rt(Rt({},r.formatters),n.formatters),fromDate:s,labels:Rt(Rt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Rt(Rt({},r.modifiers),n.modifiers),modifiersClassNames:Rt(Rt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Rt(Rt({},r.styles),n.styles),toDate:o});return u.jsx(Qj.Provider,{value:c,children:t.children})}function Yn(){var t=E.useContext(Qj);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Xj(t){var e=Yn(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function TY(t){return u.jsx("svg",Rt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Jj(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,c=Yn(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:TY;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function kY(t){var e,n=Yn(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var f=[];if(aY(r,i))for(var g=Ss(r),h=r.getMonth();h<=i.getMonth();h++)f.push(Ww(g,h));else for(var g=Ss(new Date),h=0;h<=11;h++)f.push(Ww(g,h));var _=function(x){var w=Number(x.target.value),b=Ww(Ss(t.displayMonth),w);t.onChange(b)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:Jj;return u.jsx(y,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(x){return u.jsx("option",{value:x.getMonth(),children:a(x,{locale:o})},x.getMonth())})})}function PY(t){var e,n=t.displayMonth,r=Yn(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,g=[];if(!i)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});for(var h=i.getFullYear(),_=s.getFullYear(),y=h;y<=_;y++)g.push(oC(Vj(new Date),y));var x=function(b){var N=oC(Ss(n),Number(b.target.value));t.onChange(N)},w=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:Jj;return u.jsx(w,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:g.map(function(b){return u.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function IY(t,e){var n=E.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function RY(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&eg(s,i)<0){var c=-1*(l-1);i=ea(s,c)}return o&&eg(i,o)<0&&(i=o),Ss(i)}function LY(){var t=Yn(),e=RY(t),n=IY(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=Ss(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function jY(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ss(t),s=Ss(ea(i,r)),o=eg(s,i),a=[],l=0;l<o;l++){var c=ea(i,l);a.push(c)}return n&&(a=a.reverse()),a}function DY(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ss(t);if(!n)return ea(a,o);var l=eg(n,t);if(!(l<s))return ea(a,o)}}function OY(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ss(t);if(!n)return ea(a,-o);var l=eg(a,n);if(!(l<=0))return ea(a,-o)}}var Zj=E.createContext(void 0);function MY(t){var e=Yn(),n=LY(),r=n[0],i=n[1],s=jY(r,e),o=DY(r,e),a=OY(r,e),l=function(f){return s.some(function(g){return WS(f,g)})},c=function(f,g){l(f)||(g&&Kj(f,g)?i(ea(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(Zj.Provider,{value:d,children:t.children})}function Bg(){var t=E.useContext(Zj);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function aC(t){var e,n=Yn(),r=n.classNames,i=n.styles,s=n.components,o=Bg().goToMonth,a=function(d){o(ea(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:Xj,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(kY,{onChange:a,displayMonth:t.displayMonth}),u.jsx(PY,{onChange:a,displayMonth:t.displayMonth})]})}function FY(t){return u.jsx("svg",Rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function BY(t){return u.jsx("svg",Rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var P1=E.forwardRef(function(t,e){var n=Yn(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=Rt(Rt({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Rt({},t,{ref:e,type:"button",className:o,style:a}))});function UY(t){var e,n,r=Yn(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var g=c(t.previousMonth,{locale:s}),h=[o.nav_button,o.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:s}),y=[o.nav_button,o.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:BY,w=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:FY;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(P1,{name:"previous-month","aria-label":g,className:h,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(x,{className:o.nav_icon,style:a.nav_icon}):u.jsx(w,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(P1,{name:"next-month","aria-label":_,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(w,{className:o.nav_icon,style:a.nav_icon}):u.jsx(x,{className:o.nav_icon,style:a.nav_icon})})]})}function lC(t){var e=Yn().numberOfMonths,n=Bg(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(_){return WS(t.displayMonth,_)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),f=e>1&&(c||!l),g=function(){r&&s(r)},h=function(){i&&s(i)};return u.jsx(UY,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:g,onNextClick:h})}function VY(t){var e,n=Yn(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:Xj,c;return i?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(aC,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(aC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(lC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(lC,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:s.caption,children:c})}function zY(t){var e=Yn(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function $Y(t,e,n){for(var r=n?Md(new Date):rl(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=Ki(r,s);i.push(o)}return i}function qY(){var t=Yn(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=$Y(i,s,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,f){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:a(d,{locale:i})},f)})]})}function HY(){var t,e=Yn(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:qY;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(s,{})})}function WY(t){var e=Yn(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var GS=E.createContext(void 0);function GY(t){if(!Mg(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(GS.Provider,{value:e,children:t.children})}return u.jsx(KY,{initialProps:t.initialProps,children:t.children})}function KY(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(c,d,f){var g,h;(g=e.onDayClick)===null||g===void 0||g.call(e,c,d,f);var _=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!_){var y=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var x=r?Yj([],r):[];if(d.selected){var w=x.findIndex(function(b){return gs(c,b)});x.splice(w,1)}else x.push(c);(h=e.onSelect)===null||h===void 0||h.call(e,x,c,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=s&&r.length>s-1,f=r.some(function(g){return gs(g,c)});return!!(d&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(GS.Provider,{value:l,children:n})}function KS(){var t=E.useContext(GS);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function YY(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?gs(i,t)&&gs(r,t)?void 0:gs(i,t)?{from:i,to:void 0}:gs(r,t)?void 0:o5(r,t)?{from:t,to:i}:{from:r,to:t}:i?o5(t,i)?{from:i,to:t}:{from:t,to:i}:r?Kj(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var YS=E.createContext(void 0);function QY(t){if(!Fg(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(YS.Provider,{value:e,children:t.children})}return u.jsx(XY,{initialProps:t.initialProps,children:t.children})}function XY(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,c=function(h,_,y){var x,w;(x=e.onDayClick)===null||x===void 0||x.call(e,h,_,y);var b=YY(h,r);(w=e.onSelect)===null||w===void 0||w.call(e,b,h,_,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],gs(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:Hw(s,a-1),before:Ki(s,a-1)}),s&&o&&d.disabled.push({after:s,before:Ki(s,a-1)}),!s&&o&&d.disabled.push({after:Hw(o,a-1),before:Ki(o,a-1)})),l){if(s&&!o&&(d.disabled.push({before:Ki(s,-l+1)}),d.disabled.push({after:Ki(s,l-1)})),s&&o){var f=Ba(o,s)+1,g=l-f;d.disabled.push({before:Hw(s,g)}),d.disabled.push({after:Ki(o,g)})}!s&&o&&(d.disabled.push({before:Ki(o,-l+1)}),d.disabled.push({after:Ki(o,l-1)}))}return u.jsx(YS.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function QS(){var t=E.useContext(YS);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function kv(t){return Array.isArray(t)?Yj([],t):t!==void 0?[t]:[]}function JY(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=kv(i)}),e}var na;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(na||(na={}));var ZY=na.Selected,Cl=na.Disabled,eQ=na.Hidden,tQ=na.Today,Gw=na.RangeEnd,Kw=na.RangeMiddle,Yw=na.RangeStart,nQ=na.Outside;function rQ(t,e,n){var r,i=(r={},r[ZY]=kv(t.selected),r[Cl]=kv(t.disabled),r[eQ]=kv(t.hidden),r[tQ]=[t.today],r[Gw]=[],r[Kw]=[],r[Yw]=[],r[nQ]=[],r);return t.fromDate&&i[Cl].push({before:t.fromDate}),t.toDate&&i[Cl].push({after:t.toDate}),Mg(t)?i[Cl]=i[Cl].concat(e.modifiers[Cl]):Fg(t)&&(i[Cl]=i[Cl].concat(n.modifiers[Cl]),i[Yw]=n.modifiers[Yw],i[Kw]=n.modifiers[Kw],i[Gw]=n.modifiers[Gw]),i}var eD=E.createContext(void 0);function iQ(t){var e=Yn(),n=KS(),r=QS(),i=rQ(e,n,r),s=JY(e.modifiers),o=Rt(Rt({},i),s);return u.jsx(eD.Provider,{value:o,children:t.children})}function tD(){var t=E.useContext(eD);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function sQ(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function oQ(t){return!!(t&&typeof t=="object"&&"from"in t)}function aQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function lQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function cQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function uQ(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=Ba(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=Ba(t,r)>=0&&Ba(i,t)>=0;return o}return i?gs(i,t):r?gs(r,t):!1}function dQ(t){return $S(t)}function hQ(t){return Array.isArray(t)&&t.every($S)}function fQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(dQ(n))return gs(t,n);if(hQ(n))return n.includes(t);if(oQ(n))return uQ(t,n);if(cQ(n))return n.dayOfWeek.includes(t.getDay());if(sQ(n)){var r=Ba(n.before,t),i=Ba(n.after,t),s=r>0,o=i<0,a=o5(n.before,n.after);return a?o&&s:s||o}return aQ(n)?Ba(t,n.after)>0:lQ(n)?Ba(n.before,t)>0:typeof n=="function"?n(t):!1})}function XS(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return fQ(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!WS(t,n)&&(i.outside=!0),i}function pQ(t,e){for(var n=Ss(t[0]),r=qS(t[t.length-1]),i,s,o=n;o<=r;){var a=XS(o,e),l=!a.disabled&&!a.hidden;if(!l){o=Ki(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=Ki(o,1)}return s||i}var mQ=365;function nD(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,f=i.locale,g={day:Ki,week:s5,month:ea,year:rK,startOfWeek:function(x){return i.ISOWeek?Md(x):rl(x,{locale:f,weekStartsOn:l})},endOfWeek:function(x){return i.ISOWeek?zj(x):HS(x,{locale:f,weekStartsOn:l})}},h=g[n](t,r==="after"?1:-1);r==="before"&&c?h=iK([c,h]):r==="after"&&d&&(h=sK([d,h]));var _=!0;if(s){var y=XS(h,s);_=!y.disabled&&!y.hidden}return _?h:a.count>mQ?a.lastFocused:nD(h,{moveBy:n,direction:r,context:i,modifiers:s,retry:Rt(Rt({},a),{count:a.count+1})})}var rD=E.createContext(void 0);function gQ(t){var e=Bg(),n=tD(),r=E.useState(),i=r[0],s=r[1],o=E.useState(),a=o[0],l=o[1],c=pQ(e.displayMonths,n),d=i??(a&&e.isDateDisplayed(a))?a:c,f=function(){l(i),s(void 0)},g=function(x){s(x)},h=Yn(),_=function(x,w){if(i){var b=nD(i,{moveBy:x,direction:w,context:h,modifiers:n});gs(i,b)||(e.goToDate(b,i),g(b))}},y={focusedDay:i,focusTarget:d,blur:f,focus:g,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return u.jsx(rD.Provider,{value:y,children:t.children})}function JS(){var t=E.useContext(rD);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function vQ(t,e){var n=tD(),r=XS(t,n,e);return r}var ZS=E.createContext(void 0);function yQ(t){if(!o2(t.initialProps)){var e={selected:void 0};return u.jsx(ZS.Provider,{value:e,children:t.children})}return u.jsx(wQ,{initialProps:t.initialProps,children:t.children})}function wQ(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return u.jsx(ZS.Provider,{value:i,children:n})}function iD(){var t=E.useContext(ZS);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _Q(t,e){var n=Yn(),r=iD(),i=KS(),s=QS(),o=JS(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,g=o.focus,h=o.focusMonthBefore,_=o.focusMonthAfter,y=o.focusYearBefore,x=o.focusYearAfter,w=o.focusStartOfWeek,b=o.focusEndOfWeek,N=function(oe){var $,te,se,ge;o2(n)?($=r.onDayClick)===null||$===void 0||$.call(r,t,e,oe):Mg(n)?(te=i.onDayClick)===null||te===void 0||te.call(i,t,e,oe):Fg(n)?(se=s.onDayClick)===null||se===void 0||se.call(s,t,e,oe):(ge=n.onDayClick)===null||ge===void 0||ge.call(n,t,e,oe)},R=function(oe){var $;g(t),($=n.onDayFocus)===null||$===void 0||$.call(n,t,e,oe)},z=function(oe){var $;f(),($=n.onDayBlur)===null||$===void 0||$.call(n,t,e,oe)},U=function(oe){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,t,e,oe)},I=function(oe){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,t,e,oe)},k=function(oe){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,t,e,oe)},P=function(oe){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,t,e,oe)},M=function(oe){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,t,e,oe)},T=function(oe){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,t,e,oe)},L=function(oe){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,t,e,oe)},O=function(oe){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,t,e,oe)},W=function(oe){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,t,e,oe)},le=function(oe){var $;switch(oe.key){case"ArrowLeft":oe.preventDefault(),oe.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":oe.preventDefault(),oe.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":oe.preventDefault(),oe.stopPropagation(),c();break;case"ArrowUp":oe.preventDefault(),oe.stopPropagation(),d();break;case"PageUp":oe.preventDefault(),oe.stopPropagation(),oe.shiftKey?y():h();break;case"PageDown":oe.preventDefault(),oe.stopPropagation(),oe.shiftKey?x():_();break;case"Home":oe.preventDefault(),oe.stopPropagation(),w();break;case"End":oe.preventDefault(),oe.stopPropagation(),b();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,t,e,oe)},fe={onClick:N,onFocus:R,onBlur:z,onKeyDown:le,onKeyUp:W,onMouseEnter:U,onMouseLeave:I,onPointerEnter:k,onPointerLeave:P,onTouchCancel:M,onTouchEnd:T,onTouchMove:L,onTouchStart:O};return fe}function xQ(){var t=Yn(),e=iD(),n=KS(),r=QS(),i=o2(t)?e.selected:Mg(t)?n.selected:Fg(t)?r.selected:void 0;return i}function bQ(t){return Object.values(na).includes(t)}function SQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(bQ(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function EQ(t,e){var n=Rt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Rt(Rt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function NQ(t,e,n){var r,i,s,o=Yn(),a=JS(),l=vQ(t,e),c=_Q(t,l),d=xQ(),f=!!(o.onDayClick||o.mode!=="default");E.useEffect(function(){var U;l.outside||a.focusedDay&&f&&gs(a.focusedDay,t)&&((U=n.current)===null||U===void 0||U.focus())},[a.focusedDay,t,n,f,l.outside]);var g=SQ(o,l).join(" "),h=EQ(o,l),_=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:WY,x=u.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),w={style:h,className:g,children:x,role:"gridcell"},b=a.focusTarget&&gs(a.focusTarget,t)&&!l.outside,N=a.focusedDay&&gs(a.focusedDay,t),R=Rt(Rt(Rt({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=N||b?0:-1,r)),c),z={isButton:f,isHidden:_,activeModifiers:l,selectedDays:d,buttonProps:R,divProps:w};return z}function AQ(t){var e=E.useRef(null),n=NQ(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(P1,Rt({name:"day",ref:e},n.buttonProps)):u.jsx("div",Rt({},n.divProps))}function CQ(t){var e=t.number,n=t.dates,r=Yn(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!i)return u.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=l(Number(e),{locale:a}),g=function(h){i(e,n,h)};return u.jsx(P1,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:g,children:d})}function TQ(t){var e,n,r=Yn(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:AQ,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:CQ,d;return o&&(d=u.jsx("td",{className:s.cell,style:i.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return u.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:f})},iY(f))})]})}function cC(t,e,n){for(var r=n!=null&&n.ISOWeek?zj(e):HS(e,n),i=n!=null&&n.ISOWeek?Md(t):rl(t,n),s=Ba(r,i),o=[],a=0;a<=s;a++)o.push(Ki(i,a));var l=o.reduce(function(c,d){var f=n!=null&&n.ISOWeek?qj(d):Wj(d,n),g=c.find(function(h){return h.weekNumber===f});return g?(g.dates.push(d),c):(c.push({weekNumber:f,dates:[d]}),c)},[]);return l}function kQ(t,e){var n=cC(Ss(t),qS(t),e);if(e!=null&&e.useFixedWeeks){var r=oY(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=s5(s,6-r),a=cC(s5(s,1),o,e);n.push.apply(n,a)}}return n}function PQ(t){var e,n,r,i=Yn(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,f=i.weekStartsOn,g=i.firstWeekContainsDate,h=i.ISOWeek,_=kQ(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:h,locale:s,weekStartsOn:f,firstWeekContainsDate:g}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:HY,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:TQ,w=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:zY;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(y,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:_.map(function(b){return u.jsx(x,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),u.jsx(w,{displayMonth:t.displayMonth})]})}function IQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var RQ=IQ()?E.useLayoutEffect:E.useEffect,Qw=!1,LQ=0;function uC(){return"react-day-picker-".concat(++LQ)}function jQ(t){var e,n=t??(Qw?uC():null),r=E.useState(n),i=r[0],s=r[1];return RQ(function(){i===null&&s(uC())},[]),E.useEffect(function(){Qw===!1&&(Qw=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function DQ(t){var e,n,r=Yn(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=Bg().displayMonths,c=jQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],g=o.month,h=t.displayIndex===0,_=t.displayIndex===l.length-1,y=!h&&!_;i==="rtl"&&(e=[h,_],_=e[0],h=e[1]),h&&(f.push(s.caption_start),g=Rt(Rt({},g),o.caption_start)),_&&(f.push(s.caption_end),g=Rt(Rt({},g),o.caption_end)),y&&(f.push(s.caption_between),g=Rt(Rt({},g),o.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:VY;return u.jsxs("div",{className:f.join(" "),style:g,children:[u.jsx(x,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(PQ,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function OQ(t){var e=Yn(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function MQ(t){var e,n,r=t.initialProps,i=Yn(),s=JS(),o=Bg(),a=E.useState(!1),l=a[0],c=a[1];E.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Rt(Rt({},i.styles.root),i.style),g=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,y){var x;return Rt(Rt({},_),(x={},x[y]=r[y],x))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:OQ;return u.jsx("div",Rt({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:u.jsx(h,{children:o.displayMonths.map(function(_,y){return u.jsx(DQ,{displayIndex:y,displayMonth:_},y)})})}))}function FQ(t){var e=t.children,n=lY(t,["children"]);return u.jsx(CY,{initialProps:n,children:u.jsx(MY,{children:u.jsx(yQ,{initialProps:n,children:u.jsx(GY,{initialProps:n,children:u.jsx(QY,{initialProps:n,children:u.jsx(iQ,{children:u.jsx(gQ,{children:e})})})})})})})}function BQ(t){return u.jsx(FQ,Rt({},t,{children:u.jsx(MQ,{initialProps:t})}))}function tg({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(BQ,{showOutsideDays:n,className:We("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:We(Xm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:We(Xm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>u.jsx(AV,{className:"h-4 w-4"}),IconRight:({...i})=>u.jsx(CV,{className:"h-4 w-4"})},...r})}tg.displayName="Calendar";function rf({date:t,onDateChange:e,placeholder:n="Pick a date",disabled:r=!1,className:i}){return u.jsxs(Jm,{children:[u.jsx(Zm,{asChild:!0,children:u.jsxs(Le,{variant:"outline",className:We("justify-start text-left font-normal min-h-[44px] touch-manipulation",!t&&"text-muted-foreground",i),disabled:r,children:[u.jsx(v1,{className:"mr-2 h-4 w-4 shrink-0"}),t?ta(t,"dd/MM/yyyy"):u.jsx("span",{children:n})]})}),u.jsx(Of,{className:"w-auto p-0",align:"start",children:u.jsx(tg,{mode:"single",selected:t,onSelect:e,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})}const UQ="modulepreload",VQ=function(t){return"/"+t},dC={},Es=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=VQ(l),l in dC)return;dC[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":UQ,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((g,h)=>{f.addEventListener("load",g),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function jn(t){"@babel/helpers - typeof";return jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(t)}var ra=Uint8Array,Ks=Uint16Array,eE=Int32Array,tE=new ra([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nE=new ra([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hC=new ra([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sD=function(t,e){for(var n=new Ks(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new eE(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},oD=sD(tE,2),zQ=oD.b,a5=oD.r;zQ[28]=258,a5[258]=28;var $Q=sD(nE,0),fC=$Q.r,l5=new Ks(32768);for(var tr=0;tr<32768;++tr){var Ac=(tr&43690)>>1|(tr&21845)<<1;Ac=(Ac&52428)>>2|(Ac&13107)<<2,Ac=(Ac&61680)>>4|(Ac&3855)<<4,l5[tr]=((Ac&65280)>>8|(Ac&255)<<8)>>1}var ym=function(t,e,n){for(var r=t.length,i=0,s=new Ks(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Ks(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ks(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],f=o[t[i]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)a[l5[f]>>l]=c}else for(a=new Ks(r),i=0;i<r;++i)t[i]&&(a[i]=l5[o[t[i]-1]++]>>15-t[i]);return a},Fd=new ra(288);for(var tr=0;tr<144;++tr)Fd[tr]=8;for(var tr=144;tr<256;++tr)Fd[tr]=9;for(var tr=256;tr<280;++tr)Fd[tr]=7;for(var tr=280;tr<288;++tr)Fd[tr]=8;var I1=new ra(32);for(var tr=0;tr<32;++tr)I1[tr]=5;var qQ=ym(Fd,9,0),HQ=ym(I1,5,0),aD=function(t){return(t+7)/8|0},WQ=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new ra(t.subarray(e,n))},Tl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},qp=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Xw=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:cD,l:0};if(i==1){var o=new ra(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(z,U){return z.f-U.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,d=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=d&&n[c].f<n[f].f?c++:f++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var h=new Ks(g+1),_=c5(n[d-1],h,0);if(_>e){var r=0,y=0,x=_-e,w=1<<x;for(s.sort(function(U,I){return h[I.s]-h[U.s]||U.f-I.f});r<i;++r){var b=s[r].s;if(h[b]>e)y+=w-(1<<_-h[b]),h[b]=e;else break}for(y>>=x;y>0;){var N=s[r].s;h[N]<e?y-=1<<e-h[N]++-1:++r}for(;r>=0&&y;--r){var R=s[r].s;h[R]==e&&(--h[R],++y)}_=e}return{t:new ra(h),l:_}},c5=function(t,e,n){return t.s==-1?Math.max(c5(t.l,e,n+1),c5(t.r,e,n+1)):e[t.s]=n},pC=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ks(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Hp=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},lD=function(t,e,n){var r=n.length,i=aD(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},mC=function(t,e,n,r,i,s,o,a,l,c,d){Tl(e,d++,n),++i[256];for(var f=Xw(i,15),g=f.t,h=f.l,_=Xw(s,15),y=_.t,x=_.l,w=pC(g),b=w.c,N=w.n,R=pC(y),z=R.c,U=R.n,I=new Ks(19),k=0;k<b.length;++k)++I[b[k]&31];for(var k=0;k<z.length;++k)++I[z[k]&31];for(var P=Xw(I,7),M=P.t,T=P.l,L=19;L>4&&!M[hC[L-1]];--L);var O=c+5<<3,W=Hp(i,Fd)+Hp(s,I1)+o,le=Hp(i,g)+Hp(s,y)+o+14+3*L+Hp(I,M)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&O<=W&&O<=le)return lD(e,d,t.subarray(l,l+c));var fe,oe,$,te;if(Tl(e,d,1+(le<W)),d+=2,le<W){fe=ym(g,h,0),oe=g,$=ym(y,x,0),te=y;var se=ym(M,T,0);Tl(e,d,N-257),Tl(e,d+5,U-1),Tl(e,d+10,L-4),d+=14;for(var k=0;k<L;++k)Tl(e,d+3*k,M[hC[k]]);d+=3*L;for(var ge=[b,z],D=0;D<2;++D)for(var H=ge[D],k=0;k<H.length;++k){var Q=H[k]&31;Tl(e,d,se[Q]),d+=M[Q],Q>15&&(Tl(e,d,H[k]>>5&127),d+=H[k]>>12)}}else fe=qQ,oe=Fd,$=HQ,te=I1;for(var k=0;k<a;++k){var Z=r[k];if(Z>255){var Q=Z>>18&31;qp(e,d,fe[Q+257]),d+=oe[Q+257],Q>7&&(Tl(e,d,Z>>23&31),d+=tE[Q]);var ae=Z&31;qp(e,d,$[ae]),d+=te[ae],ae>3&&(qp(e,d,Z>>5&8191),d+=nE[ae])}else qp(e,d,fe[Z]),d+=oe[Z]}return qp(e,d,fe[256]),d+oe[256]},GQ=new eE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cD=new ra(0),KQ=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ra(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var f=GQ[e-1],g=f>>13,h=f&8191,_=(1<<n)-1,y=s.p||new Ks(32768),x=s.h||new Ks(_+1),w=Math.ceil(n/3),b=2*w,N=function(ye){return(t[ye]^t[ye+1]<<w^t[ye+2]<<b)&_},R=new eE(25e3),z=new Ks(288),U=new Ks(32),I=0,k=0,P=s.i||0,M=0,T=s.w||0,L=0;P+2<o;++P){var O=N(P),W=P&32767,le=x[O];if(y[W]=le,x[O]=W,T<=P){var fe=o-P;if((I>7e3||M>24576)&&(fe>423||!c)){d=mC(t,l,0,R,z,U,k,M,L,P-L,d),M=I=k=0,L=P;for(var oe=0;oe<286;++oe)z[oe]=0;for(var oe=0;oe<30;++oe)U[oe]=0}var $=2,te=0,se=h,ge=W-le&32767;if(fe>2&&O==N(P-ge))for(var D=Math.min(g,fe)-1,H=Math.min(32767,P),Q=Math.min(258,fe);ge<=H&&--se&&W!=le;){if(t[P+$]==t[P+$-ge]){for(var Z=0;Z<Q&&t[P+Z]==t[P+Z-ge];++Z);if(Z>$){if($=Z,te=ge,Z>D)break;for(var ae=Math.min(ge,Z-2),K=0,oe=0;oe<ae;++oe){var ue=P-ge+oe&32767,de=y[ue],_e=ue-de&32767;_e>K&&(K=_e,le=ue)}}}W=le,le=y[W],ge+=W-le&32767}if(te){R[M++]=268435456|a5[$]<<18|fC[te];var Ne=a5[$]&31,he=fC[te]&31;k+=tE[Ne]+nE[he],++z[257+Ne],++U[he],T=P+$,++I}else R[M++]=t[P],++z[t[P]]}}for(P=Math.max(P,T);P<o;++P)R[M++]=t[P],++z[t[P]];d=mC(t,l,c,R,z,U,k,M,L,P-L,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=x,s.p=y,s.i=P,s.w=T)}else{for(var P=s.w||0;P<o+c;P+=65535){var Ee=P+65535;Ee>=o&&(l[d/8|0]=c,Ee=o),d=lD(l,d+1,t.subarray(P,Ee))}s.i=o}return WQ(a,0,r+aD(d)+i)},uD=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},YQ=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ra(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return KQ(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},dD=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},QQ=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=uD();i.p(e.dictionary),dD(t,2,i.d())}};function u5(t,e){e||(e={});var n=uD();n.p(t);var r=YQ(t,e,e.dictionary?6:2,4);return QQ(r,e),dD(r,r.length-4,n.d()),r}var XQ=typeof TextDecoder<"u"&&new TextDecoder,JQ=0;try{XQ.decode(cD,{stream:!0}),JQ=1}catch{}function ZQ(t){if(Array.isArray(t))return t}function eX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tX(t,e){if(t){if(typeof t=="string")return gC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gC(t,e):void 0}}function nX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vC(t,e){return ZQ(t)||eX(t,e)||tX(t,e)||nX()}function yC(t,e="utf8"){return new TextDecoder(e).decode(t)}const rX=new TextEncoder;function iX(t){return rX.encode(t)}const sX=1024*8,oX=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Jw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class rE{constructor(e=sX,n={}){Sn(this,"buffer");Sn(this,"byteLength");Sn(this,"byteOffset");Sn(this,"length");Sn(this,"offset");Sn(this,"lastWrittenByte");Sn(this,"littleEndian");Sn(this,"_data");Sn(this,"_mark");Sn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof rE)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Jw[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===oX&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new Jw[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new Jw[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return yC(this.readBytes(e))}decodeText(e=1,n="utf8"){return yC(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(iX(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const aX=4,wC=0,_C=1,lX=2;function sp(t){let e=t.length;for(;--e>=0;)t[e]=0}const cX=0,hD=1,uX=2,dX=3,hX=258,iE=29,Ug=256,ng=Ug+1+iE,sf=30,sE=19,fD=2*ng+1,ld=15,Zw=16,fX=7,oE=256,pD=16,mD=17,gD=18,d5=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Pv=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),pX=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),vD=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mX=512,Ll=new Array((ng+2)*2);sp(Ll);const wm=new Array(sf*2);sp(wm);const rg=new Array(mX);sp(rg);const ig=new Array(hX-dX+1);sp(ig);const aE=new Array(iE);sp(aE);const R1=new Array(sf);sp(R1);function e_(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let yD,wD,_D;function t_(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const xD=t=>t<256?rg[t]:rg[256+(t>>>7)],sg=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},vs=(t,e,n)=>{t.bi_valid>Zw-n?(t.bi_buf|=e<<t.bi_valid&65535,sg(t,t.bi_buf),t.bi_buf=e>>Zw-t.bi_valid,t.bi_valid+=n-Zw):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ma=(t,e,n)=>{vs(t,n[e*2],n[e*2+1])},bD=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},gX=t=>{t.bi_valid===16?(sg(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},vX=(t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,d,f,g,h,_,y=0;for(g=0;g<=ld;g++)t.bl_count[g]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<fD;c++)d=t.heap[c],g=n[n[d*2+1]*2+1]+1,g>l&&(g=l,y++),n[d*2+1]=g,!(d>r)&&(t.bl_count[g]++,h=0,d>=a&&(h=o[d-a]),_=n[d*2],t.opt_len+=_*(g+h),s&&(t.static_len+=_*(i[d*2+1]+h)));if(y!==0){do{for(g=l-1;t.bl_count[g]===0;)g--;t.bl_count[g]--,t.bl_count[g+1]+=2,t.bl_count[l]--,y-=2}while(y>0);for(g=l;g!==0;g--)for(d=t.bl_count[g];d!==0;)f=t.heap[--c],!(f>r)&&(n[f*2+1]!==g&&(t.opt_len+=(g-n[f*2+1])*n[f*2],n[f*2+1]=g),d--)}},SD=(t,e,n)=>{const r=new Array(ld+1);let i=0,s,o;for(s=1;s<=ld;s++)i=i+n[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=bD(r[a]++,a))}},yX=()=>{let t,e,n,r,i;const s=new Array(ld+1);for(n=0,r=0;r<iE-1;r++)for(aE[r]=n,t=0;t<1<<d5[r];t++)ig[n++]=r;for(ig[n-1]=r,i=0,r=0;r<16;r++)for(R1[r]=i,t=0;t<1<<Pv[r];t++)rg[i++]=r;for(i>>=7;r<sf;r++)for(R1[r]=i<<7,t=0;t<1<<Pv[r]-7;t++)rg[256+i++]=r;for(e=0;e<=ld;e++)s[e]=0;for(t=0;t<=143;)Ll[t*2+1]=8,t++,s[8]++;for(;t<=255;)Ll[t*2+1]=9,t++,s[9]++;for(;t<=279;)Ll[t*2+1]=7,t++,s[7]++;for(;t<=287;)Ll[t*2+1]=8,t++,s[8]++;for(SD(Ll,ng+1,s),t=0;t<sf;t++)wm[t*2+1]=5,wm[t*2]=bD(t,5);yD=new e_(Ll,d5,Ug+1,ng,ld),wD=new e_(wm,Pv,0,sf,ld),_D=new e_(new Array(0),pX,0,sE,fX)},ED=t=>{let e;for(e=0;e<ng;e++)t.dyn_ltree[e*2]=0;for(e=0;e<sf;e++)t.dyn_dtree[e*2]=0;for(e=0;e<sE;e++)t.bl_tree[e*2]=0;t.dyn_ltree[oE*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ND=t=>{t.bi_valid>8?sg(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},xC=(t,e,n,r)=>{const i=e*2,s=n*2;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},n_=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&xC(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!xC(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},bC=(t,e,n)=>{let r,i,s=0,o,a;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+s++]&255,r+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],r===0?Ma(t,i,e):(o=ig[i],Ma(t,o+Ug+1,e),a=d5[o],a!==0&&(i-=aE[o],vs(t,i,a)),r--,o=xD(r),Ma(t,o,n),a=Pv[o],a!==0&&(r-=R1[o],vs(t,r,a)));while(s<t.sym_next);Ma(t,oE,e)},h5=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,l=-1,c;for(t.heap_len=0,t.heap_max=fD,o=0;o<s;o++)n[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=r[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)n_(t,n,o);c=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],n_(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[c*2]=n[o*2]+n[a*2],t.depth[c]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[o*2+1]=n[a*2+1]=c,t.heap[1]=c++,n_(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],vX(t,e),SD(n,l,t.bl_count)},SC=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(n+1)*2+1]=65535,r=0;r<=n;r++)s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)&&(a<c?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[pD*2]++):a<=10?t.bl_tree[mD*2]++:t.bl_tree[gD*2]++,a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))},EC=(t,e,n)=>{let r,i=-1,s,o=e[0*2+1],a=0,l=7,c=4;for(o===0&&(l=138,c=3),r=0;r<=n;r++)if(s=o,o=e[(r+1)*2+1],!(++a<l&&s===o)){if(a<c)do Ma(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ma(t,s,t.bl_tree),a--),Ma(t,pD,t.bl_tree),vs(t,a-3,2)):a<=10?(Ma(t,mD,t.bl_tree),vs(t,a-3,3)):(Ma(t,gD,t.bl_tree),vs(t,a-11,7));a=0,i=s,o===0?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}},wX=t=>{let e;for(SC(t,t.dyn_ltree,t.l_desc.max_code),SC(t,t.dyn_dtree,t.d_desc.max_code),h5(t,t.bl_desc),e=sE-1;e>=3&&t.bl_tree[vD[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},_X=(t,e,n,r)=>{let i;for(vs(t,e-257,5),vs(t,n-1,5),vs(t,r-4,4),i=0;i<r;i++)vs(t,t.bl_tree[vD[i]*2+1],3);EC(t,t.dyn_ltree,e-1),EC(t,t.dyn_dtree,n-1)},xX=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return wC;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return _C;for(n=32;n<Ug;n++)if(t.dyn_ltree[n*2]!==0)return _C;return wC};let NC=!1;const bX=t=>{NC||(yX(),NC=!0),t.l_desc=new t_(t.dyn_ltree,yD),t.d_desc=new t_(t.dyn_dtree,wD),t.bl_desc=new t_(t.bl_tree,_D),t.bi_buf=0,t.bi_valid=0,ED(t)},AD=(t,e,n,r)=>{vs(t,(cX<<1)+(r?1:0),3),ND(t),sg(t,n),sg(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},SX=t=>{vs(t,hD<<1,3),Ma(t,oE,Ll),gX(t)},EX=(t,e,n,r)=>{let i,s,o=0;t.level>0?(t.strm.data_type===lX&&(t.strm.data_type=xX(t)),h5(t,t.l_desc),h5(t,t.d_desc),o=wX(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&e!==-1?AD(t,e,n,r):t.strategy===aX||s===i?(vs(t,(hD<<1)+(r?1:0),3),bC(t,Ll,wm)):(vs(t,(uX<<1)+(r?1:0),3),_X(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),bC(t,t.dyn_ltree,t.dyn_dtree)),ED(t),r&&ND(t)},NX=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(ig[n]+Ug+1)*2]++,t.dyn_dtree[xD(e)*2]++),t.sym_next===t.sym_end);var AX=bX,CX=AD,TX=EX,kX=NX,PX=SX,IX={_tr_init:AX,_tr_stored_block:CX,_tr_flush_block:TX,_tr_tally:kX,_tr_align:PX};const RX=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var og=RX;const LX=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},jX=new Uint32Array(LX()),DX=(t,e,n,r)=>{const i=jX,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Xr=DX,Ff={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vg={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:OX,_tr_stored_block:f5,_tr_flush_block:MX,_tr_tally:ou,_tr_align:FX}=IX,{Z_NO_FLUSH:au,Z_PARTIAL_FLUSH:BX,Z_FULL_FLUSH:UX,Z_FINISH:vo,Z_BLOCK:AC,Z_OK:di,Z_STREAM_END:CC,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:VX,Z_BUF_ERROR:r_,Z_DEFAULT_COMPRESSION:zX,Z_FILTERED:$X,Z_HUFFMAN_ONLY:H0,Z_RLE:qX,Z_FIXED:HX,Z_DEFAULT_STRATEGY:WX,Z_UNKNOWN:GX,Z_DEFLATED:a2}=Vg,KX=9,YX=15,QX=8,XX=29,JX=256,p5=JX+1+XX,ZX=30,eJ=19,tJ=2*p5+1,nJ=15,hn=3,Yc=258,Ka=Yc+hn+1,rJ=32,Bf=42,lE=57,m5=69,g5=73,v5=91,y5=103,cd=113,Zp=666,Qi=1,op=2,Bd=3,ap=4,iJ=3,ud=(t,e)=>(t.msg=Ff[e],e),TC=t=>t*2-(t>4?9:0),Dc=t=>{let e=t.length;for(;--e>=0;)t[e]=0},sJ=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do n=t.head[--r],t.head[r]=n>=i?n-i:0;while(--e);e=i,r=e;do n=t.prev[--r],t.prev[r]=n>=i?n-i:0;while(--e)};let oJ=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,lu=oJ;const $s=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},Ys=(t,e)=>{MX(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,$s(t.strm)},En=(t,e)=>{t.pending_buf[t.pending++]=e},Wp=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},w5=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),t.state.wrap===1?t.adler=og(t.adler,e,i,n):t.state.wrap===2&&(t.adler=Xr(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},CD=(t,e)=>{let n=t.max_chain_length,r=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Ka?t.strstart-(t.w_size-Ka):0,c=t.window,d=t.w_mask,f=t.prev,g=t.strstart+Yc;let h=c[r+o-1],_=c[r+o];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(c[i+o]!==_||c[i+o-1]!==h||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<g);if(s=Yc-(g-r),r=g-Yc,s>o){if(t.match_start=e,o=s,s>=a)break;h=c[r+o-1],_=c[r+o]}}while((e=f[e&d])>l&&--n!==0);return o<=t.lookahead?o:t.lookahead},Uf=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Ka)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),sJ(t),r+=e),t.strm.avail_in===0)break;if(n=w5(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=hn)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=lu(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=lu(t,t.ins_h,t.window[i+hn-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<hn)););}while(t.lookahead<Ka&&t.strm.avail_in!==0)},TD=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,i,s,o=0,a=t.strm.avail_in;do{if(r=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,r>i+t.strm.avail_in&&(r=i+t.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&e!==vo||e===au||r!==i+t.strm.avail_in)))break;o=e===vo&&r===i+t.strm.avail_in?1:0,f5(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,$s(t.strm),i&&(i>r&&(i=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,r-=i),r&&(w5(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?ap:e!==au&&e!==vo&&t.strm.avail_in===0&&t.strstart===t.block_start?op:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(w5(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,n=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=n||(i||e===vo)&&e!==au&&t.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===vo&&t.strm.avail_in===0&&r===i?1:0,f5(t,t.block_start,r,o),t.block_start+=r,$s(t.strm)),o?Bd:Qi)},i_=(t,e)=>{let n,r;for(;;){if(t.lookahead<Ka){if(Uf(t),t.lookahead<Ka&&e===au)return Qi;if(t.lookahead===0)break}if(n=0,t.lookahead>=hn&&(t.ins_h=lu(t,t.ins_h,t.window[t.strstart+hn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-Ka&&(t.match_length=CD(t,n)),t.match_length>=hn)if(r=ou(t,t.strstart-t.match_start,t.match_length-hn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=hn){t.match_length--;do t.strstart++,t.ins_h=lu(t,t.ins_h,t.window[t.strstart+hn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=lu(t,t.ins_h,t.window[t.strstart+1]);else r=ou(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Ys(t,!1),t.strm.avail_out===0))return Qi}return t.insert=t.strstart<hn-1?t.strstart:hn-1,e===vo?(Ys(t,!0),t.strm.avail_out===0?Bd:ap):t.sym_next&&(Ys(t,!1),t.strm.avail_out===0)?Qi:op},_h=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Ka){if(Uf(t),t.lookahead<Ka&&e===au)return Qi;if(t.lookahead===0)break}if(n=0,t.lookahead>=hn&&(t.ins_h=lu(t,t.ins_h,t.window[t.strstart+hn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=hn-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Ka&&(t.match_length=CD(t,n),t.match_length<=5&&(t.strategy===$X||t.match_length===hn&&t.strstart-t.match_start>4096)&&(t.match_length=hn-1)),t.prev_length>=hn&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-hn,r=ou(t,t.strstart-1-t.prev_match,t.prev_length-hn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=lu(t,t.ins_h,t.window[t.strstart+hn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=hn-1,t.strstart++,r&&(Ys(t,!1),t.strm.avail_out===0))return Qi}else if(t.match_available){if(r=ou(t,0,t.window[t.strstart-1]),r&&Ys(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Qi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=ou(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<hn-1?t.strstart:hn-1,e===vo?(Ys(t,!0),t.strm.avail_out===0?Bd:ap):t.sym_next&&(Ys(t,!1),t.strm.avail_out===0)?Qi:op},aJ=(t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=Yc){if(Uf(t),t.lookahead<=Yc&&e===au)return Qi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=hn&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+Yc;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=Yc-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=hn?(n=ou(t,1,t.match_length-hn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=ou(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Ys(t,!1),t.strm.avail_out===0))return Qi}return t.insert=0,e===vo?(Ys(t,!0),t.strm.avail_out===0?Bd:ap):t.sym_next&&(Ys(t,!1),t.strm.avail_out===0)?Qi:op},lJ=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(Uf(t),t.lookahead===0)){if(e===au)return Qi;break}if(t.match_length=0,n=ou(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Ys(t,!1),t.strm.avail_out===0))return Qi}return t.insert=0,e===vo?(Ys(t,!0),t.strm.avail_out===0?Bd:ap):t.sym_next&&(Ys(t,!1),t.strm.avail_out===0)?Qi:op};function Ta(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const em=[new Ta(0,0,0,0,TD),new Ta(4,4,8,4,i_),new Ta(4,5,16,8,i_),new Ta(4,6,32,32,i_),new Ta(4,4,16,16,_h),new Ta(8,16,32,32,_h),new Ta(8,16,128,128,_h),new Ta(8,32,128,256,_h),new Ta(32,128,258,1024,_h),new Ta(32,258,258,4096,_h)],cJ=t=>{t.window_size=2*t.w_size,Dc(t.head),t.max_lazy_match=em[t.level].max_lazy,t.good_match=em[t.level].good_length,t.nice_match=em[t.level].nice_length,t.max_chain_length=em[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=hn-1,t.match_available=0,t.ins_h=0};function uJ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=a2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(tJ*2),this.dyn_dtree=new Uint16Array((2*ZX+1)*2),this.bl_tree=new Uint16Array((2*eJ+1)*2),Dc(this.dyn_ltree),Dc(this.dyn_dtree),Dc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(nJ+1),this.heap=new Uint16Array(2*p5+1),Dc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*p5+1),Dc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const zg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Bf&&e.status!==lE&&e.status!==m5&&e.status!==g5&&e.status!==v5&&e.status!==y5&&e.status!==cd&&e.status!==Zp?1:0},kD=t=>{if(zg(t))return ud(t,Ga);t.total_in=t.total_out=0,t.data_type=GX;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?lE:e.wrap?Bf:cd,t.adler=e.wrap===2?0:1,e.last_flush=-2,OX(e),di},PD=t=>{const e=kD(t);return e===di&&cJ(t.state),e},dJ=(t,e)=>zg(t)||t.state.wrap!==2?Ga:(t.state.gzhead=e,di),ID=(t,e,n,r,i,s)=>{if(!t)return Ga;let o=1;if(e===zX&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>KX||n!==a2||r<8||r>15||e<0||e>9||s<0||s>HX||r===8&&o!==1)return ud(t,Ga);r===8&&(r=9);const a=new uJ;return t.state=a,a.strm=t,a.status=Bf,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+hn-1)/hn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=n,PD(t)},hJ=(t,e)=>ID(t,e,a2,YX,QX,WX),fJ=(t,e)=>{if(zg(t)||e>AC||e<0)return t?ud(t,Ga):Ga;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===Zp&&e!==vo)return ud(t,t.avail_out===0?r_:Ga);const r=n.last_flush;if(n.last_flush=e,n.pending!==0){if($s(t),t.avail_out===0)return n.last_flush=-1,di}else if(t.avail_in===0&&TC(e)<=TC(r)&&e!==vo)return ud(t,r_);if(n.status===Zp&&t.avail_in!==0)return ud(t,r_);if(n.status===Bf&&n.wrap===0&&(n.status=cd),n.status===Bf){let i=a2+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=H0||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=rJ),i+=31-i%31,Wp(n,i),n.strstart!==0&&(Wp(n,t.adler>>>16),Wp(n,t.adler&65535)),t.adler=1,n.status=cd,$s(t),n.pending!==0)return n.last_flush=-1,di}if(n.status===lE){if(t.adler=0,En(n,31),En(n,139),En(n,8),n.gzhead)En(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),En(n,n.gzhead.time&255),En(n,n.gzhead.time>>8&255),En(n,n.gzhead.time>>16&255),En(n,n.gzhead.time>>24&255),En(n,n.level===9?2:n.strategy>=H0||n.level<2?4:0),En(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(En(n,n.gzhead.extra.length&255),En(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Xr(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=m5;else if(En(n,0),En(n,0),En(n,0),En(n,0),En(n,0),En(n,n.level===9?2:n.strategy>=H0||n.level<2?4:0),En(n,iJ),n.status=cd,$s(t),n.pending!==0)return n.last_flush=-1,di}if(n.status===m5){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,$s(t),n.pending!==0)return n.last_flush=-1,di;i=0,s-=a}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=g5}if(n.status===g5){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i)),$s(t),n.pending!==0)return n.last_flush=-1,di;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,En(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=v5}if(n.status===v5){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i)),$s(t),n.pending!==0)return n.last_flush=-1,di;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,En(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(t.adler=Xr(t.adler,n.pending_buf,n.pending-i,i))}n.status=y5}if(n.status===y5){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&($s(t),n.pending!==0))return n.last_flush=-1,di;En(n,t.adler&255),En(n,t.adler>>8&255),t.adler=0}if(n.status=cd,$s(t),n.pending!==0)return n.last_flush=-1,di}if(t.avail_in!==0||n.lookahead!==0||e!==au&&n.status!==Zp){let i=n.level===0?TD(n,e):n.strategy===H0?lJ(n,e):n.strategy===qX?aJ(n,e):em[n.level].func(n,e);if((i===Bd||i===ap)&&(n.status=Zp),i===Qi||i===Bd)return t.avail_out===0&&(n.last_flush=-1),di;if(i===op&&(e===BX?FX(n):e!==AC&&(f5(n,0,0,!1),e===UX&&(Dc(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),$s(t),t.avail_out===0))return n.last_flush=-1,di}return e!==vo?di:n.wrap<=0?CC:(n.wrap===2?(En(n,t.adler&255),En(n,t.adler>>8&255),En(n,t.adler>>16&255),En(n,t.adler>>24&255),En(n,t.total_in&255),En(n,t.total_in>>8&255),En(n,t.total_in>>16&255),En(n,t.total_in>>24&255)):(Wp(n,t.adler>>>16),Wp(n,t.adler&65535)),$s(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?di:CC)},pJ=t=>{if(zg(t))return Ga;const e=t.state.status;return t.state=null,e===cd?ud(t,VX):di},mJ=(t,e)=>{let n=e.length;if(zg(t))return Ga;const r=t.state,i=r.wrap;if(i===2||i===1&&r.status!==Bf||r.lookahead)return Ga;if(i===1&&(t.adler=og(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Dc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(e.subarray(n-r.w_size,n),0),e=l,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Uf(r);r.lookahead>=hn;){let l=r.strstart,c=r.lookahead-(hn-1);do r.ins_h=lu(r,r.ins_h,r.window[l+hn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=hn-1,Uf(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=hn-1,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,di};var gJ=hJ,vJ=ID,yJ=PD,wJ=kD,_J=dJ,xJ=fJ,bJ=pJ,SJ=mJ,EJ="pako deflate (from Nodeca project)",_m={deflateInit:gJ,deflateInit2:vJ,deflateReset:yJ,deflateResetKeep:wJ,deflateSetHeader:_J,deflate:xJ,deflateEnd:bJ,deflateSetDictionary:SJ,deflateInfo:EJ};const NJ=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var AJ=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)NJ(n,r)&&(t[r]=n[r])}}return t},CJ=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},l2={assign:AJ,flattenChunks:CJ};let RD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{RD=!1}const ag=new Uint8Array(256);for(let t=0;t<256;t++)ag[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ag[254]=ag[254]=1;var TJ=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const kJ=(t,e)=>{if(e<65534&&t.subarray&&RD)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var PJ=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=ag[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return kJ(s,i)},IJ=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ag[t[n]]>e?n:e},lg={string2buf:TJ,buf2string:PJ,utf8border:IJ};function RJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var LD=RJ;const jD=Object.prototype.toString,{Z_NO_FLUSH:LJ,Z_SYNC_FLUSH:jJ,Z_FULL_FLUSH:DJ,Z_FINISH:OJ,Z_OK:L1,Z_STREAM_END:MJ,Z_DEFAULT_COMPRESSION:FJ,Z_DEFAULT_STRATEGY:BJ,Z_DEFLATED:UJ}=Vg;function cE(t){this.options=l2.assign({level:FJ,method:UJ,chunkSize:16384,windowBits:15,memLevel:8,strategy:BJ},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LD,this.strm.avail_out=0;let n=_m.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==L1)throw new Error(Ff[n]);if(e.header&&_m.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=lg.string2buf(e.dictionary):jD.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,n=_m.deflateSetDictionary(this.strm,r),n!==L1)throw new Error(Ff[n]);this._dict_set=!0}}cE.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?OJ:LJ,typeof t=="string"?n.input=lg.string2buf(t):jD.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===jJ||s===DJ)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=_m.deflate(n,s),i===MJ)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=_m.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===L1;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};cE.prototype.onData=function(t){this.chunks.push(t)};cE.prototype.onEnd=function(t){t===L1&&(this.result=l2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const W0=16209,VJ=16191;var zJ=function(e,n){let r,i,s,o,a,l,c,d,f,g,h,_,y,x,w,b,N,R,z,U,I,k,P,M;const T=e.state;r=e.next_in,P=e.input,i=r+(e.avail_in-5),s=e.next_out,M=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,d=T.whave,f=T.wnext,g=T.window,h=T.hold,_=T.bits,y=T.lencode,x=T.distcode,w=(1<<T.lenbits)-1,b=(1<<T.distbits)-1;e:do{_<15&&(h+=P[r++]<<_,_+=8,h+=P[r++]<<_,_+=8),N=y[h&w];t:for(;;){if(R=N>>>24,h>>>=R,_-=R,R=N>>>16&255,R===0)M[s++]=N&65535;else if(R&16){z=N&65535,R&=15,R&&(_<R&&(h+=P[r++]<<_,_+=8),z+=h&(1<<R)-1,h>>>=R,_-=R),_<15&&(h+=P[r++]<<_,_+=8,h+=P[r++]<<_,_+=8),N=x[h&b];n:for(;;){if(R=N>>>24,h>>>=R,_-=R,R=N>>>16&255,R&16){if(U=N&65535,R&=15,_<R&&(h+=P[r++]<<_,_+=8,_<R&&(h+=P[r++]<<_,_+=8)),U+=h&(1<<R)-1,U>l){e.msg="invalid distance too far back",T.mode=W0;break e}if(h>>>=R,_-=R,R=s-o,U>R){if(R=U-R,R>d&&T.sane){e.msg="invalid distance too far back",T.mode=W0;break e}if(I=0,k=g,f===0){if(I+=c-R,R<z){z-=R;do M[s++]=g[I++];while(--R);I=s-U,k=M}}else if(f<R){if(I+=c+f-R,R-=f,R<z){z-=R;do M[s++]=g[I++];while(--R);if(I=0,f<z){R=f,z-=R;do M[s++]=g[I++];while(--R);I=s-U,k=M}}}else if(I+=f-R,R<z){z-=R;do M[s++]=g[I++];while(--R);I=s-U,k=M}for(;z>2;)M[s++]=k[I++],M[s++]=k[I++],M[s++]=k[I++],z-=3;z&&(M[s++]=k[I++],z>1&&(M[s++]=k[I++]))}else{I=s-U;do M[s++]=M[I++],M[s++]=M[I++],M[s++]=M[I++],z-=3;while(z>2);z&&(M[s++]=M[I++],z>1&&(M[s++]=M[I++]))}}else if(R&64){e.msg="invalid distance code",T.mode=W0;break e}else{N=x[(N&65535)+(h&(1<<R)-1)];continue n}break}}else if(R&64)if(R&32){T.mode=VJ;break e}else{e.msg="invalid literal/length code",T.mode=W0;break e}else{N=y[(N&65535)+(h&(1<<R)-1)];continue t}break}}while(r<i&&s<a);z=_>>3,r-=z,_-=z<<3,h&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),T.hold=h,T.bits=_};const xh=15,kC=852,PC=592,IC=0,s_=1,RC=2,$J=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qJ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),HJ=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WJ=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),GJ=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let c=0,d=0,f=0,g=0,h=0,_=0,y=0,x=0,w=0,b=0,N,R,z,U,I,k=null,P;const M=new Uint16Array(xh+1),T=new Uint16Array(xh+1);let L=null,O,W,le;for(c=0;c<=xh;c++)M[c]=0;for(d=0;d<r;d++)M[e[n+d]]++;for(h=l,g=xh;g>=1&&M[g]===0;g--);if(h>g&&(h=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<g&&M[f]===0;f++);for(h<f&&(h=f),x=1,c=1;c<=xh;c++)if(x<<=1,x-=M[c],x<0)return-1;if(x>0&&(t===IC||g!==1))return-1;for(T[1]=0,c=1;c<xh;c++)T[c+1]=T[c]+M[c];for(d=0;d<r;d++)e[n+d]!==0&&(o[T[e[n+d]]++]=d);if(t===IC?(k=L=o,P=20):t===s_?(k=$J,L=qJ,P=257):(k=HJ,L=WJ,P=0),b=0,d=0,c=f,I=s,_=h,y=0,z=-1,w=1<<h,U=w-1,t===s_&&w>kC||t===RC&&w>PC)return 1;for(;;){O=c-y,o[d]+1<P?(W=0,le=o[d]):o[d]>=P?(W=L[o[d]-P],le=k[o[d]-P]):(W=96,le=0),N=1<<c-y,R=1<<_,f=R;do R-=N,i[I+(b>>y)+R]=O<<24|W<<16|le|0;while(R!==0);for(N=1<<c-1;b&N;)N>>=1;if(N!==0?(b&=N-1,b+=N):b=0,d++,--M[c]===0){if(c===g)break;c=e[n+o[d]]}if(c>h&&(b&U)!==z){for(y===0&&(y=h),I+=f,_=c-y,x=1<<_;_+y<g&&(x-=M[_+y],!(x<=0));)_++,x<<=1;if(w+=1<<_,t===s_&&w>kC||t===RC&&w>PC)return 1;z=b&U,i[z]=h<<24|_<<16|I-s|0}}return b!==0&&(i[I+b]=c-y<<24|64<<16|0),a.bits=h,0};var xm=GJ;const KJ=0,DD=1,OD=2,{Z_FINISH:LC,Z_BLOCK:YJ,Z_TREES:G0,Z_OK:Ud,Z_STREAM_END:QJ,Z_NEED_DICT:XJ,Z_STREAM_ERROR:Ao,Z_DATA_ERROR:MD,Z_MEM_ERROR:FD,Z_BUF_ERROR:JJ,Z_DEFLATED:jC}=Vg,c2=16180,DC=16181,OC=16182,MC=16183,FC=16184,BC=16185,UC=16186,VC=16187,zC=16188,$C=16189,j1=16190,kl=16191,o_=16192,qC=16193,a_=16194,HC=16195,WC=16196,GC=16197,KC=16198,K0=16199,Y0=16200,YC=16201,QC=16202,XC=16203,JC=16204,ZC=16205,l_=16206,eT=16207,tT=16208,or=16209,BD=16210,UD=16211,ZJ=852,eZ=592,tZ=15,nZ=tZ,nT=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function rZ(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<c2||e.mode>UD?1:0},VD=t=>{if(Jd(t))return Ao;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=c2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ZJ),e.distcode=e.distdyn=new Int32Array(eZ),e.sane=1,e.back=-1,Ud},zD=t=>{if(Jd(t))return Ao;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,VD(t)},$D=(t,e)=>{let n;if(Jd(t))return Ao;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ao:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,zD(t))},qD=(t,e)=>{if(!t)return Ao;const n=new rZ;t.state=n,n.strm=t,n.window=null,n.mode=c2;const r=$D(t,e);return r!==Ud&&(t.state=null),r},iZ=t=>qD(t,nZ);let rT=!0,c_,u_;const sZ=t=>{if(rT){c_=new Int32Array(512),u_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(xm(DD,t.lens,0,288,c_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;xm(OD,t.lens,0,32,u_,0,t.work,{bits:5}),rT=!1}t.lencode=c_,t.lenbits=9,t.distcode=u_,t.distbits=5},HD=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},oZ=(t,e)=>{let n,r,i,s,o,a,l,c,d,f,g,h,_,y,x=0,w,b,N,R,z,U,I,k;const P=new Uint8Array(4);let M,T;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jd(t)||!t.output||!t.input&&t.avail_in!==0)return Ao;n=t.state,n.mode===kl&&(n.mode=o_),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,f=a,g=l,k=Ud;e:for(;;)switch(n.mode){case c2:if(n.wrap===0){n.mode=o_;break}for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=c&255,P[1]=c>>>8&255,n.check=Xr(n.check,P,2,0),c=0,d=0,n.mode=DC;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=or;break}if((c&15)!==jC){t.msg="unknown compression method",n.mode=or;break}if(c>>>=4,d-=4,I=(c&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){t.msg="invalid window size",n.mode=or;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?$C:kl,c=0,d=0;break;case DC:for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==jC){t.msg="unknown compression method",n.mode=or;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=or;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Xr(n.check,P,2,0)),c=0,d=0,n.mode=OC;case OC:for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,n.check=Xr(n.check,P,4,0)),c=0,d=0,n.mode=MC;case MC:for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Xr(n.check,P,2,0)),c=0,d=0,n.mode=FC;case FC:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(P[0]=c&255,P[1]=c>>>8&255,n.check=Xr(n.check,P,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=BC;case BC:if(n.flags&1024&&(h=n.length,h>a&&(h=a),h&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+h),I)),n.flags&512&&n.wrap&4&&(n.check=Xr(n.check,r,h,s)),a-=h,s+=h,n.length-=h),n.length))break e;n.length=0,n.mode=UC;case UC:if(n.flags&2048){if(a===0)break e;h=0;do I=r[s+h++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Xr(n.check,r,h,s)),a-=h,s+=h,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=VC;case VC:if(n.flags&4096){if(a===0)break e;h=0;do I=r[s+h++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&h<a);if(n.flags&512&&n.wrap&4&&(n.check=Xr(n.check,r,h,s)),a-=h,s+=h,I)break e}else n.head&&(n.head.comment=null);n.mode=zC;case zC:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=or;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=kl;break;case $C:for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}t.adler=n.check=nT(c),c=0,d=0,n.mode=j1;case j1:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=d,XJ;t.adler=n.check=1,n.mode=kl;case kl:if(e===YJ||e===G0)break e;case o_:if(n.last){c>>>=d&7,d-=d&7,n.mode=l_;break}for(;d<3;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=qC;break;case 1:if(sZ(n),n.mode=K0,e===G0){c>>>=2,d-=2;break e}break;case 2:n.mode=WC;break;case 3:t.msg="invalid block type",n.mode=or}c>>>=2,d-=2;break;case qC:for(c>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=or;break}if(n.length=c&65535,c=0,d=0,n.mode=a_,e===G0)break e;case a_:n.mode=HC;case HC:if(h=n.length,h){if(h>a&&(h=a),h>l&&(h=l),h===0)break e;i.set(r.subarray(s,s+h),o),a-=h,s+=h,l-=h,o+=h,n.length-=h;break}n.mode=kl;break;case WC:for(;d<14;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=or;break}n.have=0,n.mode=GC;case GC:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.lens[L[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},k=xm(KJ,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,k){t.msg="invalid code lengths set",n.mode=or;break}n.have=0,n.mode=KC;case KC:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[c&(1<<n.lenbits)-1],w=x>>>24,b=x>>>16&255,N=x&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(N<16)c>>>=w,d-=w,n.lens[n.have++]=N;else{if(N===16){for(T=w+2;d<T;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(c>>>=w,d-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=or;break}I=n.lens[n.have-1],h=3+(c&3),c>>>=2,d-=2}else if(N===17){for(T=w+3;d<T;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=w,d-=w,I=0,h=3+(c&7),c>>>=3,d-=3}else{for(T=w+7;d<T;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=w,d-=w,I=0,h=11+(c&127),c>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=or;break}for(;h--;)n.lens[n.have++]=I}}if(n.mode===or)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=or;break}if(n.lenbits=9,M={bits:n.lenbits},k=xm(DD,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,k){t.msg="invalid literal/lengths set",n.mode=or;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},k=xm(OD,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,k){t.msg="invalid distances set",n.mode=or;break}if(n.mode=K0,e===G0)break e;case K0:n.mode=Y0;case Y0:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=d,zJ(t,g),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,d=n.bits,n.mode===kl&&(n.back=-1);break}for(n.back=0;x=n.lencode[c&(1<<n.lenbits)-1],w=x>>>24,b=x>>>16&255,N=x&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(b&&!(b&240)){for(R=w,z=b,U=N;x=n.lencode[U+((c&(1<<R+z)-1)>>R)],w=x>>>24,b=x>>>16&255,N=x&65535,!(R+w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=w,d-=w,n.back+=w,n.length=N,b===0){n.mode=ZC;break}if(b&32){n.back=-1,n.mode=kl;break}if(b&64){t.msg="invalid literal/length code",n.mode=or;break}n.extra=b&15,n.mode=YC;case YC:if(n.extra){for(T=n.extra;d<T;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=QC;case QC:for(;x=n.distcode[c&(1<<n.distbits)-1],w=x>>>24,b=x>>>16&255,N=x&65535,!(w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(!(b&240)){for(R=w,z=b,U=N;x=n.distcode[U+((c&(1<<R+z)-1)>>R)],w=x>>>24,b=x>>>16&255,N=x&65535,!(R+w<=d);){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}c>>>=R,d-=R,n.back+=R}if(c>>>=w,d-=w,n.back+=w,b&64){t.msg="invalid distance code",n.mode=or;break}n.offset=N,n.extra=b&15,n.mode=XC;case XC:if(n.extra){for(T=n.extra;d<T;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=or;break}n.mode=JC;case JC:if(l===0)break e;if(h=g-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=or;break}h>n.wnext?(h-=n.wnext,_=n.wsize-h):_=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=i,_=o-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do i[o++]=y[_++];while(--h);n.length===0&&(n.mode=Y0);break;case ZC:if(l===0)break e;i[o++]=n.length,l--,n.mode=Y0;break;case l_:if(n.wrap){for(;d<32;){if(a===0)break e;a--,c|=r[s++]<<d,d+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Xr(n.check,i,g,o-g):og(n.check,i,g,o-g)),g=l,n.wrap&4&&(n.flags?c:nT(c))!==n.check){t.msg="incorrect data check",n.mode=or;break}c=0,d=0}n.mode=eT;case eT:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,c+=r[s++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=or;break}c=0,d=0}n.mode=tT;case tT:k=QJ;break e;case or:k=MD;break e;case BD:return FD;case UD:default:return Ao}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<or&&(n.mode<l_||e!==LC))&&HD(t,t.output,t.next_out,g-t.avail_out),f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Xr(n.check,i,g,t.next_out-g):og(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===kl?128:0)+(n.mode===K0||n.mode===a_?256:0),(f===0&&g===0||e===LC)&&k===Ud&&(k=JJ),k},aZ=t=>{if(Jd(t))return Ao;let e=t.state;return e.window&&(e.window=null),t.state=null,Ud},lZ=(t,e)=>{if(Jd(t))return Ao;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ud):Ao},cZ=(t,e)=>{const n=e.length;let r,i,s;return Jd(t)||(r=t.state,r.wrap!==0&&r.mode!==j1)?Ao:r.mode===j1&&(i=1,i=og(i,e,n,0),i!==r.check)?MD:(s=HD(t,e,n,n),s?(r.mode=BD,FD):(r.havedict=1,Ud))};var uZ=zD,dZ=$D,hZ=VD,fZ=iZ,pZ=qD,mZ=oZ,gZ=aZ,vZ=lZ,yZ=cZ,wZ="pako inflate (from Nodeca project)",jl={inflateReset:uZ,inflateReset2:dZ,inflateResetKeep:hZ,inflateInit:fZ,inflateInit2:pZ,inflate:mZ,inflateEnd:gZ,inflateGetHeader:vZ,inflateSetDictionary:yZ,inflateInfo:wZ};function _Z(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xZ=_Z;const WD=Object.prototype.toString,{Z_NO_FLUSH:bZ,Z_FINISH:SZ,Z_OK:cg,Z_STREAM_END:d_,Z_NEED_DICT:h_,Z_STREAM_ERROR:EZ,Z_DATA_ERROR:iT,Z_MEM_ERROR:NZ}=Vg;function $g(t){this.options=l2.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LD,this.strm.avail_out=0;let n=jl.inflateInit2(this.strm,e.windowBits);if(n!==cg)throw new Error(Ff[n]);if(this.header=new xZ,jl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=lg.string2buf(e.dictionary):WD.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=jl.inflateSetDictionary(this.strm,e.dictionary),n!==cg)))throw new Error(Ff[n])}$g.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?SZ:bZ,WD.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=jl.inflate(n,o),s===h_&&i&&(s=jl.inflateSetDictionary(n,i),s===cg?s=jl.inflate(n,o):s===iT&&(s=h_));n.avail_in>0&&s===d_&&n.state.wrap>0&&t[n.next_in]!==0;)jl.inflateReset(n),s=jl.inflate(n,o);switch(s){case EZ:case iT:case h_:case NZ:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===d_))if(this.options.to==="string"){let l=lg.utf8border(n.output,n.next_out),c=n.next_out-l,d=lg.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===cg&&a===0)){if(s===d_)return s=jl.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$g.prototype.onData=function(t){this.chunks.push(t)};$g.prototype.onEnd=function(t){t===cg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l2.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uE(t,e){const n=new $g(e);if(n.push(t),n.err)throw n.msg||Ff[n.err];return n.result}function AZ(t,e){return e=e||{},e.raw=!0,uE(t,e)}var CZ=$g,TZ=uE,kZ=AZ,PZ=uE,IZ=Vg,RZ={Inflate:CZ,inflate:TZ,inflateRaw:kZ,ungzip:PZ,constants:IZ};const{Inflate:LZ,inflate:jZ,inflateRaw:Mde,ungzip:Fde}=RZ;var sT=LZ,DZ=jZ;const GD=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;GD[t]=e}const oT=4294967295;function OZ(t,e,n){let r=t;for(let i=0;i<n;i++)r=GD[(r^e[i])&255]^r>>>8;return r}function MZ(t,e){return(OZ(oT,t,e)^oT)>>>0}function aT(t,e,n){const r=t.readUint32(),i=MZ(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function KD(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function YD(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function QD(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function XD(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function JD(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+FZ(e[s-i],n[s],n[s-i])&255}}function FZ(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function BZ(t,e,n,r,i,s){switch(t){case 0:KD(e,n,i);break;case 1:YD(e,n,i,s);break;case 2:QD(e,n,r,i);break;case 3:XD(e,n,r,i,s);break;case 4:JD(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const UZ=new Uint16Array([255]),VZ=new Uint8Array(UZ.buffer),zZ=VZ[0]===255;function $Z(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let c=0;for(let d=0;d<7;d++){const f=o[d],g=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(g<=0||h<=0)continue;const _=g*a,y=new Uint8Array(_);for(let x=0;x<h;x++){const w=e[c++],b=e.subarray(c,c+_);c+=_;const N=new Uint8Array(_);BZ(w,b,N,y,_,a),y.set(N);for(let R=0;R<g;R++){const z=f.x+R*f.xStep,U=f.y+x*f.yStep;if(!(z>=n||U>=r))for(let I=0;I<a;I++)l[(U*n+z)*a+I]=N[R*a+I]}}}if(s===16){const d=new Uint16Array(l.buffer);if(zZ)for(let f=0;f<d.length;f++)d[f]=qZ(d[f]);return d}else return l}function qZ(t){return(t&255)<<8|t>>8&255}const HZ=new Uint16Array([255]),WZ=new Uint8Array(HZ.buffer),GZ=WZ[0]===255,KZ=new Uint8Array(0);function lT(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let c=KZ,d=0,f,g;for(let h=0;h<r;h++){switch(f=e.subarray(d+1,d+1+a),g=l.subarray(h*a,(h+1)*a),e[d]){case 0:KD(f,g,a);break;case 1:YD(f,g,a,o);break;case 2:QD(f,g,c,a);break;case 3:XD(f,g,c,a,o);break;case 4:JD(f,g,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=g,d+=a+1}if(s===16){const h=new Uint16Array(l.buffer);if(GZ)for(let _=0;_<h.length;_++)h[_]=YZ(h[_]);return h}else return l}function YZ(t){return(t&255)<<8|t>>8&255}const Iv=Uint8Array.of(137,80,78,71,13,10,26,10);function cT(t){if(!QZ(t.readBytes(Iv.length)))throw new Error("wrong PNG signature")}function QZ(t){if(t.length<Iv.length)return!1;for(let e=0;e<Iv.length;e++)if(t[e]!==Iv[e])return!1;return!0}const XZ="tEXt",JZ=0,ZD=new TextDecoder("latin1");function ZZ(t){if(tee(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const eee=/^[\u0000-\u00FF]*$/;function tee(t){if(!eee.test(t))throw new Error("invalid latin1 text")}function nee(t,e,n){const r=e8(e);t[r]=ree(e,n-r.length-1)}function e8(t){for(t.mark();t.readByte()!==JZ;);const e=t.offset;t.reset();const n=ZD.decode(t.readBytes(e-t.offset-1));return t.skip(1),ZZ(n),n}function ree(t,e){return ZD.decode(t.readBytes(e))}const zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f_={UNKNOWN:-1,DEFLATE:0},uT={UNKNOWN:-1,ADAPTIVE:0},p_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Q0={NONE:0,BACKGROUND:1,PREVIOUS:2},m_={SOURCE:0,OVER:1};class iee extends rE{constructor(n,r={}){super(n);Sn(this,"_checkCrc");Sn(this,"_inflator");Sn(this,"_png");Sn(this,"_apng");Sn(this,"_end");Sn(this,"_hasPalette");Sn(this,"_palette");Sn(this,"_hasTransparency");Sn(this,"_transparency");Sn(this,"_compressionMethod");Sn(this,"_filterMethod");Sn(this,"_interlaceMethod");Sn(this,"_colorType");Sn(this,"_isAnimated");Sn(this,"_numberOfFrames");Sn(this,"_numberOfPlays");Sn(this,"_frames");Sn(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new sT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=f_.UNKNOWN,this._filterMethod=uT.UNKNOWN,this._interlaceMethod=p_.UNKNOWN,this._colorType=zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(cT(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(cT(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case XZ:nee(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?aT(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?aT(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=see(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case zs.GREYSCALE:i=1;break;case zs.TRUECOLOUR:i=3;break;case zs.INDEXED_COLOUR:i=1;break;case zs.GREYSCALE_ALPHA:i=2;break;case zs.TRUECOLOUR_ALPHA:i=4;break;case zs.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==f_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case zs.GREYSCALE:case zs.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case zs.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case zs.UNKNOWN:case zs.GREYSCALE_ALPHA:case zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=e8(this),i=this.readUint8();if(i!==f_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:DZ(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=lT({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Q0.NONE:break;case Q0.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Q0.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case m_.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let d=0;d<this._png.channels;d++)n.data[l+d]=r.data[c+d]}break;case m_.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let d=0;d<this._png.channels;d++){const f=r.data[c+this._png.channels-1]/i,g=d%(this._png.channels-1)===0?1:r.data[c+d],h=Math.floor(f*g+(1-f)*n.data[l+d]);n.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==uT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===p_.NO_INTERLACE)this._png.data=lT({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===p_.ADAM7)this._png.data=$Z({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Q0.NONE,blendOp:m_.SOURCE,data:n}),this._inflator=new sT,this._writingDataChunks=!1}}function see(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var dT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(dT||(dT={}));function oee(t,e){return new iee(t,e).decode()}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function g_(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var $n={log:g_,warn:function(t){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):g_.call(null,arguments))},error:function(t){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):g_(t))}};function v_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){nd(r.response,e,n)},r.onerror=function(){$n.error("could not download file")},r.send()}function hT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function X0(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nd=jt.saveAs||((typeof window>"u"?"undefined":jn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=jt.URL||jt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?hT(i.href)?v_(t,e,n):X0(i,i.target="_blank"):X0(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){X0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(hT(t))v_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){X0(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:jn(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return v_(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":jn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=jt.URL||jt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function t8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Rv=jt.atob.bind(jt),fT=jt.btoa.bind(jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y_(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Ei(n,r,i,s,e[0],7,-680876936),s=Ei(s,n,r,i,e[1],12,-389564586),i=Ei(i,s,n,r,e[2],17,606105819),r=Ei(r,i,s,n,e[3],22,-1044525330),n=Ei(n,r,i,s,e[4],7,-176418897),s=Ei(s,n,r,i,e[5],12,1200080426),i=Ei(i,s,n,r,e[6],17,-1473231341),r=Ei(r,i,s,n,e[7],22,-45705983),n=Ei(n,r,i,s,e[8],7,1770035416),s=Ei(s,n,r,i,e[9],12,-1958414417),i=Ei(i,s,n,r,e[10],17,-42063),r=Ei(r,i,s,n,e[11],22,-1990404162),n=Ei(n,r,i,s,e[12],7,1804603682),s=Ei(s,n,r,i,e[13],12,-40341101),i=Ei(i,s,n,r,e[14],17,-1502002290),n=Ni(n,r=Ei(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ni(s,n,r,i,e[6],9,-1069501632),i=Ni(i,s,n,r,e[11],14,643717713),r=Ni(r,i,s,n,e[0],20,-373897302),n=Ni(n,r,i,s,e[5],5,-701558691),s=Ni(s,n,r,i,e[10],9,38016083),i=Ni(i,s,n,r,e[15],14,-660478335),r=Ni(r,i,s,n,e[4],20,-405537848),n=Ni(n,r,i,s,e[9],5,568446438),s=Ni(s,n,r,i,e[14],9,-1019803690),i=Ni(i,s,n,r,e[3],14,-187363961),r=Ni(r,i,s,n,e[8],20,1163531501),n=Ni(n,r,i,s,e[13],5,-1444681467),s=Ni(s,n,r,i,e[2],9,-51403784),i=Ni(i,s,n,r,e[7],14,1735328473),n=Ai(n,r=Ni(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ai(s,n,r,i,e[8],11,-2022574463),i=Ai(i,s,n,r,e[11],16,1839030562),r=Ai(r,i,s,n,e[14],23,-35309556),n=Ai(n,r,i,s,e[1],4,-1530992060),s=Ai(s,n,r,i,e[4],11,1272893353),i=Ai(i,s,n,r,e[7],16,-155497632),r=Ai(r,i,s,n,e[10],23,-1094730640),n=Ai(n,r,i,s,e[13],4,681279174),s=Ai(s,n,r,i,e[0],11,-358537222),i=Ai(i,s,n,r,e[3],16,-722521979),r=Ai(r,i,s,n,e[6],23,76029189),n=Ai(n,r,i,s,e[9],4,-640364487),s=Ai(s,n,r,i,e[12],11,-421815835),i=Ai(i,s,n,r,e[15],16,530742520),n=Ci(n,r=Ai(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ci(s,n,r,i,e[7],10,1126891415),i=Ci(i,s,n,r,e[14],15,-1416354905),r=Ci(r,i,s,n,e[5],21,-57434055),n=Ci(n,r,i,s,e[12],6,1700485571),s=Ci(s,n,r,i,e[3],10,-1894986606),i=Ci(i,s,n,r,e[10],15,-1051523),r=Ci(r,i,s,n,e[1],21,-2054922799),n=Ci(n,r,i,s,e[8],6,1873313359),s=Ci(s,n,r,i,e[15],10,-30611744),i=Ci(i,s,n,r,e[6],15,-1560198380),r=Ci(r,i,s,n,e[13],21,1309151649),n=Ci(n,r,i,s,e[4],6,-145523070),s=Ci(s,n,r,i,e[11],10,-1120210379),i=Ci(i,s,n,r,e[2],15,718787259),r=Ci(r,i,s,n,e[9],21,-343485551),t[0]=Qc(n,t[0]),t[1]=Qc(r,t[1]),t[2]=Qc(i,t[2]),t[3]=Qc(s,t[3])}function u2(t,e,n,r,i,s){return e=Qc(Qc(e,t),Qc(r,s)),Qc(e<<i|e>>>32-i,n)}function Ei(t,e,n,r,i,s,o){return u2(e&n|~e&r,t,e,i,s,o)}function Ni(t,e,n,r,i,s,o){return u2(e&r|n&~r,t,e,i,s,o)}function Ai(t,e,n,r,i,s,o){return u2(e^n^r,t,e,i,s,o)}function Ci(t,e,n,r,i,s,o){return u2(n^(e|~r),t,e,i,s,o)}function n8(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)y_(r,aee(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(y_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,y_(r,i),r}function aee(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var pT="0123456789abcdef".split("");function lee(t){for(var e="",n=0;n<4;n++)e+=pT[t>>8*n+4&15]+pT[t>>8*n&15];return e}function cee(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _5(t){return n8(t).map(cee).join("")}var uee=function(t){for(var e=0;e<t.length;e++)t[e]=lee(t[e]);return t.join("")}(n8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qc(t,e){if(uee){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x5(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var d=a[l];c=(c+d+o.charCodeAt(l))%256,a[l]=a[c],a[c]=d}n=t,r=a}else a=r;var f=e.length,g=0,h=0,_="";for(l=0;l<f;l++)h=(h+(d=a[g=(g+1)%256]))%256,a[g]=a[h],a[h]=d,o=a[(a[g]+a[h])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var mT={print:4,modify:8,copy:16,"annot-forms":32};function Ah(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(mT.perm!==void 0)throw new Error("Invalid permission: "+a);i+=mT[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=_5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=x5(this.encryptionKey,this.padding)}function Ch(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function gT(t){if(jn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){jt.console&&$n.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function D1(t){if(!(this instanceof D1))return new D1(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function r8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function id(t,e,n,r,i){if(!(this instanceof id))return new id(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,r8.call(this,r,i)}function Wh(t,e,n,r,i){if(!(this instanceof Wh))return new Wh(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,r8.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",d=null;jn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=gT;var _="1.3",y=h.__private__.getPdfVersion=function(){return _};h.__private__.setPdfVersion=function(S){_=S};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var w=h.__private__.getPageFormat=function(S){return x[S]};i=i||"a4";var b="compat",N="advanced",R=b;function z(){this.saveGraphicsState(),ee(new Ze(pt,0,0,-pt,0,Vi()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),c="n",R=N}function U(){this.restoreGraphicsState(),c="S",R=b}var I=h.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};h.advancedAPI=function(S){var B=R===b;return B&&z.call(this),typeof S!="function"||(S(this),B&&U.call(this)),this},h.compatAPI=function(S){var B=R===N;return B&&U.call(this),typeof S!="function"||(S(this),B&&z.call(this)),this},h.isAdvancedAPI=function(){return R===N};var k,P=function(S){if(R!==N)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=h.roundToPrecision=h.__private__.roundToPrecision=function(S,B){var ne=e||B;if(isNaN(S)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ne).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return M(S,16)};var T=h.f2=h.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return M(S,2)},L=h.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return M(S,3)},O=h.scale=h.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return R===b?S*pt:R===N?S:void 0},W=function(S){return O(function(B){return R===b?Vi()-B:R===N?B:void 0}(S))};h.__private__.setPrecision=h.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var le,fe="00000000000000000000000000000000",oe=h.__private__.getFileId=function(){return fe},$=h.__private__.setFileId=function(S){return fe=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(kn=new Ah(d.userPermissions,d.userPassword,d.ownerPassword,fe)),fe};h.setFileId=function(S){return $(S),this},h.getFileId=function(){return oe()};var te=h.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),ne=B<0?"+":"-",ce=Math.floor(Math.abs(B/60)),ve=Math.abs(B%60),ke=[ne,Q(ce),"'",Q(ve),"'"].join("");return["D:",S.getFullYear(),Q(S.getMonth()+1),Q(S.getDate()),Q(S.getHours()),Q(S.getMinutes()),Q(S.getSeconds()),ke].join("")},se=h.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),ne=parseInt(S.substr(6,2),10)-1,ce=parseInt(S.substr(8,2),10),ve=parseInt(S.substr(10,2),10),ke=parseInt(S.substr(12,2),10),je=parseInt(S.substr(14,2),10);return new Date(B,ne,ce,ve,ke,je,0)},ge=h.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=te(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return le=B},D=h.__private__.getCreationDate=function(S){var B=le;return S==="jsDate"&&(B=se(le)),B};h.setCreationDate=function(S){return ge(S),this},h.getCreationDate=function(S){return D(S)};var H,Q=h.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Z=h.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ae=0,K=[],ue=[],de=0,_e=[],Ne=[],he=!1,Ee=ue;h.__private__.setCustomOutputDestination=function(S){he=!0,Ee=S};var ye=function(S){he||(Ee=S)};h.__private__.resetCustomOutputDestination=function(){he=!1,Ee=ue};var ee=h.__private__.out=function(S){return S=S.toString(),de+=S.length+1,Ee.push(S),Ee},st=h.__private__.write=function(S){return ee(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},ct=h.__private__.getArrayBuffer=function(S){for(var B=S.length,ne=new ArrayBuffer(B),ce=new Uint8Array(ne);B--;)ce[B]=S.charCodeAt(B);return ne},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Je};var De=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(S){return De=R===N?S/pt:S,this};var ze,Ve=h.__private__.getFontSize=h.getFontSize=function(){return R===b?De:De*pt},Nt=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(S){return Nt=S,this},h.__private__.getR2L=h.getR2L=function(){return Nt};var Qe,Jt=h.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ze=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ze=S}else ze=parseInt(S,10)};h.__private__.getZoomMode=function(){return ze};var Pt,He=h.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Qe=S};h.__private__.getPageMode=function(){return Qe};var _t=h.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Pt=S};h.__private__.getLayoutMode=function(){return Pt},h.__private__.setDisplayMode=h.setDisplayMode=function(S,B,ne){return Jt(S),_t(B),He(ne),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(S){if(Object.keys(At).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[S]},h.__private__.getDocumentProperties=function(){return At},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(S){for(var B in At)At.hasOwnProperty(B)&&S[B]&&(At[B]=S[B]);return this},h.__private__.setDocumentProperty=function(S,B){if(Object.keys(At).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[S]=B};var ot,pt,lt,ln,Qt,Ye={},bt={},nn=[],gt={},Vt={},Ct={},Bn={},Un=null,cn=0,ut=[],Wt=new gT(h),vt=t.hotfixes||[],St={},Zt={},On=[],Ze=function S(B,ne,ce,ve,ke,je){if(!(this instanceof S))return new S(B,ne,ce,ve,ke,je);isNaN(B)&&(B=1),isNaN(ne)&&(ne=0),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=1),isNaN(ke)&&(ke=0),isNaN(je)&&(je=0),this._matrix=[B,ne,ce,ve,ke,je]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(S)},Ze.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,ne=S.sx*this.shy+S.shy*this.sy,ce=S.shx*this.sx+S.sy*this.shx,ve=S.shx*this.shy+S.sy*this.sy,ke=S.tx*this.sx+S.ty*this.shx+this.tx,je=S.tx*this.shy+S.ty*this.sy+this.ty;return new Ze(B,ne,ce,ve,ke,je)},Ze.prototype.decompose=function(){var S=this.sx,B=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,ke=this.ty,je=Math.sqrt(S*S+B*B),Ge=(S/=je)*ne+(B/=je)*ce;ne-=S*Ge,ce-=B*Ge;var nt=Math.sqrt(ne*ne+ce*ce);return Ge/=nt,S*(ce/=nt)<B*(ne/=nt)&&(S=-S,B=-B,Ge=-Ge,je=-je),{scale:new Ze(je,0,0,nt,0,0),translate:new Ze(1,0,0,1,ve,ke),rotate:new Ze(S,B,-B,S,0,0),skew:new Ze(1,0,Ge,1,0,0)}},Ze.prototype.toString=function(S){return this.join(" ")},Ze.prototype.inversed=function(){var S=this.sx,B=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,ke=this.ty,je=1/(S*ce-B*ne),Ge=ce*je,nt=-B*je,Et=-ne*je,Dt=S*je;return new Ze(Ge,nt,Et,Dt,-Ge*ve-Et*ke,-nt*ve-Dt*ke)},Ze.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,ne=S.x*this.shy+S.y*this.sy+this.ty;return new ya(B,ne)},Ze.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),ne=this.applyToPoint(new ya(S.x+S.w,S.y+S.h));return new dc(B.x,B.y,ne.x-B.x,ne.y-B.y)},Ze.prototype.clone=function(){var S=this.sx,B=this.shy,ne=this.shx,ce=this.sy,ve=this.tx,ke=this.ty;return new Ze(S,B,ne,ce,ve,ke)},h.Matrix=Ze;var fn=h.matrixMult=function(S,B){return B.multiply(S)},jr=new Ze(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=jr;var Cn=function(S,B){if(!Vt[S]){var ne=(B instanceof id?"Sh":"P")+(Object.keys(gt).length+1).toString(10);B.id=ne,Vt[S]=ne,gt[ne]=B,Wt.publish("addPattern",B)}};h.ShadingPattern=id,h.TilingPattern=Wh,h.addShadingPattern=function(S,B){return P("addShadingPattern()"),Cn(S,B),this},h.beginTilingPattern=function(S){P("beginTilingPattern()"),wa(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},h.endTilingPattern=function(S,B){P("endTilingPattern()"),B.stream=Ne[H].join(`
`),Cn(S,B),Wt.publish("endTilingPattern",B),On.pop().restore()};var Vn,rr=h.__private__.newObject=function(){var S=Dr();return ir(S,!0),S},Dr=h.__private__.newObjectDeferred=function(){return ae++,K[ae]=function(){return de},ae},ir=function(S,B){return B=typeof B=="boolean"&&B,K[S]=de,B&&ee(S+" 0 obj"),S},dl=h.__private__.newAdditionalObject=function(){var S={objId:Dr(),content:""};return _e.push(S),S},ca=Dr(),vi=Dr(),ks=h.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ne=parseFloat(B[0]);B=[ne,ne,ne,"r"]}for(var ce="#",ve=0;ve<3;ve++)ce+=("0"+Math.floor(255*parseFloat(B[ve])).toString(16)).slice(-2);return ce},Fi=h.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var ne=S.ch1,ce=S.ch2,ve=S.ch3,ke=S.ch4,je=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var Ge=new t8(ne);if(Ge.ok)ne=Ge.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var nt=parseInt(ne.substr(1),16);ne=nt>>16&255,ce=nt>>8&255,ve=255&nt}if(ce===void 0||ke===void 0&&ne===ce&&ce===ve)B=typeof ne=="string"?ne+" "+je[0]:S.precision===2?T(ne/255)+" "+je[0]:L(ne/255)+" "+je[0];else if(ke===void 0||jn(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return["1.","1.","1.",je[1]].join(" ");B=typeof ne=="string"?[ne,ce,ve,je[1]].join(" "):S.precision===2?[T(ne/255),T(ce/255),T(ve/255),je[1]].join(" "):[L(ne/255),L(ce/255),L(ve/255),je[1]].join(" ")}else B=typeof ne=="string"?[ne,ce,ve,ke,je[2]].join(" "):S.precision===2?[T(ne),T(ce),T(ve),T(ke),je[2]].join(" "):[L(ne),L(ce),L(ve),L(ke),je[2]].join(" ");return B},yi=h.__private__.getFilters=function(){return o},br=h.__private__.putStream=function(S){var B=(S=S||{}).data||"",ne=S.filters||yi(),ce=S.alreadyAppliedFilters||[],ve=S.addLength1||!1,ke=B.length,je=S.objectId,Ge=function(pr){return pr};if(d!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ge=kn.encryptor(je,0));var nt={};ne===!0&&(ne=["FlateEncode"]);var Et=S.additionalKeyValues||[],Dt=(nt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(B,ne):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(nt.data.length!==0&&(Et.push({key:"Length",value:nt.data.length}),ve===!0&&Et.push({key:"Length1",value:ke})),Dt.length!=0)if(Dt.split("/").length-1==1)Et.push({key:"Filter",value:Dt});else{Et.push({key:"Filter",value:"["+Dt+"]"});for(var un=0;un<Et.length;un+=1)if(Et[un].key==="DecodeParms"){for(var qn=[],Qn=0;Qn<nt.reverseChain.split("/").length-1;Qn+=1)qn.push("null");qn.push(Et[un].value),Et[un].value="["+qn.join(" ")+"]"}}ee("<<");for(var bn=0;bn<Et.length;bn++)ee("/"+Et[bn].key+" "+Et[bn].value);ee(">>"),nt.data.length!==0&&(ee("stream"),ee(Ge(nt.data)),ee("endstream"))},ua=h.__private__.putPage=function(S){var B=S.number,ne=S.data,ce=S.objId,ve=S.contentsObjId;ir(ce,!0),ee("<</Type /Page"),ee("/Parent "+S.rootDictionaryObjId+" 0 R"),ee("/Resources "+S.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(k(S.mediaBox.bottomLeftX))+" "+parseFloat(k(S.mediaBox.bottomLeftY))+" "+k(S.mediaBox.topRightX)+" "+k(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ee("/CropBox ["+k(S.cropBox.bottomLeftX)+" "+k(S.cropBox.bottomLeftY)+" "+k(S.cropBox.topRightX)+" "+k(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ee("/BleedBox ["+k(S.bleedBox.bottomLeftX)+" "+k(S.bleedBox.bottomLeftY)+" "+k(S.bleedBox.topRightX)+" "+k(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ee("/TrimBox ["+k(S.trimBox.bottomLeftX)+" "+k(S.trimBox.bottomLeftY)+" "+k(S.trimBox.topRightX)+" "+k(S.trimBox.topRightY)+"]"),S.artBox!==null&&ee("/ArtBox ["+k(S.artBox.bottomLeftX)+" "+k(S.artBox.bottomLeftY)+" "+k(S.artBox.topRightX)+" "+k(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ee("/UserUnit "+S.userUnit),Wt.publish("putPage",{objId:ce,pageContext:ut[B],pageNumber:B,page:ne}),ee("/Contents "+ve+" 0 R"),ee(">>"),ee("endobj");var ke=ne.join(`
`);return R===N&&(ke+=`
Q`),ir(ve,!0),br({data:ke,filters:yi(),objectId:ve}),ee("endobj"),ce},Ps=h.__private__.putPages=function(){var S,B,ne=[];for(S=1;S<=cn;S++)ut[S].objId=Dr(),ut[S].contentsObjId=Dr();for(S=1;S<=cn;S++)ne.push(ua({number:S,data:Ne[S],objId:ut[S].objId,contentsObjId:ut[S].contentsObjId,mediaBox:ut[S].mediaBox,cropBox:ut[S].cropBox,bleedBox:ut[S].bleedBox,trimBox:ut[S].trimBox,artBox:ut[S].artBox,userUnit:ut[S].userUnit,rootDictionaryObjId:ca,resourceDictionaryObjId:vi}));ir(ca,!0),ee("<</Type /Pages");var ce="/Kids [";for(B=0;B<cn;B++)ce+=ne[B]+" 0 R ";ee(ce+"]"),ee("/Count "+cn),ee(">>"),ee("endobj"),Wt.publish("postPutPages")},ko=function(S){Wt.publish("putFont",{font:S,out:ee,newObject:rr,putStream:br}),S.isAlreadyPutted!==!0&&(S.objectNumber=rr(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+Ch(S.postScriptName)),ee("/Subtype /Type1"),typeof S.encoding=="string"&&ee("/Encoding /"+S.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},da=function(S){S.objectNumber=rr();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[k(S.x),k(S.y),k(S.x+S.width),k(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ne=S.pages[1].join(`
`);br({data:ne,additionalKeyValues:B,objectId:S.objectNumber}),ee("endobj")},hl=function(S,B){B||(B=21);var ne=rr(),ce=function(je,Ge){var nt,Et=[],Dt=1/(Ge-1);for(nt=0;nt<1;nt+=Dt)Et.push(nt);if(Et.push(1),je[0].offset!=0){var un={offset:0,color:je[0].color};je.unshift(un)}if(je[je.length-1].offset!=1){var qn={offset:1,color:je[je.length-1].color};je.push(qn)}for(var Qn="",bn=0,pr=0;pr<Et.length;pr++){for(nt=Et[pr];nt>je[bn+1].offset;)bn++;var Fn=je[bn].offset,Or=(nt-Fn)/(je[bn+1].offset-Fn),co=je[bn].color,Lo=je[bn+1].color;Qn+=Z(Math.round((1-Or)*co[0]+Or*Lo[0]).toString(16))+Z(Math.round((1-Or)*co[1]+Or*Lo[1]).toString(16))+Z(Math.round((1-Or)*co[2]+Or*Lo[2]).toString(16))}return Qn.trim()}(S.colors,B),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+B+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:ce,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),ee("endobj"),S.objectNumber=rr(),ee("<< /ShadingType "+S.type),ee("/ColorSpace /DeviceRGB");var ke="/Coords ["+k(parseFloat(S.coords[0]))+" "+k(parseFloat(S.coords[1]))+" ";S.type===2?ke+=k(parseFloat(S.coords[2]))+" "+k(parseFloat(S.coords[3])):ke+=k(parseFloat(S.coords[2]))+" "+k(parseFloat(S.coords[3]))+" "+k(parseFloat(S.coords[4]))+" "+k(parseFloat(S.coords[5])),ee(ke+="]"),S.matrix&&ee("/Matrix ["+S.matrix.toString()+"]"),ee("/Function "+ne+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},fl=function(S,B){var ne=Dr(),ce=rr();B.push({resourcesOid:ne,objectOid:ce}),S.objectNumber=ce;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+S.boundingBox.map(k).join(" ")+"]"}),ve.push({key:"XStep",value:k(S.xStep)}),ve.push({key:"YStep",value:k(S.yStep)}),ve.push({key:"Resources",value:ne+" 0 R"}),S.matrix&&ve.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),br({data:S.stream,additionalKeyValues:ve,objectId:S.objectNumber}),ee("endobj")},pp=function(S){for(var B in S.objectNumber=rr(),ee("<<"),S)switch(B){case"opacity":ee("/ca "+T(S[B]));break;case"stroke-opacity":ee("/CA "+T(S[B]))}ee(">>"),ee("endobj")},ha=function(S){ir(S.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var B in ee("/Font <<"),Ye)Ye.hasOwnProperty(B)&&(f===!1||f===!0&&g.hasOwnProperty(B))&&ee("/"+B+" "+Ye[B].objectNumber+" 0 R");ee(">>")}(),function(){if(Object.keys(gt).length>0){for(var B in ee("/Shading <<"),gt)gt.hasOwnProperty(B)&&gt[B]instanceof id&&gt[B].objectNumber>=0&&ee("/"+B+" "+gt[B].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),ee(">>")}}(),function(B){if(Object.keys(gt).length>0){for(var ne in ee("/Pattern <<"),gt)gt.hasOwnProperty(ne)&&gt[ne]instanceof h.TilingPattern&&gt[ne].objectNumber>=0&&gt[ne].objectNumber<B&&ee("/"+ne+" "+gt[ne].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),ee(">>")}}(S.objectOid),function(){if(Object.keys(Ct).length>0){var B;for(B in ee("/ExtGState <<"),Ct)Ct.hasOwnProperty(B)&&Ct[B].objectNumber>=0&&ee("/"+B+" "+Ct[B].objectNumber+" 0 R");Wt.publish("putGStateDict"),ee(">>")}}(),function(){for(var B in ee("/XObject <<"),St)St.hasOwnProperty(B)&&St[B].objectNumber>=0&&ee("/"+B+" "+St[B].objectNumber+" 0 R");Wt.publish("putXobjectDict"),ee(">>")}(),ee(">>"),ee("endobj")},Fu=function(S){bt[S.fontName]=bt[S.fontName]||{},bt[S.fontName][S.fontStyle]=S.id},ic=function(S,B,ne,ce,ve){var ke={id:"F"+(Object.keys(Ye).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:ne,encoding:ce,isStandardFont:ve||!1,metadata:{}};return Wt.publish("addFont",{font:ke,instance:this}),Ye[ke.id]=ke,Fu(ke),ke.id},Yr=h.__private__.pdfEscape=h.pdfEscape=function(S,B){return function(ne,ce){var ve,ke,je,Ge,nt,Et,Dt,un,qn;if(je=(ce=ce||{}).sourceEncoding||"Unicode",nt=ce.outputEncoding,(ce.autoencode||nt)&&Ye[ot].metadata&&Ye[ot].metadata[je]&&Ye[ot].metadata[je].encoding&&(Ge=Ye[ot].metadata[je].encoding,!nt&&Ye[ot].encoding&&(nt=Ye[ot].encoding),!nt&&Ge.codePages&&(nt=Ge.codePages[0]),typeof nt=="string"&&(nt=Ge[nt]),nt)){for(Dt=!1,Et=[],ve=0,ke=ne.length;ve<ke;ve++)(un=nt[ne.charCodeAt(ve)])?Et.push(String.fromCharCode(un)):Et.push(ne[ve]),Et[ve].charCodeAt(0)>>8&&(Dt=!0);ne=Et.join("")}for(ve=ne.length;Dt===void 0&&ve!==0;)ne.charCodeAt(ve-1)>>8&&(Dt=!0),ve--;if(!Dt)return ne;for(Et=ce.noBOM?[]:[254,255],ve=0,ke=ne.length;ve<ke;ve++){if((qn=(un=ne.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Et.push(qn),Et.push(un-(qn<<8))}return String.fromCharCode.apply(void 0,Et)}(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Is=h.__private__.beginPage=function(S){Ne[++cn]=[],ut[cn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Uu(cn),ye(Ne[H])},sc=function(S,B){var ne,ce,ve;switch(n=B||n,typeof S=="string"&&(ne=w(S.toLowerCase()),Array.isArray(ne)&&(ce=ne[0],ve=ne[1])),Array.isArray(S)&&(ce=S[0]*pt,ve=S[1]*pt),isNaN(ce)&&(ce=i[0],ve=i[1]),(ce>14400||ve>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),ve=Math.min(14400,ve)),i=[ce,ve],n.substr(0,1)){case"l":ve>ce&&(i=[ve,ce]);break;case"p":ce>ve&&(i=[ve,ce])}Is(i),va(lc),ee(Ro),Mn!==0&&ee(Mn+" J"),Ku!==0&&ee(Ku+" j"),Wt.publish("addPage",{pageNumber:cn})},Bu=function(S){S>0&&S<=cn&&(Ne.splice(S,1),ut.splice(S,1),cn--,H>cn&&(H=cn),this.setPage(H))},Uu=function(S){S>0&&S<=cn&&(H=S)},Vu=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ne.length-1},zu=function(S,B,ne){var ce,ve=void 0;return ne=ne||{},S=S!==void 0?S:Ye[ot].fontName,B=B!==void 0?B:Ye[ot].fontStyle,ce=S.toLowerCase(),bt[ce]!==void 0&&bt[ce][B]!==void 0?ve=bt[ce][B]:bt[S]!==void 0&&bt[S][B]!==void 0?ve=bt[S][B]:ne.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),ve||ne.noFallback||(ve=bt.times[B])==null&&(ve=bt.times.normal),ve},fa=h.__private__.putInfo=function(){var S=rr(),B=function(ce){return ce};for(var ne in d!==null&&(B=kn.encryptor(S,0)),ee("<<"),ee("/Producer ("+Yr(B("jsPDF "+at.version))+")"),At)At.hasOwnProperty(ne)&&At[ne]&&ee("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Yr(B(At[ne]))+")");ee("/CreationDate ("+Yr(B(le))+")"),ee(">>"),ee("endobj")},$u=h.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||ca;switch(rr(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+B+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+ze;ne.substr(ne.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+T(ze)+"]")}switch(Pt||(Pt="continuous"),Pt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Qe&&ee("/PageMode /"+Qe),Wt.publish("putCatalog"),ee(">>"),ee("endobj")},lr=h.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ae+1)),ee("/Root "+ae+" 0 R"),ee("/Info "+(ae-1)+" 0 R"),d!==null&&ee("/Encrypt "+kn.oid+" 0 R"),ee("/ID [ <"+fe+"> <"+fe+"> ]"),ee(">>")},qu=h.__private__.putHeader=function(){ee("%PDF-"+_),ee("%ºß¬à")},oh=h.__private__.putXRef=function(){var S="0000000000";ee("xref"),ee("0 "+(ae+1)),ee("0000000000 65535 f ");for(var B=1;B<=ae;B++)typeof K[B]=="function"?ee((S+K[B]()).slice(-10)+" 00000 n "):K[B]!==void 0?ee((S+K[B]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},Po=h.__private__.buildDocument=function(){var S;ae=0,de=0,ue=[],K=[],_e=[],ca=Dr(),vi=Dr(),ye(ue),Wt.publish("buildDocument"),qu(),Ps(),function(){Wt.publish("putAdditionalObjects");for(var ne=0;ne<_e.length;ne++){var ce=_e[ne];ir(ce.objId,!0),ee(ce.content),ee("endobj")}Wt.publish("postPutAdditionalObjects")}(),S=[],function(){for(var ne in Ye)Ye.hasOwnProperty(ne)&&(f===!1||f===!0&&g.hasOwnProperty(ne))&&ko(Ye[ne])}(),function(){var ne;for(ne in Ct)Ct.hasOwnProperty(ne)&&pp(Ct[ne])}(),function(){for(var ne in St)St.hasOwnProperty(ne)&&da(St[ne])}(),function(ne){var ce;for(ce in gt)gt.hasOwnProperty(ce)&&(gt[ce]instanceof id?hl(gt[ce]):gt[ce]instanceof Wh&&fl(gt[ce],ne))}(S),Wt.publish("putResources"),S.forEach(ha),ha({resourcesOid:vi,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources"),d!==null&&(kn.oid=rr(),ee("<<"),ee("/Filter /Standard"),ee("/V "+kn.v),ee("/R "+kn.r),ee("/U <"+kn.toHexString(kn.U)+">"),ee("/O <"+kn.toHexString(kn.O)+">"),ee("/P "+kn.P),ee(">>"),ee("endobj")),fa(),$u();var B=de;return oh(),lr(),ee("startxref"),ee(""+B),ee("%%EOF"),ye(Ne[H]),ue.join(`
`)},pa=h.__private__.getBlob=function(S){return new Blob([ct(S)],{type:"application/pdf"})},is=h.output=h.__private__.output=(Vn=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return Po();case"save":h.save(B.filename);break;case"arraybuffer":return ct(Po());case"blob":return pa(Po());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(pa(Po()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",ce=Po();try{ne=fT(ce)}catch{ne=fT(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+B.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ve=B.pdfObjectUrl,ke="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Ge=jt.open();return Ge!==null&&Ge.document.write(je),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Et=jt.open();if(Et!==null){Et.document.write(nt);var Dt=this;Et.document.documentElement.querySelector("#pdfViewer").onload=function(){Et.document.title=B.filename,Et.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Et}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',qn=jt.open();if(qn!==null&&(qn.document.write(un),qn.document.title=B.filename),qn||typeof safari>"u")return qn;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",B);default:return null}},Vn.foo=function(){try{return Vn.apply(this,arguments)}catch(ne){var S=ne.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ne.message;if(!jt.console)throw new Error(B);jt.console.error(B,ne),jt.alert&&alert(B)}},Vn.foo.bar=Vn,Vn.foo),pl=function(S){return Array.isArray(vt)===!0&&vt.indexOf(S)>-1};switch(r){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=pl("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);pt=r}var kn=null;ge(),$();var Bi=h.__private__.getPageInfo=h.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[S].objId,pageNumber:S,pageContext:ut[S]}},oc=h.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in ut)if(ut[B].objId===S)break;return Bi(B)},ac=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ut[H].objId,pageNumber:H,pageContext:ut[H]}};h.addPage=function(){return sc.apply(this,arguments),this},h.setPage=function(){return Uu.apply(this,arguments),ye.call(this,Ne[H]),this},h.insertPage=function(S){return this.addPage(),this.movePage(H,S),this},h.movePage=function(S,B){var ne,ce;if(S>B){ne=Ne[S],ce=ut[S];for(var ve=S;ve>B;ve--)Ne[ve]=Ne[ve-1],ut[ve]=ut[ve-1];Ne[B]=ne,ut[B]=ce,this.setPage(B)}else if(S<B){ne=Ne[S],ce=ut[S];for(var ke=S;ke<B;ke++)Ne[ke]=Ne[ke+1],ut[ke]=ut[ke+1];Ne[B]=ne,ut[B]=ce,this.setPage(B)}return this},h.deletePage=function(){return Bu.apply(this,arguments),this},h.__private__.text=h.text=function(S,B,ne,ce,ve){var ke,je,Ge,nt,Et,Dt,un,qn,Qn,bn=(ce=ce||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof ne=="string"||Array.isArray(ne))){var pr=ne;ne=B,B=S,S=pr}if(arguments[3]instanceof Ze==0?(Ge=arguments[4],nt=arguments[5],jn(un=arguments[3])==="object"&&un!==null||(typeof Ge=="string"&&(nt=Ge,Ge=null),typeof un=="string"&&(nt=un,un=null),typeof un=="number"&&(Ge=un,un=null),ce={flags:un,angle:Ge,align:nt})):(P("The transform parameter of text() with a Matrix value"),Qn=ve),isNaN(B)||isNaN(ne)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return bn;var Fn,Or="",co=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:ga,Lo=bn.internal.scaleFactor;function ch(Hn){return Hn=Hn.split("	").join(Array(ce.TabLen||9).join(" ")),Yr(Hn,un)}function _l(Hn){for(var Wn,Nr=Hn.concat(),Ar=[],bl=Nr.length;bl--;)typeof(Wn=Nr.shift())=="string"?Ar.push(Wn):Array.isArray(Hn)&&(Wn.length===1||Wn[1]===void 0&&Wn[2]===void 0)?Ar.push(Wn[0]):Ar.push([Wn[0],Wn[1],Wn[2]]);return Ar}function Sr(Hn,Wn){var Nr;if(typeof Hn=="string")Nr=Wn(Hn)[0];else if(Array.isArray(Hn)){for(var Ar,bl,fh=Hn.concat(),Aa=[],Ep=fh.length;Ep--;)typeof(Ar=fh.shift())=="string"?Aa.push(Wn(Ar)[0]):Array.isArray(Ar)&&typeof Ar[0]=="string"&&(bl=Wn(Ar[0],Ar[1],Ar[2]),Aa.push([bl[0],bl[1],bl[2]]));Nr=Aa}return Nr}var as=!1,fc=!0;if(typeof S=="string")as=!0;else if(Array.isArray(S)){var Ls=S.concat();je=[];for(var m,C=Ls.length;C--;)(typeof(m=Ls.shift())!="string"||Array.isArray(m)&&typeof m[0]!="string")&&(fc=!1);as=fc}if(as===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var F=De/bn.internal.scaleFactor,X=F*(co-1);switch(ce.baseline){case"bottom":ne-=X;break;case"top":ne+=F-X;break;case"hanging":ne+=F-2*X;break;case"middle":ne+=F/2-X}if((Dt=ce.maxWidth||0)>0&&(typeof S=="string"?S=bn.splitTextToSize(S,Dt):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Hn,Wn){return Hn.concat(bn.splitTextToSize(Wn,Dt))},[]))),ke={text:S,x:B,y:ne,options:ce,mutex:{pdfEscape:Yr,activeFontKey:ot,fonts:Ye,activeFontSize:De}},Wt.publish("preProcessText",ke),S=ke.text,Ge=(ce=ke.options).angle,Qn instanceof Ze==0&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,ce.rotationDirection===0&&(Ge=-Ge),R===N&&(Ge=-Ge);var we=Math.cos(Ge),Ae=Math.sin(Ge);Qn=new Ze(we,Ae,-Ae,we,0,0)}else Ge&&Ge instanceof Ze&&(Qn=Ge);R!==N||Qn||(Qn=jr),(Et=ce.charSpace||vl)!==void 0&&(Or+=k(O(Et))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qn=ce.horizontalScale)!==void 0&&(Or+=k(100*qn)+` Tz
`),ce.lang;var Fe=-1,_n=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,sr=bn.internal.getCurrentPageInfo().pageContext;switch(_n){case 0:case!1:case"fill":Fe=0;break;case 1:case!0:case"stroke":Fe=1;break;case 2:case"fillThenStroke":Fe=2;break;case 3:case"invisible":Fe=3;break;case 4:case"fillAndAddForClipping":Fe=4;break;case 5:case"strokeAndAddPathForClipping":Fe=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Fe=6;break;case 7:case"addToPathForClipping":Fe=7}var en=sr.usedRenderingMode!==void 0?sr.usedRenderingMode:-1;Fe!==-1?Or+=Fe+` Tr
`:en!==-1&&(Or+=`0 Tr
`),Fe!==-1&&(sr.usedRenderingMode=Fe),nt=ce.align||"left";var sn,Pn=De*co,uo=bn.internal.pageSize.getWidth(),oi=Ye[ot];Et=ce.charSpace||vl,Dt=ce.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var js=[],xa=function(Hn){return bn.getStringUnitWidth(Hn,{font:oi,charSpace:Et,fontSize:De,doKerning:!1})*De/Lo};if(Object.prototype.toString.call(S)==="[object Array]"){var ls;je=_l(S),nt!=="left"&&(sn=je.map(xa));var cs,Yu=0;if(nt==="right"){B-=sn[0],S=[],C=je.length;for(var ba=0;ba<C;ba++)ba===0?(cs=Qr(B),ls=Io(ne)):(cs=O(Yu-sn[ba]),ls=-Pn),S.push([je[ba],cs,ls]),Yu=sn[ba]}else if(nt==="center"){B-=sn[0]/2,S=[],C=je.length;for(var pc=0;pc<C;pc++)pc===0?(cs=Qr(B),ls=Io(ne)):(cs=O((Yu-sn[pc])/2),ls=-Pn),S.push([je[pc],cs,ls]),Yu=sn[pc]}else if(nt==="left"){S=[],C=je.length;for(var xp=0;xp<C;xp++)S.push(je[xp])}else if(nt==="justify"&&oi.encoding==="Identity-H"){S=[],C=je.length,Dt=Dt!==0?Dt:uo;for(var mc=0,Er=0;Er<C;Er++)if(ls=Er===0?Io(ne):-Pn,cs=Er===0?Qr(B):mc,Er<C-1){var M2=O((Dt-sn[Er])/(je[Er].split(" ").length-1)),Sa=je[Er].split(" ");S.push([Sa[0]+" ",cs,ls]),mc=0;for(var Ea=1;Ea<Sa.length;Ea++){var uh=(xa(Sa[Ea-1]+" "+Sa[Ea])-xa(Sa[Ea]))*Lo+M2;Ea==Sa.length-1?S.push([Sa[Ea],uh,0]):S.push([Sa[Ea]+" ",uh,0]),mc-=uh}}else S.push([je[Er],cs,ls]);S.push(["",mc,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],C=je.length,Dt=Dt!==0?Dt:uo,Er=0;Er<C;Er++)ls=Er===0?Io(ne):-Pn,cs=Er===0?Qr(B):0,Er<C-1?js.push(k(O((Dt-sn[Er])/(je[Er].split(" ").length-1)))):js.push(0),S.push([je[Er],cs,ls])}}(typeof ce.R2L=="boolean"?ce.R2L:Nt)===!0&&(S=Sr(S,function(Hn,Wn,Nr){return[Hn.split("").reverse().join(""),Wn,Nr]})),ke={text:S,x:B,y:ne,options:ce,mutex:{pdfEscape:Yr,activeFontKey:ot,fonts:Ye,activeFontSize:De}},Wt.publish("postProcessText",ke),S=ke.text,Fn=ke.mutex.isHex||!1;var bp=Ye[ot].encoding;bp!=="WinAnsiEncoding"&&bp!=="StandardEncoding"||(S=Sr(S,function(Hn,Wn,Nr){return[ch(Hn),Wn,Nr]})),je=_l(S),S=[];for(var dh,hh,Qu,Xu=Array.isArray(je[0])?1:0,xl="",Sp=function(Hn,Wn,Nr){var Ar="";return Nr instanceof Ze?(Nr=typeof ce.angle=="number"?fn(Nr,new Ze(1,0,0,1,Hn,Wn)):fn(new Ze(1,0,0,1,Hn,Wn),Nr),R===N&&(Nr=fn(new Ze(1,0,0,-1,0,0),Nr)),Ar=Nr.join(" ")+` Tm
`):Ar=k(Hn)+" "+k(Wn)+` Td
`,Ar},Ds=0;Ds<je.length;Ds++){switch(xl="",Xu){case 1:Qu=(Fn?"<":"(")+je[Ds][0]+(Fn?">":")"),dh=parseFloat(je[Ds][1]),hh=parseFloat(je[Ds][2]);break;case 0:Qu=(Fn?"<":"(")+je[Ds]+(Fn?">":")"),dh=Qr(B),hh=Io(ne)}js!==void 0&&js[Ds]!==void 0&&(xl=js[Ds]+` Tw
`),Ds===0?S.push(xl+Sp(dh,hh,Qn)+Qu):Xu===0?S.push(xl+Qu):Xu===1&&S.push(xl+Sp(dh,hh,Qn)+Qu)}S=Xu===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Na=`BT
/`;return Na+=ot+" "+De+` Tf
`,Na+=k(De*co)+` TL
`,Na+=Rs+`
`,Na+=Or,Na+=S,ee(Na+="ET"),g[ot]=!0,bn};var ah=h.__private__.clip=h.clip=function(S){return ee(S==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return ah("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ee("n"),this};var rn=h.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(S){return rn(S)&&(c=S),this};var ml=h.__private__.getStyle=h.getStyle=function(S){var B=c;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},ma=h.close=function(){return ee("h"),this};h.stroke=function(){return ee("S"),this},h.fill=function(S){return ss("f",S),this},h.fillEvenOdd=function(S){return ss("f*",S),this},h.fillStroke=function(S){return ss("B",S),this},h.fillStrokeEvenOdd=function(S){return ss("B*",S),this};var ss=function(S,B){jn(B)==="object"?mp(B,S):ee(S)},Hu=function(S){S===null||R===N&&S===void 0||(S=ml(S),ee(S))};function lh(S,B,ne,ce,ve){var ke=new Wh(B||this.boundingBox,ne||this.xStep,ce||this.yStep,this.gState,ve||this.matrix);ke.stream=this.stream;var je=S+"$$"+this.cloneIndex+++"$$";return Cn(je,ke),ke}var mp=function(S,B){var ne=Vt[S.key],ce=gt[ne];if(ce instanceof id)ee("q"),ee(gp(B)),ce.gState&&h.setGState(ce.gState),ee(S.matrix.toString()+" cm"),ee("/"+ne+" sh"),ee("Q");else if(ce instanceof Wh){var ve=new Ze(1,0,0,-1,0,Vi());S.matrix&&(ve=ve.multiply(S.matrix||jr),ne=lh.call(ce,S.key,S.boundingBox,S.xStep,S.yStep,ve).id),ee("q"),ee("/Pattern cs"),ee("/"+ne+" scn"),ce.gState&&h.setGState(ce.gState),ee(B),ee("Q")}},gp=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wu=h.moveTo=function(S,B){return ee(k(O(S))+" "+k(W(B))+" m"),this},gl=h.lineTo=function(S,B){return ee(k(O(S))+" "+k(W(B))+" l"),this},os=h.curveTo=function(S,B,ne,ce,ve,ke){return ee([k(O(S)),k(W(B)),k(O(ne)),k(W(ce)),k(O(ve)),k(W(ke)),"c"].join(" ")),this};h.__private__.line=h.line=function(S,B,ne,ce,ve){if(isNaN(S)||isNaN(B)||isNaN(ne)||isNaN(ce)||!rn(ve))throw new Error("Invalid arguments passed to jsPDF.line");return R===b?this.lines([[ne-S,ce-B]],S,B,[1,1],ve||"S"):this.lines([[ne-S,ce-B]],S,B,[1,1]).stroke()},h.__private__.lines=h.lines=function(S,B,ne,ce,ve,ke){var je,Ge,nt,Et,Dt,un,qn,Qn,bn,pr,Fn,Or;if(typeof S=="number"&&(Or=ne,ne=B,B=S,S=Or),ce=ce||[1,1],ke=ke||!1,isNaN(B)||isNaN(ne)||!Array.isArray(S)||!Array.isArray(ce)||!rn(ve)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Wu(B,ne),je=ce[0],Ge=ce[1],Et=S.length,pr=B,Fn=ne,nt=0;nt<Et;nt++)(Dt=S[nt]).length===2?(pr=Dt[0]*je+pr,Fn=Dt[1]*Ge+Fn,gl(pr,Fn)):(un=Dt[0]*je+pr,qn=Dt[1]*Ge+Fn,Qn=Dt[2]*je+pr,bn=Dt[3]*Ge+Fn,pr=Dt[4]*je+pr,Fn=Dt[5]*Ge+Fn,os(un,qn,Qn,bn,pr,Fn));return ke&&ma(),Hu(ve),this},h.path=function(S){for(var B=0;B<S.length;B++){var ne=S[B],ce=ne.c;switch(ne.op){case"m":Wu(ce[0],ce[1]);break;case"l":gl(ce[0],ce[1]);break;case"c":os.apply(this,ce);break;case"h":ma()}}return this},h.__private__.rect=h.rect=function(S,B,ne,ce,ve){if(isNaN(S)||isNaN(B)||isNaN(ne)||isNaN(ce)||!rn(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return R===b&&(ce=-ce),ee([k(O(S)),k(W(B)),k(O(ne)),k(O(ce)),"re"].join(" ")),Hu(ve),this},h.__private__.triangle=h.triangle=function(S,B,ne,ce,ve,ke,je){if(isNaN(S)||isNaN(B)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(ke)||!rn(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-S,ce-B],[ve-ne,ke-ce],[S-ve,B-ke]],S,B,[1,1],je,!0),this},h.__private__.roundedRect=h.roundedRect=function(S,B,ne,ce,ve,ke,je){if(isNaN(S)||isNaN(B)||isNaN(ne)||isNaN(ce)||isNaN(ve)||isNaN(ke)||!rn(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*ne),ke=Math.min(ke,.5*ce),this.lines([[ne-2*ve,0],[ve*Ge,0,ve,ke-ke*Ge,ve,ke],[0,ce-2*ke],[0,ke*Ge,-ve*Ge,ke,-ve,ke],[2*ve-ne,0],[-ve*Ge,0,-ve,-ke*Ge,-ve,-ke],[0,2*ke-ce],[0,-ke*Ge,ve*Ge,-ke,ve,-ke]],S+ve,B,[1,1],je,!0),this},h.__private__.ellipse=h.ellipse=function(S,B,ne,ce,ve){if(isNaN(S)||isNaN(B)||isNaN(ne)||isNaN(ce)||!rn(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ne,je=4/3*(Math.SQRT2-1)*ce;return Wu(S+ne,B),os(S+ne,B-je,S+ke,B-ce,S,B-ce),os(S-ke,B-ce,S-ne,B-je,S-ne,B),os(S-ne,B+je,S-ke,B+ce,S,B+ce),os(S+ke,B+ce,S+ne,B+je,S+ne,B),Hu(ve),this},h.__private__.circle=h.circle=function(S,B,ne,ce){if(isNaN(S)||isNaN(B)||isNaN(ne)||!rn(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,ne,ne,ce)},h.setFont=function(S,B,ne){return ne&&(B=I(B,ne)),ot=zu(S,B,{disableWarning:!1}),this};var ao=h.__private__.getFont=h.getFont=function(){return Ye[zu.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var S,B,ne={};for(S in bt)if(bt.hasOwnProperty(S))for(B in ne[S]=[],bt[S])bt[S].hasOwnProperty(B)&&ne[S].push(B);return ne},h.addFont=function(S,B,ne,ce,ve){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ne=I(ne,ce)),ic.call(this,S,B,ne,ve=ve||"Identity-H")};var ga,lc=t.lineWidth||.200025,It=h.__private__.getLineWidth=h.getLineWidth=function(){return lc},va=h.__private__.setLineWidth=h.setLineWidth=function(S){return lc=S,ee(k(O(S))+" w"),this};h.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ne){return k(O(ne))}).join(" "),B=k(O(B)),ee("["+S+"] "+B+" d"),this};var vp=h.__private__.getLineHeight=h.getLineHeight=function(){return De*ga};h.__private__.getLineHeight=h.getLineHeight=function(){return De*ga};var yp=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(ga=S),this},wp=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ga};yp(t.lineHeight);var Qr=h.__private__.getHorizontalCoordinate=function(S){return O(S)},Io=h.__private__.getVerticalCoordinate=function(S){return R===N?S:ut[H].mediaBox.topRightY-ut[H].mediaBox.bottomLeftY-O(S)},_p=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(S){return k(Qr(S))},cc=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(S){return k(Io(S))},Ro=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ks(Ro)},h.__private__.setStrokeColor=h.setDrawColor=function(S,B,ne,ce){return Ro=Fi({ch1:S,ch2:B,ch3:ne,ch4:ce,pdfColorType:"draw",precision:2}),ee(Ro),this};var uc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ks(uc)},h.__private__.setFillColor=h.setFillColor=function(S,B,ne,ce){return uc=Fi({ch1:S,ch2:B,ch3:ne,ch4:ce,pdfColorType:"fill",precision:2}),ee(uc),this};var Rs=t.textColor||"0 g",lo=h.__private__.getTextColor=h.getTextColor=function(){return ks(Rs)};h.__private__.setTextColor=h.setTextColor=function(S,B,ne,ce){return Rs=Fi({ch1:S,ch2:B,ch3:ne,ch4:ce,pdfColorType:"text",precision:3}),this};var vl=t.charSpace,Gu=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vl||0)};h.__private__.setCharSpace=h.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vl=S,this};var Mn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(S){var B=h.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mn=B,ee(B+" J"),this};var Ku=0;h.__private__.setLineJoin=h.setLineJoin=function(S){var B=h.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ku=B,ee(B+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(k(O(S))+" M"),this},h.GState=D1,h.setGState=function(S){(S=typeof S=="string"?Ct[Bn[S]]:yl(null,S)).equals(Un)||(ee("/"+S.id+" gs"),Un=S)};var yl=function(S,B){if(!S||!Bn[S]){var ne=!1;for(var ce in Ct)if(Ct.hasOwnProperty(ce)&&Ct[ce].equals(B)){ne=!0;break}if(ne)B=Ct[ce];else{var ve="GS"+(Object.keys(Ct).length+1).toString(10);Ct[ve]=B,B.id=ve}return S&&(Bn[S]=B.id),Wt.publish("addGState",B),B}};h.addGState=function(S,B){return yl(S,B),this},h.saveGraphicsState=function(){return ee("q"),nn.push({key:ot,size:De,color:Rs}),this},h.restoreGraphicsState=function(){ee("Q");var S=nn.pop();return ot=S.key,De=S.size,Rs=S.color,Un=null,this},h.setCurrentTransformationMatrix=function(S){return ee(S.toString()+" cm"),this},h.comment=function(S){return ee("#"+S),this};var ya=function(S,B){var ne=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(ke){isNaN(ke)||(ne=parseFloat(ke))}});var ce=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(ke){isNaN(ke)||(ce=parseFloat(ke))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(ke){ve=ke.toString()}}),this},dc=function(S,B,ne,ce){ya.call(this,S,B),this.type="rect";var ve=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(je){isNaN(je)||(ve=parseFloat(je))}});var ke=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(je){isNaN(je)||(ke=parseFloat(je))}}),this},wl=function(){this.page=cn,this.currentPage=H,this.pages=Ne.slice(0),this.pagesContext=ut.slice(0),this.x=lt,this.y=ln,this.matrix=Qt,this.width=Ui(H),this.height=Vi(H),this.outputDestination=Ee,this.id="",this.objectNumber=-1};wl.prototype.restore=function(){cn=this.page,H=this.currentPage,ut=this.pagesContext,Ne=this.pages,lt=this.x,ln=this.y,Qt=this.matrix,hc(H,this.width),wi(H,this.height),Ee=this.outputDestination};var wa=function(S,B,ne,ce,ve){On.push(new wl),cn=H=0,Ne=[],lt=S,ln=B,Qt=ve,Is([ne,ce])};for(var _a in h.beginFormObject=function(S,B,ne,ce,ve){return wa(S,B,ne,ce,ve),this},h.endFormObject=function(S){return function(B){if(Zt[B])On.pop().restore();else{var ne=new wl,ce="Xo"+(Object.keys(St).length+1).toString(10);ne.id=ce,Zt[B]=ce,St[ce]=ne,Wt.publish("addFormObject",ne),On.pop().restore()}}(S),this},h.doFormObject=function(S,B){var ne=St[Zt[S]];return ee("q"),ee(B.toString()+" cm"),ee("/"+ne.id+" Do"),ee("Q"),this},h.getFormObject=function(S){var B=St[Zt[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},h.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(nd(pa(Po()),S),typeof nd.unload=="function"&&jt.setTimeout&&setTimeout(nd.unload,911),this):new Promise(function(ne,ce){try{var ve=nd(pa(Po()),S);typeof nd.unload=="function"&&jt.setTimeout&&setTimeout(nd.unload,911),ne(ve)}catch(ke){ce(ke.message)}})},at.API)at.API.hasOwnProperty(_a)&&(_a==="events"&&at.API.events.length?function(S,B){var ne,ce,ve;for(ve=B.length-1;ve!==-1;ve--)ne=B[ve][0],ce=B[ve][1],S.subscribe.apply(S,[ne].concat(typeof ce=="function"?[ce]:ce))}(Wt,at.API.events):h[_a]=at.API[_a]);var Ui=h.getPageWidth=function(S){return(ut[S=S||H].mediaBox.topRightX-ut[S].mediaBox.bottomLeftX)/pt},hc=h.setPageWidth=function(S,B){ut[S].mediaBox.topRightX=B*pt+ut[S].mediaBox.bottomLeftX},Vi=h.getPageHeight=function(S){return(ut[S=S||H].mediaBox.topRightY-ut[S].mediaBox.bottomLeftY)/pt},wi=h.setPageHeight=function(S,B){ut[S].mediaBox.topRightY=B*pt+ut[S].mediaBox.bottomLeftY};return h.internal={pdfEscape:Yr,getStyle:ml,getFont:ao,getFontSize:Ve,getCharSpace:Gu,getTextColor:lo,getLineHeight:vp,getLineHeightFactor:wp,getLineWidth:It,write:st,getHorizontalCoordinate:Qr,getVerticalCoordinate:Io,getCoordinateString:_p,getVerticalCoordinateString:cc,collections:{},newObject:rr,newAdditionalObject:dl,newObjectDeferred:Dr,newObjectDeferredBegin:ir,getFilters:yi,putStream:br,events:Wt,scaleFactor:pt,pageSize:{getWidth:function(){return Ui(H)},setWidth:function(S){hc(H,S)},getHeight:function(){return Vi(H)},setHeight:function(S){wi(H,S)}},encryptionOptions:d,encryption:kn,getEncryptor:function(S){return d!==null?kn.encryptor(S,0):function(B){return B}},output:is,getNumberOfPages:Vu,pages:Ne,out:ee,f2:T,f3:L,getPageInfo:Bi,getPageInfoByObjId:oc,getCurrentPageInfo:ac,getPDFVersion:y,Point:ya,Rectangle:dc,Matrix:Ze,hasHotfix:pl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ui(H)},set:function(S){hc(H,S)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Vi(H)},set:function(S){wi(H,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,ne=Je.length;B<ne;B++){var ce=ic.call(this,S[B][0],S[B][1],S[B][2],Je[B][3],!0);f===!1&&(g[ce]=!0);var ve=S[B][0].split("-");Fu({id:ce,fontName:ve[0],fontStyle:ve[1]||""})}Wt.publish("addFonts",{fonts:Ye,dictionary:bt})}).call(h,Je),ot="F1",sc(i,n),Wt.publish("initialized"),h}Ah.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Ah.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ah.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Ah.prototype.processOwnerPassword=function(t,e){return x5(_5(e).substr(0,5),t)},Ah.prototype.encryptor=function(t,e){var n=_5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return x5(n,r)}},D1.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||jn(t)!==jn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.2";var yr=at.API,dE=1,Zd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(t){return t.toFixed(2)},Cc=function(t){return t.toFixed(5)};yr.__acroform__={};var Ts=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vT=function(t){return t*dE},ka=function(t){var e=new s8,n=tt.internal.getHeight(t)||0,r=tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mt(r)),Number(Mt(n))],e},dee=yr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},hee=yr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},fee=yr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ir=yr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fee(t,e-1)},Rr=yr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dee(t,e-1)},Lr=yr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return hee(t,e-1)},pee=yr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Mt(l.lowerLeft_X)),Number(Mt(l.lowerLeft_Y)),Number(Mt(l.upperRight_X)),Number(Mt(l.upperRight_Y))]},mee=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=b5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ka(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},b5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,o=tt.internal.getHeight(t)||0;o=o<0?-o:o;var a=tt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,L,O){if(T+1<i.length){var W=L+" "+i[T+1][0];return J0(W,t,O).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,f=J0("3",t,s).height,g=t.multiline?o-s:(o-f)/2,h=g+=2,_=0,y=0,x=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+J0(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",b=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&x!==i[N].length-1){if((f+2)*(b+2)+2>o)continue e;w+=i[N][x],R=!0,y=N,N--}else{w=(w+=i[N][x]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var z=parseInt(N),U=l(z,w,s),I=N>=i.length-1;if(U&&!I){w+=" ",x=0;continue}if(U||I){if(I)y=z;else if(t.multiline&&(f+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>o)continue e;y=z}}for(var k="",P=_;P<=y;P++){var M=i[P];if(t.multiline){if(P===y){k+=M[x]+" ",x=(x+1)%M.length;continue}if(P===_){k+=M[M.length-1]+" ";continue}}k+=M[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,d=J0(k,t,s).width,t.textAlign){case"right":c=a-d-2;break;case"center":c=(a-d)/2;break;default:c=2}e+=Mt(c)+" "+Mt(h)+` Td
`,e+="("+Zd(k)+`) Tj
`,e+=-Mt(c)+` 0 Td
`,h=-(s+2),d=0,_=R?y:y+1,b++,w=""}break}return r.text=e,r.fontSize=s,r},J0=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},gee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vee=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},yee=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(aa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(gee)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new o8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&vee(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=pee(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=tt.createDefaultAppearanceStream(a),jn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=mee(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var f="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var h=a.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var _=h[o];typeof _=="function"&&(_=_.call(i,a)),f+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=h)=="function"&&(_=_.call(i,a)),f+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,x){for(var w in y)if(y.hasOwnProperty(w)){var b=w,N=y[w];x.internal.newObjectDeferredBegin(N.objId,!0),jn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete y[b]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},i8=yr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),jn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Zd(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Zd(r(t))+")"},Ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ua.prototype.toString=function(){return this.objId+" 0 R"},Ua.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ua.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:i8(i,this.objId,this.scope)}):i instanceof Ua?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var s8=function(){Ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ts(s8,Ua);var o8=function(){Ua.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Zd(n(t))+")"}},set:function(n){t=n}})};Ts(o8,Ua);var aa=function t(){Ua.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(e,3)},set:function(w){w?this.F=Rr(e,3):this.F=Lr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof O1)return;s="FieldObject"+t.FieldNum++}var w=function(b){return b};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Zd(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/dE:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof O1||this instanceof _d))return w_(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ei==0?w_(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof ei==0?w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei==1?bh(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof ei==1?"/"+w:w}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ei==0?w_(h,this.objId,this.scope):h},set:function(w){w=w.toString(),h=this instanceof ei==0?w.substr(0,1)==="("?bh(w.substr(1,w.length-2)):bh(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei==1?bh(h.substr(1,h.length-1)):h},set:function(w){w=w.toString(),h=this instanceof ei==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(w){w?this.Ff=Rr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(w){w?this.Ff=Rr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(w){w?this.Ff=Rr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');x=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(x){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Ts(aa,Ua);var of=function(){aa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return i8(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ts(of,aa);var af=function(){of.call(this),this.fontName="helvetica",this.combo=!1};Ts(af,of);var lf=function(){af.call(this),this.combo=!0};Ts(lf,af);var Lv=function(){lf.call(this),this.edit=!0};Ts(Lv,lf);var ei=function(){aa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Zd(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){jn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ts(ei,aa);var jv=function(){ei.call(this),this.pushButton=!0};Ts(jv,ei);var cf=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ts(cf,ei);var O1=function(){var t,e;aa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Zd(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){jn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ts(O1,aa),cf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},cf.prototype.createOption=function(t){var e=new O1;return e.Parent=this,e.optionName=t,this.Kids.push(e),wee.call(this.scope,e),e};var Dv=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};Ts(Dv,ei);var _d=function(){aa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ts(_d,aa);var Ov=function(){_d.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(t){t?this.Ff=Rr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Ts(Ov,_d);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=b5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Mt(tt.internal.getWidth(t))+" "+Mt(tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=tt.internal.getHeight(t),o=tt.internal.getWidth(t),a=b5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mt(o)+" "+Mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(o-1)+" "+Mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Mt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(tt.internal.getWidth(t))+" "+Mt(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Circle.YesNormal,e.D[t]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Cc(tt.internal.getWidth(t)/2)+" "+Cc(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cc(tt.internal.getWidth(t)/2)+" "+Cc(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Cc(tt.internal.getWidth(t)/2)+" "+Cc(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Cc(tt.internal.getWidth(t)/2)+" "+Cc(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Cross.YesNormal,e.D[t]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ka(t);e.scope=t.scope;var n=[],r=tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Mt(tt.internal.getWidth(t)-2)+" "+Mt(tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(tt.internal.getWidth(t))+" "+Mt(tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Mt(tt.internal.getWidth(t)-2)+" "+Mt(tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ka(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(tt.internal.getWidth(t))+" "+Mt(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=tt.internal.getWidth(t),n=tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},tt.internal.getWidth=function(t){var e=0;return jn(t)==="object"&&(e=vT(t.Rect[2])),e},tt.internal.getHeight=function(t){var e=0;return jn(t)==="object"&&(e=vT(t.Rect[3])),e};var wee=yr.addField=function(t){if(yee(this,t),!(t instanceof aa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};yr.AcroFormChoiceField=of,yr.AcroFormListBox=af,yr.AcroFormComboBox=lf,yr.AcroFormEditBox=Lv,yr.AcroFormButton=ei,yr.AcroFormPushButton=jv,yr.AcroFormRadioButton=cf,yr.AcroFormCheckBox=Dv,yr.AcroFormTextField=_d,yr.AcroFormPasswordField=Ov,yr.AcroFormAppearance=tt,yr.AcroForm={ChoiceField:of,ListBox:af,ComboBox:lf,EditBox:Lv,Button:ei,PushButton:jv,RadioButton:cf,CheckBox:Dv,TextField:_d,PasswordField:Ov,Appearance:tt},at.AcroForm={ChoiceField:of,ListBox:af,ComboBox:lf,EditBox:Lv,Button:ei,PushButton:jv,RadioButton:cf,CheckBox:Dv,TextField:_d,PasswordField:Ov,Appearance:tt};function a8(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,L){var O,W,le,fe,oe,$=n;if((L=L||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(U(T))for(oe in r)for(le=r[oe],O=0;O<le.length;O+=1){for(fe=!0,W=0;W<le[O].length;W+=1)if(le[O][W]!==void 0&&le[O][W]!==T[W]){fe=!1;break}if(fe===!0){$=oe;break}}else for(oe in r)for(le=r[oe],O=0;O<le.length;O+=1){for(fe=!0,W=0;W<le[O].length;W+=1)if(le[O][W]!==void 0&&le[O][W]!==T.charCodeAt(W)){fe=!1;break}if(fe===!0){$=oe;break}}return $===n&&L!==n&&($=L),$},s=function T(L){for(var O=this.internal.write,W=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:L.width}),fe.push({key:"Height",value:L.height}),L.colorSpace===w.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===w.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var oe="",$=0,te=L.transparency.length;$<te;$++)oe+=L.transparency[$]+" "+L.transparency[$]+" ";fe.push({key:"Mask",value:"["+oe+"]"})}L.sMask!==void 0&&fe.push({key:"SMask",value:L.objectId+1+" 0 R"});var se=L.filter!==void 0?["/"+L.filter]:void 0;if(W({data:L.data,additionalKeyValues:fe,alreadyAppliedFilters:se,objectId:L.objectId}),O("endobj"),"sMask"in L&&L.sMask!==void 0){var ge=(L.predictor!=null?"/Predictor "+L.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+L.width,D={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:ge,data:L.sMask};"filter"in L&&(D.filter=L.filter),T.call(this,D)}if(L.colorSpace===w.INDEXED){var H=this.internal.newObject();W({data:k(new Uint8Array(L.palette)),objectId:H}),O("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var L in T)s.call(this,T[L])},a=function(){var T,L=this.internal.collections[e+"images"],O=this.internal.write;for(var W in L)O("/I"+(T=L[W]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},g=function(T){return jn(T)==="object"&&T.nodeType===1},h=function(T,L){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var O=""+T.getAttribute("src");if(O.indexOf("data:image/")===0)return Rv(unescape(O).split("base64,").pop());var W=t.loadFile(O,!0);if(W!==void 0)return W}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var le;switch(L){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return Rv(T.toDataURL(le,1).split("base64,").pop())}},_=function(T){var L=this.internal.collections[e+"images"];if(L){for(var O in L)if(T===L[O].alias)return L[O]}},y=function(T,L,O){return T||L||(T=-96,L=-96),T<0&&(T=-1*O.width*72/T/this.internal.scaleFactor),L<0&&(L=-1*O.height*72/L/this.internal.scaleFactor),T===0&&(T=L*O.width/O.height),L===0&&(L=T*O.height/O.width),[T,L]},x=function(T,L,O,W,le,fe){var oe=y.call(this,O,W,le),$=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,se=c.call(this);if(O=oe[0],W=oe[1],se[le.index]=le,fe){fe*=Math.PI/180;var ge=Math.cos(fe),D=Math.sin(fe),H=function(Z){return Z.toFixed(4)},Q=[H(ge),H(D),H(-1*D),H(ge),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,$(T),te(L+W),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([$(O),"0","0",$(W),"0","0","cm"].join(" "))):this.internal.write([$(O),"0","0",$(W),$(T),te(L+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(T){var L,O,W=0;if(typeof T=="string")for(O=T.length,L=0;L<O;L++)W=(W<<5)-W+T.charCodeAt(L),W|=0;else if(U(T))for(O=T.byteLength/2,L=0;L<O;L++)W=(W<<5)-W+T[L],W|=0;return W},R=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var L=!0;return T.length===0&&(L=!1),T.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(L=!1),L},z=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var L=T.indexOf(",");return L<0?null:T.substring(0,L).trim().endsWith("base64")?T.substring(L+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var U=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},I=t.__addimage__.binaryStringToUint8Array=function(T){for(var L=T.length,O=new Uint8Array(L),W=0;W<L;W++)O[W]=T.charCodeAt(W);return O},k=t.__addimage__.arrayBufferToBinaryString=function(T){for(var L="",O=U(T)?T:new Uint8Array(T),W=0;W<O.length;W+=8192)L+=String.fromCharCode.apply(null,O.subarray(W,W+8192));return L};t.addImage=function(){var T,L,O,W,le,fe,oe,$,te;if(typeof arguments[1]=="number"?(L=n,O=arguments[1],W=arguments[2],le=arguments[3],fe=arguments[4],oe=arguments[5],$=arguments[6],te=arguments[7]):(L=arguments[1],O=arguments[2],W=arguments[3],le=arguments[4],fe=arguments[5],oe=arguments[6],$=arguments[7],te=arguments[8]),jn(T=arguments[0])==="object"&&!g(T)&&"imageData"in T){var se=T;T=se.imageData,L=se.format||L||n,O=se.x||O||0,W=se.y||W||0,le=se.w||se.width||le,fe=se.h||se.height||fe,oe=se.alias||oe,$=se.compression||$,te=se.rotation||se.angle||te}var ge=this.internal.getFilters();if($===void 0&&ge.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(O)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=P.call(this,T,L,oe,$);return x.call(this,O,W,le,fe,D,te),this};var P=function(T,L,O,W){var le,fe,oe;if(typeof T=="string"&&i(T)===n){T=unescape(T);var $=M(T,!1);($!==""||($=t.loadFile(T,!0))!==void 0)&&(T=$)}if(g(T)&&(T=h(T,L)),L=i(T,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((oe=O)==null||oe.length===0)&&(O=function(te){return typeof te=="string"||U(te)?N(te):U(te.data)?N(te.data):null}(T)),(le=_.call(this,O))||(T instanceof Uint8Array||L==="RGBA"||(fe=T,T=I(T)),le=this["process"+L.toUpperCase()](T,d.call(this),O,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:b.NONE}(W),fe)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},M=t.__addimage__.convertBase64ToBinaryString=function(T,L){L=typeof L!="boolean"||L;var O,W="";if(typeof T=="string"){var le;O=(le=z(T))!==null&&le!==void 0?le:T;try{W=Rv(O)}catch(fe){if(L)throw R(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(T){var L,O,W="";if(g(T)&&(T=h(T)),typeof T=="string"&&i(T)===n&&((W=M(T,!1))===""&&(W=t.loadFile(T)||""),T=W),O=i(T),!f(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(T instanceof Uint8Array||(T=I(T)),!(L=this["process"+O.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=O,L}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var h=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+h(w(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(w(b))+") >>",y.content=s;var N=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var U=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(c*d)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(y){var x=0,w=n,b="",N=0;for(x=0;x<y.length;x+=1)w[y.charCodeAt(x)]!==void 0?(N++,typeof(w=w[y.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(w),w=n,N=0),x===y.length-1&&(w=n,b+=y.charAt(x-(N-1)),x-=N-1,N=0)):(w=n,b+=y.charAt(x-N),x-=N,N=0);return b};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(y,x,w){return o(y)?s(y)===!1?-1:!c(y)||!o(x)&&!o(w)||!o(w)&&a(x)||a(y)&&!o(x)||a(y)&&l(x)||a(y)&&a(x)?0:d(y)&&o(x)&&!a(x)&&o(w)&&c(w)?3:a(y)||!o(w)?1:2:-1},h=function(y){var x=0,w=0,b=0,N="",R="",z="",U=(y=y||"").split("\\s+"),I=[];for(x=0;x<U.length;x+=1){for(I.push(""),w=0;w<U[x].length;w+=1)N=U[x][w],R=U[x][w-1],z=U[x][w+1],o(N)?(b=g(N,R,z),I[x]+=b!==-1?String.fromCharCode(e[N.charCodeAt(0)][b]):N):I[x]+=N;I[x]=f(I[x])}return I.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(x)){var b=0;for(w=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?w.push([h(x[b][0]),x[b][1],x[b][2]]):w.push([h(x[b])]);y=w}else y=h(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",_])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(y){_=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,h=0,_=0,y=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,R){return N.concat(x.splitTextToSize(R,w))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(y=this.getStringUnitWidth(l[b],{font:f})*d)&&(h=y);return h!==0&&(_=l.length),{w:h/=g,h:Math.max((_*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,f,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,_,y,x,w=[],b=[],N=[],R={},z={},U=[],I=[],k=(g=g||{}).autoSize||!1,P=g.printHeaders!==!1,M=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,O=g.headerBackgroundColor||"#c8c8c8",W=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=W,this.setFontSize(M),f==null)b=w=Object.keys(d[0]),N=w.map(function(){return"left"});else if(Array.isArray(f)&&jn(f[0])==="object")for(w=f.map(function(se){return se.name}),b=f.map(function(se){return se.prompt||se.name||""}),N=f.map(function(se){return se.align||"left"}),h=0;h<f.length;h+=1)z[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=w=f,N=w.map(function(){return"left"}));if(k||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<w.length;h+=1){for(R[x=w[h]]=d.map(function(se){return se[x]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=R[x],this.setFont(void 0,"normal"),y=0;y<_.length;y+=1)U.push(this.getTextDimensions(_[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[x]=Math.max.apply(null,U)+L+L,U=[]}if(P){var le={};for(h=0;h<w.length;h+=1)le[w[h]]={},le[w[h]].text=b[h],le[w[h]].align=N[h];var fe=a.call(this,le,z);I=w.map(function(se){return new s(l,c,z[se],fe,le[se].text,void 0,le[se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var oe=f.reduce(function(se,ge){return se[ge.name]=ge.align,se},{});for(h=0;h<d.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:d[h]},this);var $=a.call(this,d[h],z);for(y=0;y<w.length;y+=1){var te=d[h][w[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:y,data:te},this),o.call(this,new s(l,c,z[w[y]],$,te,h+2,oe[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var _=l[h];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/g+d+d},this).reduce(function(h,_){return Math.max(h,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(at.API);var l8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},c8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S5=a8(c8),u8=[100,200,300,400,500,600,700,800,900],_ee=a8(u8);function __(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return l8[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof S5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function yT(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var xee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _T(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function xT(t){return t.trimLeft()}function bee(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function See(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Z0,bT,ST,Sh,ev,ET,NT,AT,x_=["times"];function CT(t,e,n,r){var i=4,s=kT;switch(r){case at.API.image_compression.FAST:i=1,s=TT;break;case at.API.image_compression.MEDIUM:i=6,s=PT;break;case at.API.image_compression.SLOW:i=9,s=IT}t=function(a,l,c,d){for(var f,g=a.length/l,h=new Uint8Array(a.length+g),_=[Eee,TT,kT,PT,IT],y=0;y<g;y+=1){var x=y*l,w=a.subarray(x,x+l);if(d)h.set(d(w,c,f),x+y);else{for(var b=_.length,N=[],R=0;R<b;R+=1)N[R]=_[R](w,c,f);var z=Aee(N.concat());h.set(N[z],x+y)}f=w}return h}(t,e,n,s);var o=u5(t,{level:i});return at.API.__addimage__.arrayBufferToBinaryString(o)}function Eee(t){var e=Array.apply([],t);return e.unshift(0),e}function TT(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function kT(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function PT(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function IT(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=Nee(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function Nee(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Aee(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function b_(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return d8(t,i)>>s&o}function RT(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,d,f){if(d+1<c.byteLength)c.setUint16(d,f,!1);else{var g=f>>8&255;c.setUint8(d,g)}})(t,s,d8(t,s)&~(a<<o)&65535|l)}function d8(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Cee(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,d=[],f=0,g=null,h=0,_=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];f=t[e++]|t[e++]<<8,g=t[e++],1&y||(g=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,R=t[e++],z=R>>6&1,U=1<<1+(7&R),I=a,k=l,P=!1;R>>7&&(P=!0,I=e,k=U,e+=3*U);var M=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}d.push({x,y:w,width:b,height:N,has_local_palette:P,palette_offset:I,palette_size:k,data_offset:M,data_length:e-M,transparent_index:g,interlaced:!!z,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return _},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,O){var W=this.frameInfo(L),le=W.width*W.height,fe=new Uint8Array(le);LT(t,W.data_offset,fe,le);var oe=W.palette_offset,$=W.transparent_index;$===null&&($=256);var te=W.width,se=n-te,ge=te,D=4*(W.y*n+W.x),H=4*((W.y+W.height)*n+W.x),Q=D,Z=4*se;W.interlaced===!0&&(Z+=4*n*7);for(var ae=8,K=0,ue=fe.length;K<ue;++K){var de=fe[K];if(ge===0&&(ge=te,(Q+=Z)>=H&&(Z=4*se+4*n*(ae-1),Q=D+(te+se)*(ae<<1),ae>>=1)),de===$)Q+=4;else{var _e=t[oe+3*de],Ne=t[oe+3*de+1],he=t[oe+3*de+2];O[Q++]=he,O[Q++]=Ne,O[Q++]=_e,O[Q++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(L,O){var W=this.frameInfo(L),le=W.width*W.height,fe=new Uint8Array(le);LT(t,W.data_offset,fe,le);var oe=W.palette_offset,$=W.transparent_index;$===null&&($=256);var te=W.width,se=n-te,ge=te,D=4*(W.y*n+W.x),H=4*((W.y+W.height)*n+W.x),Q=D,Z=4*se;W.interlaced===!0&&(Z+=4*n*7);for(var ae=8,K=0,ue=fe.length;K<ue;++K){var de=fe[K];if(ge===0&&(ge=te,(Q+=Z)>=H&&(Z=4*se+4*n*(ae-1),Q=D+(te+se)*(ae<<1),ae>>=1)),de===$)Q+=4;else{var _e=t[oe+3*de],Ne=t[oe+3*de+1],he=t[oe+3*de+2];O[Q++]=_e,O[Q++]=Ne,O[Q++]=he,O[Q++]=255}--ge}}}function LT(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,d=0,f=0,g=0,h=t[e++],_=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var x=f&c;if(f>>=l,d-=l,x!==s){if(x===o)break;for(var w=x<a?x:y,b=0,N=w;N>s;)N=_[N]>>8,++b;var R=N;if(g+b+(w!==x?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");n[g++]=R;var z=g+=b;for(w!==x&&(n[g++]=R),N=w;b--;)N=_[N],n[--z]=255&N,N>>=8;y!==null&&a<4096&&(_[a++]=y<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=x}else a=o+1,c=(1<<(l=i+1))-1,y=null}return g!==r&&$n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function S_(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),g=new Array(65535),h=new Array(64),_=new Array(64),y=[],x=0,w=7,b=new Array(64),N=new Array(64),R=new Array(64),z=new Array(256),U=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(D,H){for(var Q=0,Z=0,ae=new Array,K=1;K<=16;K++){for(var ue=1;ue<=D[K];ue++)ae[H[Z]]=[],ae[H[Z]][0]=Q,ae[H[Z]][1]=K,Z++,Q++;Q*=2}return ae}function oe(D){for(var H=D[0],Q=D[1]-1;Q>=0;)H&1<<Q&&(x|=1<<w),Q--,--w<0&&(x==255?($(255),$(0)):$(x),w=7,x=0)}function $(D){y.push(D)}function te(D){$(D>>8&255),$(255&D)}function se(D,H,Q,Z,ae){for(var K,ue=ae[0],de=ae[240],_e=function(De,ze){var Ve,Nt,Qe,Jt,Pt,He,_t,At,ot,pt,lt=0;for(ot=0;ot<8;++ot){Ve=De[lt],Nt=De[lt+1],Qe=De[lt+2],Jt=De[lt+3],Pt=De[lt+4],He=De[lt+5],_t=De[lt+6];var ln=Ve+(At=De[lt+7]),Qt=Ve-At,Ye=Nt+_t,bt=Nt-_t,nn=Qe+He,gt=Qe-He,Vt=Jt+Pt,Ct=Jt-Pt,Bn=ln+Vt,Un=ln-Vt,cn=Ye+nn,ut=Ye-nn;De[lt]=Bn+cn,De[lt+4]=Bn-cn;var Wt=.707106781*(ut+Un);De[lt+2]=Un+Wt,De[lt+6]=Un-Wt;var vt=.382683433*((Bn=Ct+gt)-(ut=bt+Qt)),St=.5411961*Bn+vt,Zt=1.306562965*ut+vt,On=.707106781*(cn=gt+bt),Ze=Qt+On,fn=Qt-On;De[lt+5]=fn+St,De[lt+3]=fn-St,De[lt+1]=Ze+Zt,De[lt+7]=Ze-Zt,lt+=8}for(lt=0,ot=0;ot<8;++ot){Ve=De[lt],Nt=De[lt+8],Qe=De[lt+16],Jt=De[lt+24],Pt=De[lt+32],He=De[lt+40],_t=De[lt+48];var jr=Ve+(At=De[lt+56]),Cn=Ve-At,Vn=Nt+_t,rr=Nt-_t,Dr=Qe+He,ir=Qe-He,dl=Jt+Pt,ca=Jt-Pt,vi=jr+dl,ks=jr-dl,Fi=Vn+Dr,yi=Vn-Dr;De[lt]=vi+Fi,De[lt+32]=vi-Fi;var br=.707106781*(yi+ks);De[lt+16]=ks+br,De[lt+48]=ks-br;var ua=.382683433*((vi=ca+ir)-(yi=rr+Cn)),Ps=.5411961*vi+ua,ko=1.306562965*yi+ua,da=.707106781*(Fi=ir+rr),hl=Cn+da,fl=Cn-da;De[lt+40]=fl+Ps,De[lt+24]=fl-Ps,De[lt+8]=hl+ko,De[lt+56]=hl-ko,lt++}for(ot=0;ot<64;++ot)pt=De[ot]*ze[ot],h[ot]=pt>0?pt+.5|0:pt-.5|0;return h}(D,H),Ne=0;Ne<64;++Ne)_[I[Ne]]=_e[Ne];var he=_[0]-Q;Q=_[0],he==0?oe(Z[0]):(oe(Z[g[K=32767+he]]),oe(f[K]));for(var Ee=63;Ee>0&&_[Ee]==0;)Ee--;if(Ee==0)return oe(ue),Q;for(var ye,ee=1;ee<=Ee;){for(var st=ee;_[ee]==0&&ee<=Ee;)++ee;var ct=ee-st;if(ct>=16){ye=ct>>4;for(var Je=1;Je<=ye;++Je)oe(de);ct&=15}K=32767+_[ee],oe(ae[(ct<<4)+g[K]]),oe(f[K]),ee++}return Ee!=63&&oe(ue),Q}function ge(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(H){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ae=o((Q[Z]*H+50)/100);ae=Math.min(Math.max(ae,1),255),a[I[Z]]=ae}for(var K=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var de=o((K[ue]*H+50)/100);de=Math.min(Math.max(de,1),255),l[I[ue]]=de}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,he=0;he<8;he++)for(var Ee=0;Ee<8;Ee++)c[Ne]=1/(a[I[Ne]]*_e[he]*_e[Ee]*8),d[Ne]=1/(l[I[Ne]]*_e[he]*_e[Ee]*8),Ne++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,H){H&&ge(H),y=new Array,x=0,w=7,te(65496),te(65504),te(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),te(1),te(1),$(0),$(0),function(){te(65499),te(132),$(0);for(var Nt=0;Nt<64;Nt++)$(a[Nt]);$(1);for(var Qe=0;Qe<64;Qe++)$(l[Qe])}(),function(Nt,Qe){te(65472),te(17),$(8),te(Qe),te(Nt),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(D.width,D.height),function(){te(65476),te(418),$(0);for(var Nt=0;Nt<16;Nt++)$(k[Nt+1]);for(var Qe=0;Qe<=11;Qe++)$(P[Qe]);$(16);for(var Jt=0;Jt<16;Jt++)$(M[Jt+1]);for(var Pt=0;Pt<=161;Pt++)$(T[Pt]);$(1);for(var He=0;He<16;He++)$(L[He+1]);for(var _t=0;_t<=11;_t++)$(O[_t]);$(17);for(var At=0;At<16;At++)$(W[At+1]);for(var ot=0;ot<=161;ot++)$(le[ot])}(),te(65498),te(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var Q=0,Z=0,ae=0;x=0,w=7,this.encode.displayName="_encode_";for(var K,ue,de,_e,Ne,he,Ee,ye,ee,st=D.data,ct=D.width,Je=D.height,De=4*ct,ze=0;ze<Je;){for(K=0;K<De;){for(Ne=De*ze+K,Ee=-1,ye=0,ee=0;ee<64;ee++)he=Ne+(ye=ee>>3)*De+(Ee=4*(7&ee)),ze+ye>=Je&&(he-=De*(ze+1+ye-Je)),K+Ee>=De&&(he-=K+Ee-De+4),ue=st[he++],de=st[he++],_e=st[he++],b[ee]=(U[ue]+U[de+256|0]+U[_e+512|0]>>16)-128,N[ee]=(U[ue+768|0]+U[de+1024|0]+U[_e+1280|0]>>16)-128,R[ee]=(U[ue+1280|0]+U[de+1536|0]+U[_e+1792|0]>>16)-128;Q=se(b,c,Q,e,r),Z=se(N,d,Z,n,i),ae=se(R,d,ae,n,i),K+=32}ze+=8}if(w>=0){var Ve=[];Ve[1]=w+1,Ve[0]=(1<<w+1)-1,oe(Ve)}return te(65497),new Uint8Array(y)},t=t||50,function(){for(var D=String.fromCharCode,H=0;H<256;H++)z[H]=D(H)}(),e=fe(k,P),n=fe(L,O),r=fe(M,T),i=fe(W,le),function(){for(var D=1,H=2,Q=1;Q<=15;Q++){for(var Z=D;Z<H;Z++)g[32767+Z]=Q,f[32767+Z]=[],f[32767+Z][1]=Q,f[32767+Z][0]=Z;for(var ae=-(H-1);ae<=-D;ae++)g[32767+ae]=Q,f[32767+ae]=[],f[32767+ae][1]=Q,f[32767+ae][0]=H-1+ae;D<<=1,H<<=1}}(),function(){for(var D=0;D<256;D++)U[D]=19595*D,U[D+256|0]=38470*D,U[D+512|0]=7471*D+32768,U[D+768|0]=-11059*D,U[D+1024|0]=-21709*D,U[D+1280|0]=32768*D+8421375,U[D+1536|0]=-27439*D,U[D+1792|0]=-5329*D}(),ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Bo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jT(t){function e(P){if(!P)throw Error("assert :P")}function n(P,M,T){for(var L=0;4>L;L++)if(P[M+L]!=T.charCodeAt(L))return!0;return!1}function r(P,M,T,L,O){for(var W=0;W<O;W++)P[M+W]=T[L+W]}function i(P,M,T,L){for(var O=0;O<L;O++)P[M+O]=T}function s(P){return new Int32Array(P)}function o(P,M){for(var T=[],L=0;L<P;L++)T.push(new M);return T}function a(P,M){var T=[];return function L(O,W,le){for(var fe=le[W],oe=0;oe<fe&&(O.push(le.length>W+1?[]:new M),!(le.length<W+1));oe++)L(O[oe],W+1,le)}(T,0,P),T}var l=function(){var P=this;function M(p,v){for(var A=1<<v-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function T(p,v,A,j,V){e(!(j%A));do p[v+(j-=A)]=V;while(0<j)}function L(p,v,A,j,V){if(e(2328>=V),512>=V)var q=s(512);else if((q=s(V))==null)return 0;return function(G,Y,J,re,pe,Se){var ie,me,xe=Y,Ce=1<<J,be=s(16),Te=s(16);for(e(pe!=0),e(re!=null),e(G!=null),e(0<J),me=0;me<pe;++me){if(15<re[me])return 0;++be[re[me]]}if(be[0]==pe)return 0;for(Te[1]=0,ie=1;15>ie;++ie){if(be[ie]>1<<ie)return 0;Te[ie+1]=Te[ie]+be[ie]}for(me=0;me<pe;++me)ie=re[me],0<re[me]&&(Se[Te[ie]++]=me);if(Te[15]==1)return(re=new O).g=0,re.value=Se[0],T(G,xe,1,Ce,re),Ce;var Pe,Be=-1,Oe=Ce-1,dt=0,et=1,zt=1,rt=1<<J;for(me=0,ie=1,pe=2;ie<=J;++ie,pe<<=1){if(et+=zt<<=1,0>(zt-=be[ie]))return 0;for(;0<be[ie];--be[ie])(re=new O).g=ie,re.value=Se[me++],T(G,xe+dt,pe,rt,re),dt=M(dt,ie)}for(ie=J+1,pe=2;15>=ie;++ie,pe<<=1){if(et+=zt<<=1,0>(zt-=be[ie]))return 0;for(;0<be[ie];--be[ie]){if(re=new O,(dt&Oe)!=Be){for(xe+=rt,Pe=1<<(Be=ie)-J;15>Be&&!(0>=(Pe-=be[Be]));)++Be,Pe<<=1;Ce+=rt=1<<(Pe=Be-J),G[Y+(Be=dt&Oe)].g=Pe+J,G[Y+Be].value=xe-Y-Be}re.g=ie-J,re.value=Se[me++],T(G,xe+(dt>>J),pe,rt,re),dt=M(dt,ie)}}return et!=2*Te[15]-1?0:Ce}(p,v,A,j,V,q)}function O(){this.value=this.g=0}function W(){this.value=this.g=0}function le(){this.G=o(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ba,W)}function fe(p,v,A,j){e(p!=null),e(v!=null),e(2147483648>j),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=A,p.Jd=v,p.Yc=A+j,p.Zc=4<=j?A+j-4+1:A,ue(p)}function oe(p,v){for(var A=0;0<v--;)A|=_e(p,128)<<v;return A}function $(p,v){var A=oe(p,v);return de(p)?-A:A}function te(p,v,A,j){var V,q=0;for(e(p!=null),e(v!=null),e(4294967288>j),p.Sb=j,p.Ra=0,p.u=0,p.h=0,4<j&&(j=4),V=0;V<j;++V)q+=v[A+V]<<8*V;p.Ra=q,p.bb=j,p.oa=v,p.pa=A}function se(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<mc-8>>>0,++p.bb,p.u-=8;Z(p)&&(p.h=1,p.u=0)}function ge(p,v){if(e(0<=v),!p.h&&v<=xp){var A=Q(p)&pc[v];return p.u+=v,se(p),A}return p.h=1,p.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(p){return p.Ra>>>(p.u&mc-1)>>>0}function Z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>mc}function ae(p,v){p.u=v,p.h=Z(p)}function K(p){p.u>=Er&&(e(p.u>=Er),se(p))}function ue(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function de(p){return oe(p,1)}function _e(p,v){var A=p.Ca;0>p.b&&ue(p);var j=p.b,V=A*v>>>8,q=(p.I>>>j>V)+0;for(q?(A-=V,p.I-=V+1<<j>>>0):A=V+1,j=A,V=0;256<=j;)V+=8,j>>=8;return j=7^V+M2[j],p.b-=j,p.Ca=(A<<j)-1,q}function Ne(p,v,A){p[v+0]=A>>24&255,p[v+1]=A>>16&255,p[v+2]=A>>8&255,p[v+3]=255&A}function he(p,v){return p[v+0]|p[v+1]<<8}function Ee(p,v){return he(p,v)|p[v+2]<<16}function ye(p,v){return he(p,v)|he(p,v+2)<<16}function ee(p,v){var A=1<<v;return e(p!=null),e(0<v),p.X=s(A),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function st(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Je(p,v,A,j){e(A!=null),e(j!=null);var V=A[0],q=j[0];return V==0&&(V=(p*q+v/2)/v),q==0&&(q=(v*V+p/2)/p),0>=V||0>=q?0:(A[0]=V,j[0]=q,1)}function De(p,v){return p+(1<<v)-1>>>v}function ze(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Ve(p,v){P[v]=function(A,j,V,q,G,Y,J){var re;for(re=0;re<G;++re){var pe=P[p](Y[J+re-1],V,q+re);Y[J+re]=ze(A[j+re],pe)}}}function Nt(){this.ud=this.hd=this.jd=0}function Qe(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Jt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Pt(p,v){return Jt(p+(p-v+.5>>1))}function He(p,v,A){return Math.abs(v-A)-Math.abs(p-A)}function _t(p,v,A,j,V,q,G){for(j=q[G-1],A=0;A<V;++A)q[G+A]=j=ze(p[v+A],j)}function At(p,v,A,j,V){var q;for(q=0;q<A;++q){var G=p[v+q],Y=G>>8&255,J=16711935&(J=(J=16711935&G)+((Y<<16)+Y));j[V+q]=(4278255360&G)+J>>>0}}function ot(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function pt(p,v,A,j,V,q){var G;for(G=0;G<j;++G){var Y=v[A+G],J=Y>>>8,re=Y,pe=255&(pe=(pe=Y>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));re=255&(re=(re+=(p.hd<<24>>24)*(J<<24>>24)>>>5)+((p.ud<<24>>24)*(pe<<24>>24)>>>5)),V[q+G]=(4278255360&Y)+(pe<<16)+re}}function lt(p,v,A,j,V){P[v]=function(q,G,Y,J,re,pe,Se,ie,me){for(J=Se;J<ie;++J)for(Se=0;Se<me;++Se)re[pe++]=V(Y[j(q[G++])])},P[p]=function(q,G,Y,J,re,pe,Se){var ie=8>>q.b,me=q.Ea,xe=q.K[0],Ce=q.w;if(8>ie)for(q=(1<<q.b)-1,Ce=(1<<ie)-1;G<Y;++G){var be,Te=0;for(be=0;be<me;++be)be&q||(Te=j(J[re++])),pe[Se++]=V(xe[Te&Ce]),Te>>=ie}else P["VP8LMapColor"+A](J,re,xe,Ce,pe,Se,G,Y,me)}}function ln(p,v,A,j,V){for(A=v+A;v<A;){var q=p[v++];j[V++]=q>>16&255,j[V++]=q>>8&255,j[V++]=255&q}}function Qt(p,v,A,j,V){for(A=v+A;v<A;){var q=p[v++];j[V++]=q>>16&255,j[V++]=q>>8&255,j[V++]=255&q,j[V++]=q>>24&255}}function Ye(p,v,A,j,V){for(A=v+A;v<A;){var q=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;j[V++]=q,j[V++]=G}}function bt(p,v,A,j,V){for(A=v+A;v<A;){var q=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;j[V++]=q,j[V++]=G}}function nn(p,v,A,j,V){for(A=v+A;v<A;){var q=p[v++];j[V++]=255&q,j[V++]=q>>8&255,j[V++]=q>>16&255}}function gt(p,v,A,j,V,q){if(q==0)for(A=v+A;v<A;)Ne(j,((q=p[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else r(j,V,p,v,A)}function Vt(p,v){P[v][0]=P[p+"0"],P[v][1]=P[p+"1"],P[v][2]=P[p+"2"],P[v][3]=P[p+"3"],P[v][4]=P[p+"4"],P[v][5]=P[p+"5"],P[v][6]=P[p+"6"],P[v][7]=P[p+"7"],P[v][8]=P[p+"8"],P[v][9]=P[p+"9"],P[v][10]=P[p+"10"],P[v][11]=P[p+"11"],P[v][12]=P[p+"12"],P[v][13]=P[p+"13"],P[v][14]=P[p+"0"],P[v][15]=P[p+"0"]}function Ct(p){return p==U2||p==V2||p==a0||p==z2}function Bn(){this.eb=[],this.size=this.A=this.fb=0}function Un(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bn,this.f.kb=new Un,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function St(p,v){var A=p.T,j=v.ba.f.RGBA,V=j.eb,q=j.fb+p.ka*j.A,G=fo[v.ba.S],Y=p.y,J=p.O,re=p.f,pe=p.N,Se=p.ea,ie=p.W,me=v.cc,xe=v.dc,Ce=v.Mc,be=v.Nc,Te=p.ka,Pe=p.ka+p.T,Be=p.U,Oe=Be+1>>1;for(Te==0?G(Y,J,null,null,re,pe,Se,ie,re,pe,Se,ie,V,q,null,null,Be):(G(v.ec,v.fc,Y,J,me,xe,Ce,be,re,pe,Se,ie,V,q-j.A,V,q,Be),++A);Te+2<Pe;Te+=2)me=re,xe=pe,Ce=Se,be=ie,pe+=p.Rc,ie+=p.Rc,q+=2*j.A,G(Y,(J+=2*p.fa)-p.fa,Y,J,me,xe,Ce,be,re,pe,Se,ie,V,q-j.A,V,q,Be);return J+=p.fa,p.j+Pe<p.o?(r(v.ec,v.fc,Y,J,Be),r(v.cc,v.dc,re,pe,Oe),r(v.Mc,v.Nc,Se,ie,Oe),A--):1&Pe||G(Y,J,null,null,re,pe,Se,ie,re,pe,Se,ie,V,q+j.A,null,null,Be),A}function Zt(p,v,A){var j=p.F,V=[p.J];if(j!=null){var q=p.U,G=v.ba.S,Y=G==o0||G==a0;v=v.ba.f.RGBA;var J=[0],re=p.ka;J[0]=p.T,p.Kb&&(re==0?--J[0]:(--re,V[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-re));var pe=v.eb;re=v.fb+re*v.A,p=EN(j,V[0],p.width,q,J,pe,re+(Y?0:3),v.A),e(A==J),p&&Ct(G)&&Np(pe,re,Y,q,J,v.A)}return 0}function On(p){var v=p.ma,A=v.ba.S,j=11>A,V=A==i0||A==s0||A==o0||A==B2||A==12||Ct(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ls(v.Oa,p,V?11:12))return 0;if(V&&Ct(A)&&fc(),p.da)alert("todo:use_scaling");else{if(j){if(v.Ib=vt,p.Kb){if(A=p.U+1>>1,v.memory=s(p.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=St,fc()}}else alert("todo:EmitYUV");V&&(v.Jb=Zt,j&&Sr())}if(j&&!VN){for(p=0;256>p;++p)IF[p]=89858*(p-128)+c0>>l0,jF[p]=-22014*(p-128)+c0,LF[p]=-45773*(p-128),RF[p]=113618*(p-128)+c0>>l0;for(p=Cp;p<H2;++p)v=76283*(p-16)+c0>>l0,DF[p-Cp]=sn(v,255),OF[p-Cp]=sn(v+8>>4,15);VN=1}return 1}function Ze(p){var v=p.ma,A=p.U,j=p.T;return e(!(1&p.ka)),0>=A||0>=j?0:(A=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,A),v.Dc+=A,1)}function fn(p){p.ma.memory=null}function jr(p,v,A,j){return ge(p,8)!=47?0:(v[0]=ge(p,14)+1,A[0]=ge(p,14)+1,j[0]=ge(p,1),ge(p,3)!=0?0:!p.h)}function Cn(p,v){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+ge(v,A)+1}function Vn(p,v){return 120<v?v-120:1<=(A=((A=vF[v-1])>>4)*p+(8-(15&A)))?A:1;var A}function rr(p,v,A){var j=Q(A),V=p[v+=255&j].g-8;return 0<V&&(ae(A,A.u+8),j=Q(A),v+=p[v].value,v+=j&(1<<V)-1),ae(A,A.u+p[v].g),p[v].value}function Dr(p,v,A){return A.g+=p.g,A.value+=p.value<<v>>>0,e(8>=A.g),p.g}function ir(p,v,A){var j=p.xc;return e((v=j==0?0:p.vc[p.md*(A>>j)+(v>>j)])<p.Wb),p.Ya[v]}function dl(p,v,A,j){var V=p.ab,q=p.c*v,G=p.C;v=G+v;var Y=A,J=j;for(j=p.Ta,A=p.Ua;0<V--;){var re=p.gc[V],pe=G,Se=v,ie=Y,me=J,xe=(J=j,Y=A,re.Ea);switch(e(pe<Se),e(Se<=re.nc),re.hc){case 2:uh(ie,me,(Se-pe)*xe,J,Y);break;case 0:var Ce=pe,be=Se,Te=J,Pe=Y,Be=(rt=re).Ea;Ce==0&&(Sa(ie,me,null,null,1,Te,Pe),_t(ie,me+1,0,0,Be-1,Te,Pe+1),me+=Be,Pe+=Be,++Ce);for(var Oe=1<<rt.b,dt=Oe-1,et=De(Be,rt.b),zt=rt.K,rt=rt.w+(Ce>>rt.b)*et;Ce<be;){var dn=zt,Ur=rt,$t=1;for(Ea(ie,me,Te,Pe-Be,1,Te,Pe);$t<Be;){var it=($t&~dt)+Oe;it>Be&&(it=Be),(0,Xu[dn[Ur++]>>8&15])(ie,me+ +$t,Te,Pe+$t-Be,it-$t,Te,Pe+$t),$t=it}me+=Be,Pe+=Be,++Ce&dt||(rt+=et)}Se!=re.nc&&r(J,Y-xe,J,Y+(Se-pe-1)*xe,xe);break;case 1:for(xe=ie,be=me,Be=(ie=re.Ea)-(Pe=ie&~(Te=(me=1<<re.b)-1)),Ce=De(ie,re.b),Oe=re.K,re=re.w+(pe>>re.b)*Ce;pe<Se;){for(dt=Oe,et=re,zt=new Nt,rt=be+Pe,dn=be+ie;be<rt;)ot(dt[et++],zt),xl(zt,xe,be,me,J,Y),be+=me,Y+=me;be<dn&&(ot(dt[et++],zt),xl(zt,xe,be,Be,J,Y),be+=Be,Y+=Be),++pe&Te||(re+=Ce)}break;case 3:if(ie==J&&me==Y&&0<re.b){for(be=J,ie=xe=Y+(Se-pe)*xe-(Pe=(Se-pe)*De(re.Ea,re.b)),me=J,Te=Y,Ce=[],Pe=(Be=Pe)-1;0<=Pe;--Pe)Ce[Pe]=me[Te+Pe];for(Pe=Be-1;0<=Pe;--Pe)be[ie+Pe]=Ce[Pe];bp(re,pe,Se,J,xe,J,Y)}else bp(re,pe,Se,ie,me,J,Y)}Y=j,J=A}J!=A&&r(j,A,Y,J,q)}function ca(p,v){var A=p.V,j=p.Ba+p.c*p.C,V=v-p.C;if(e(v<=p.l.o),e(16>=V),0<V){var q=p.l,G=p.Ta,Y=p.Ua,J=q.width;if(dl(p,V,A,j),V=Y=[Y],e((A=p.C)<(j=v)),e(q.v<q.va),j>q.o&&(j=q.o),A<q.j){var re=q.j-A;A=q.j,V[0]+=re*J}if(A>=j?A=0:(V[0]+=4*q.v,q.ka=A-q.j,q.U=q.va-q.v,q.T=j-A,A=1),A){if(Y=Y[0],11>(A=p.ca).S){var pe=A.f.RGBA,Se=(j=A.S,V=q.U,q=q.T,re=pe.eb,pe.A),ie=q;for(pe=pe.fb+p.Ma*pe.A;0<ie--;){var me=G,xe=Y,Ce=V,be=re,Te=pe;switch(j){case r0:Sp(me,xe,Ce,be,Te);break;case i0:Ds(me,xe,Ce,be,Te);break;case U2:Ds(me,xe,Ce,be,Te),Np(be,Te,0,Ce,1,0);break;case IN:Wn(me,xe,Ce,be,Te);break;case s0:gt(me,xe,Ce,be,Te,1);break;case V2:gt(me,xe,Ce,be,Te,1),Np(be,Te,0,Ce,1,0);break;case o0:gt(me,xe,Ce,be,Te,0);break;case a0:gt(me,xe,Ce,be,Te,0),Np(be,Te,1,Ce,1,0);break;case B2:Na(me,xe,Ce,be,Te);break;case z2:Na(me,xe,Ce,be,Te),SN(be,Te,Ce,1,0);break;case RN:Hn(me,xe,Ce,be,Te);break;default:e(0)}Y+=J,pe+=Se}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=v,e(p.C<=p.i)}function vi(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var A=p.Ya[v].G,j=p.Ya[v].H;if(0<A[1][j[1]+0].g||0<A[2][j[2]+0].g||0<A[3][j[3]+0].g)return 0}return 1}function ks(p,v,A,j,V,q){if(p.Z!=0){var G=p.qd,Y=p.rd;for(e(vc[p.Z]!=null);v<A;++v)vc[p.Z](G,Y,j,V,j,V,q),G=j,Y=V,V+=q;p.qd=G,p.rd=Y}}function Fi(p,v){var A=p.l.ma,j=A.Z==0||A.Z==1?p.l.j:p.C;if(j=p.C<j?j:p.C,e(v<=p.l.o),v>j){var V=p.l.width,q=A.ca,G=A.tb+V*j,Y=p.V,J=p.Ba+p.c*j,re=p.gc;e(p.ab==1),e(re[0].hc==3),hh(re[0],j,v,Y,J,q,G),ks(A,j,v,q,G,V)}p.C=p.Ma=v}function yi(p,v,A,j,V,q,G){var Y=p.$/j,J=p.$%j,re=p.m,pe=p.s,Se=A+p.$,ie=Se;V=A+j*V;var me=A+j*q,xe=280+pe.ua,Ce=p.Pb?Y:16777216,be=0<pe.ua?pe.Wa:null,Te=pe.wc,Pe=Se<me?ir(pe,J,Y):null;e(p.C<q),e(me<=V);var Be=!1;e:for(;;){for(;Be||Se<me;){var Oe=0;if(Y>=Ce){var dt=Se-A;e((Ce=p).Pb),Ce.wd=Ce.m,Ce.xd=dt,0<Ce.s.ua&&st(Ce.s.Wa,Ce.s.vb),Ce=Y+wF}if(J&Te||(Pe=ir(pe,J,Y)),e(Pe!=null),Pe.Qb&&(v[Se]=Pe.qb,Be=!0),!Be)if(K(re),Pe.jc){Oe=re,dt=v;var et=Se,zt=Pe.pd[Q(Oe)&ba-1];e(Pe.jc),256>zt.g?(ae(Oe,Oe.u+zt.g),dt[et]=zt.value,Oe=0):(ae(Oe,Oe.u+zt.g-256),e(256<=zt.value),Oe=zt.value),Oe==0&&(Be=!0)}else Oe=rr(Pe.G[0],Pe.H[0],re);if(re.h)break;if(Be||256>Oe){if(!Be)if(Pe.nd)v[Se]=(Pe.qb|Oe<<8)>>>0;else{if(K(re),Be=rr(Pe.G[1],Pe.H[1],re),K(re),dt=rr(Pe.G[2],Pe.H[2],re),et=rr(Pe.G[3],Pe.H[3],re),re.h)break;v[Se]=(et<<24|Be<<16|Oe<<8|dt)>>>0}if(Be=!1,++Se,++J>=j&&(J=0,++Y,G!=null&&Y<=q&&!(Y%16)&&G(p,Y),be!=null))for(;ie<Se;)Oe=v[ie++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else if(280>Oe){if(Oe=Cn(Oe-256,re),dt=rr(Pe.G[4],Pe.H[4],re),K(re),dt=Vn(j,dt=Cn(dt,re)),re.h)break;if(Se-A<dt||V-Se<Oe)break e;for(et=0;et<Oe;++et)v[Se+et]=v[Se+et-dt];for(Se+=Oe,J+=Oe;J>=j;)J-=j,++Y,G!=null&&Y<=q&&!(Y%16)&&G(p,Y);if(e(Se<=V),J&Te&&(Pe=ir(pe,J,Y)),be!=null)for(;ie<Se;)Oe=v[ie++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe}else{if(!(Oe<xe))break e;for(Be=Oe-280,e(be!=null);ie<Se;)Oe=v[ie++],be.X[(506832829*Oe&4294967295)>>>be.Mb]=Oe;Oe=Se,e(!(Be>>>(dt=be).Xa)),v[Oe]=dt.X[Be],Be=!0}Be||e(re.h==Z(re))}if(p.Pb&&re.h&&Se<V)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&st(p.s.vb,p.s.Wa);else{if(re.h)break e;G!=null&&G(p,Y>q?q:Y),p.a=0,p.$=Se-A}return 1}return p.a=3,0}function br(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function ua(){var p=new qn;return p==null?null:(p.a=0,p.xb=DN,Vt("Predictor","VP8LPredictors"),Vt("Predictor","VP8LPredictors_C"),Vt("PredictorAdd","VP8LPredictorsAdd"),Vt("PredictorAdd","VP8LPredictorsAdd_C"),uh=At,xl=pt,Sp=ln,Ds=Qt,Na=Ye,Hn=bt,Wn=nn,P.VP8LMapColor32b=dh,P.VP8LMapColor8b=Qu,p)}function Ps(p,v,A,j,V){var q=1,G=[p],Y=[v],J=j.m,re=j.s,pe=null,Se=0;e:for(;;){if(A)for(;q&&ge(J,1);){var ie=G,me=Y,xe=j,Ce=1,be=xe.m,Te=xe.gc[xe.ab],Pe=ge(be,2);if(xe.Oc&1<<Pe)q=0;else{switch(xe.Oc|=1<<Pe,Te.hc=Pe,Te.Ea=ie[0],Te.nc=me[0],Te.K=[null],++xe.ab,e(4>=xe.ab),Pe){case 0:case 1:Te.b=ge(be,3)+2,Ce=Ps(De(Te.Ea,Te.b),De(Te.nc,Te.b),0,xe,Te.K),Te.K=Te.K[0];break;case 3:var Be,Oe=ge(be,8)+1,dt=16<Oe?0:4<Oe?1:2<Oe?2:3;if(ie[0]=De(Te.Ea,dt),Te.b=dt,Be=Ce=Ps(Oe,1,0,xe,Te.K)){var et,zt=Oe,rt=Te,dn=1<<(8>>rt.b),Ur=s(dn);if(Ur==null)Be=0;else{var $t=rt.K[0],it=rt.w;for(Ur[0]=rt.K[0][0],et=1;et<1*zt;++et)Ur[et]=ze($t[it+et],Ur[et-1]);for(;et<4*dn;++et)Ur[et]=0;rt.K[0]=null,rt.K[0]=Ur,Be=1}}Ce=Be;break;case 2:break;default:e(0)}q=Ce}}if(G=G[0],Y=Y[0],q&&ge(J,1)&&!(q=1<=(Se=ge(J,4))&&11>=Se)){j.a=3;break e}var qe;if(qe=q)t:{var Cr,Bt,pn,Xn=j,ai=G,zi=Y,mr=Se,_i=A,$i=Xn.m,Vr=Xn.s,vn=[null],In=1,gr=0,Rn=yF[mr];n:for(;;){if(_i&&ge($i,1)){var li=ge($i,3)+2,Do=De(ai,li),Tr=De(zi,li),us=Do*Tr;if(!Ps(Do,Tr,0,Xn,vn))break n;for(vn=vn[0],Vr.xc=li,Cr=0;Cr<us;++Cr){var zn=vn[Cr]>>8&65535;vn[Cr]=zn,zn>=In&&(In=zn+1)}}if($i.h)break n;for(Bt=0;5>Bt;++Bt){var zr=LN[Bt];!Bt&&0<mr&&(zr+=1<<mr),gr<zr&&(gr=zr)}var Ms=o(In*Rn,O),qi=In,Fs=o(qi,le);if(Fs==null)var Bs=null;else e(65536>=qi),Bs=Fs;var ds=s(gr);if(Bs==null||ds==null||Ms==null){Xn.a=1;break n}var Us=Ms;for(Cr=pn=0;Cr<In;++Cr){var Gn=Bs[Cr],Vs=Gn.G,Oo=Gn.H,Ju=0,El=1,ci=0;for(Bt=0;5>Bt;++Bt){zr=LN[Bt],Vs[Bt]=Us,Oo[Bt]=pn,!Bt&&0<mr&&(zr+=1<<mr);i:{var d0,W2=zr,h0=Xn,Tp=ds,BF=Us,UF=pn,G2=0,yc=h0.m,VF=ge(yc,1);if(i(Tp,0,0,W2),VF){var zF=ge(yc,1)+1,$F=ge(yc,1),qN=ge(yc,$F==0?1:8);Tp[qN]=1,zF==2&&(Tp[qN=ge(yc,8)]=1);var f0=1}else{var HN=s(19),WN=ge(yc,4)+4;if(19<WN){h0.a=3;var p0=0;break i}for(d0=0;d0<WN;++d0)HN[gF[d0]]=ge(yc,3);var K2=void 0,kp=void 0,GN=h0,qF=HN,m0=W2,KN=Tp,Y2=0,wc=GN.m,YN=8,QN=o(128,O);r:for(;L(QN,0,7,qF,19);){if(ge(wc,1)){var HF=2+2*ge(wc,3);if((K2=2+ge(wc,HF))>m0)break r}else K2=m0;for(kp=0;kp<m0&&K2--;){K(wc);var XN=QN[0+(127&Q(wc))];ae(wc,wc.u+XN.g);var ph=XN.value;if(16>ph)KN[kp++]=ph,ph!=0&&(YN=ph);else{var WF=ph==16,JN=ph-16,GF=pF[JN],ZN=ge(wc,fF[JN])+GF;if(kp+ZN>m0)break r;for(var KF=WF?YN:0;0<ZN--;)KN[kp++]=KF}}Y2=1;break r}Y2||(GN.a=3),f0=Y2}(f0=f0&&!yc.h)&&(G2=L(BF,UF,8,Tp,W2)),f0&&G2!=0?p0=G2:(h0.a=3,p0=0)}if(p0==0)break n;if(El&&mF[Bt]==1&&(El=Us[pn].g==0),Ju+=Us[pn].g,pn+=p0,3>=Bt){var Pp,Q2=ds[0];for(Pp=1;Pp<zr;++Pp)ds[Pp]>Q2&&(Q2=ds[Pp]);ci+=Q2}}if(Gn.nd=El,Gn.Qb=0,El&&(Gn.qb=(Vs[3][Oo[3]+0].value<<24|Vs[1][Oo[1]+0].value<<16|Vs[2][Oo[2]+0].value)>>>0,Ju==0&&256>Vs[0][Oo[0]+0].value&&(Gn.Qb=1,Gn.qb+=Vs[0][Oo[0]+0].value<<8)),Gn.jc=!Gn.Qb&&6>ci,Gn.jc){var g0,Nl=Gn;for(g0=0;g0<ba;++g0){var _c=g0,xc=Nl.pd[_c],v0=Nl.G[0][Nl.H[0]+_c];256<=v0.value?(xc.g=v0.g+256,xc.value=v0.value):(xc.g=0,xc.value=0,_c>>=Dr(v0,8,xc),_c>>=Dr(Nl.G[1][Nl.H[1]+_c],16,xc),_c>>=Dr(Nl.G[2][Nl.H[2]+_c],0,xc),Dr(Nl.G[3][Nl.H[3]+_c],24,xc))}}}Vr.vc=vn,Vr.Wb=In,Vr.Ya=Bs,Vr.yc=Ms,qe=1;break t}qe=0}if(!(q=qe)){j.a=3;break e}if(0<Se){if(re.ua=1<<Se,!ee(re.Wa,Se)){j.a=1,q=0;break e}}else re.ua=0;var X2=j,eA=G,YF=Y,J2=X2.s,Z2=J2.xc;if(X2.c=eA,X2.i=YF,J2.md=De(eA,Z2),J2.wc=Z2==0?-1:(1<<Z2)-1,A){j.xb=AF;break e}if((pe=s(G*Y))==null){j.a=1,q=0;break e}q=(q=yi(j,pe,0,G,Y,Y,null))&&!J.h;break e}return q?(V!=null?V[0]=pe:(e(pe==null),e(A)),j.$=0,A||br(re)):br(re),q}function ko(p,v){var A=p.c*p.i,j=A+v+16*v;return e(p.c<=v),p.V=s(j),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+v,1)}function da(p,v){var A=p.C,j=v-A,V=p.V,q=p.Ba+p.c*A;for(e(v<=p.l.o);0<j;){var G=16<j?16:j,Y=p.l.ma,J=p.l.width,re=J*G,pe=Y.ca,Se=Y.tb+J*A,ie=p.Ta,me=p.Ua;dl(p,G,V,q),NN(ie,me,pe,Se,re),ks(Y,A,A+G,pe,Se,J),j-=G,V+=G*p.c,A+=G}e(A==v),p.C=p.Ma=v}function hl(){this.ub=this.yd=this.td=this.Rb=0}function fl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pp(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ha(){this.Yb=function(){var p=[];return function v(A,j,V){for(var q=V[j],G=0;G<q&&(A.push(V.length>j+1?[]:0),!(V.length<j+1));G++)v(A[G],j+1,V)}(p,0,[3,11]),p}()}function Fu(){this.jb=s(3),this.Wc=a([4,8],ha),this.Xc=a([4,17],ha)}function ic(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Yr(){this.ld=this.La=this.dd=this.tc=0}function Is(){this.Na=this.la=0}function sc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yr),this.Y=0,this.ya=Array(new Bu),this.aa=0,this.l=new fa}function Vu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function zu(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new hl,this.Kc=new fl,this.ed=new ic,this.Qa=new pp,this.Ic=this.$c=this.Aa=0,this.D=new Uu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,sc),this.Pa=new Fu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vu),this.Hd=0,this.rb=Array(new Is),this.sb=0,this.wa=Array(new Yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bu),this.L=this.aa=0,this.gd=a([4,2],Yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $u(){var p=new zu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Ap||(Ap=Po)),p}function lr(p,v,A){return p.a==0&&(p.a=v,p.sc=A,p.cb=0),0}function qu(p,v,A){return 3<=A&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function oh(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return lr(p,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,j=v.w,V=v.ha;if(4>V)return lr(p,7,"Truncated header.");var q=A[j+0]|A[j+1]<<8|A[j+2]<<16,G=p.Od;if(G.Rb=!(1&q),G.td=q>>1&7,G.yd=q>>4&1,G.ub=q>>5,3<G.td)return lr(p,3,"Incorrect keyframe parameters.");if(!G.yd)return lr(p,4,"Frame not displayable.");j+=3,V-=3;var Y=p.Kc;if(G.Rb){if(7>V)return lr(p,7,"cannot parse picture header");if(!qu(A,j,V))return lr(p,3,"Bad code word");Y.c=16383&(A[j+4]<<8|A[j+3]),Y.Td=A[j+4]>>6,Y.i=16383&(A[j+6]<<8|A[j+5]),Y.Ud=A[j+6]>>6,j+=7,V-=7,p.za=Y.c+15>>4,p.Ub=Y.i+15>>4,v.width=Y.c,v.height=Y.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,i((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(G.ub>V)return lr(p,7,"bad partition length");fe(q=p.m,A,j,G.ub),j+=G.ub,V-=G.ub,G.Rb&&(Y.Ld=de(q),Y.Kd=de(q)),Y=p.Qa;var J,re=p.Pa;if(e(q!=null),e(Y!=null),Y.Cb=de(q),Y.Cb){if(Y.Bb=de(q),de(q)){for(Y.Fb=de(q),J=0;4>J;++J)Y.Zb[J]=de(q)?$(q,7):0;for(J=0;4>J;++J)Y.Lb[J]=de(q)?$(q,6):0}if(Y.Bb)for(J=0;3>J;++J)re.jb[J]=de(q)?oe(q,8):255}else Y.Bb=0;if(q.Ka)return lr(p,3,"cannot parse segment header");if((Y=p.ed).zd=de(q),Y.Tb=oe(q,6),Y.wb=oe(q,3),Y.Pc=de(q),Y.Pc&&de(q)){for(re=0;4>re;++re)de(q)&&(Y.vd[re]=$(q,6));for(re=0;4>re;++re)de(q)&&(Y.od[re]=$(q,6))}if(p.L=Y.Tb==0?0:Y.zd?1:2,q.Ka)return lr(p,3,"cannot parse filter header");var pe=V;if(V=J=j,j=J+pe,Y=pe,p.Xb=(1<<oe(p.m,2))-1,pe<3*(re=p.Xb))A=7;else{for(J+=3*re,Y-=3*re,pe=0;pe<re;++pe){var Se=A[V+0]|A[V+1]<<8|A[V+2]<<16;Se>Y&&(Se=Y),fe(p.Jc[+pe],A,J,Se),J+=Se,Y-=Se,V+=3}fe(p.Jc[+re],A,J,Y),A=J<j?0:5}if(A!=0)return lr(p,A,"cannot parse partitions");for(A=oe(J=p.m,7),V=de(J)?$(J,4):0,j=de(J)?$(J,4):0,Y=de(J)?$(J,4):0,re=de(J)?$(J,4):0,J=de(J)?$(J,4):0,pe=p.Qa,Se=0;4>Se;++Se){if(pe.Cb){var ie=pe.Zb[Se];pe.Fb||(ie+=A)}else{if(0<Se){p.pb[Se]=p.pb[0];continue}ie=A}var me=p.pb[Se];me.Sc[0]=$2[sn(ie+V,127)],me.Sc[1]=q2[sn(ie+0,127)],me.Eb[0]=2*$2[sn(ie+j,127)],me.Eb[1]=101581*q2[sn(ie+Y,127)]>>16,8>me.Eb[1]&&(me.Eb[1]=8),me.Qc[0]=$2[sn(ie+re,117)],me.Qc[1]=q2[sn(ie+J,127)],me.lc=ie+J}if(!G.Rb)return lr(p,4,"Not a key frame.");for(de(q),G=p.Pa,A=0;4>A;++A){for(V=0;8>V;++V)for(j=0;3>j;++j)for(Y=0;11>Y;++Y)re=_e(q,EF[A][V][j][Y])?oe(q,8):bF[A][V][j][Y],G.Wc[A][V].Yb[j][Y]=re;for(V=0;17>V;++V)G.Xc[A][V]=G.Wc[A][NF[V]]}return p.kc=de(q),p.kc&&(p.Bd=oe(q,8)),p.cb=1}function Po(p,v,A,j,V,q,G){var Y=v[V].Yb[A];for(A=0;16>V;++V){if(!_e(p,Y[A+0]))return V;for(;!_e(p,Y[A+1]);)if(Y=v[++V].Yb[0],A=0,V==16)return 16;var J=v[V+1].Yb;if(_e(p,Y[A+2])){var re=p,pe=0;if(_e(re,(ie=Y)[(Se=A)+3]))if(_e(re,ie[Se+6])){for(Y=0,Se=2*(pe=_e(re,ie[Se+8]))+(ie=_e(re,ie[Se+9+pe])),pe=0,ie=_F[Se];ie[Y];++Y)pe+=pe+_e(re,ie[Y]);pe+=3+(8<<Se)}else _e(re,ie[Se+7])?(pe=7+2*_e(re,165),pe+=_e(re,145)):pe=5+_e(re,159);else pe=_e(re,ie[Se+4])?3+_e(re,ie[Se+5]):2;Y=J[2]}else pe=1,Y=J[1];J=G+xF[V],0>(re=p).b&&ue(re);var Se,ie=re.b,me=(Se=re.Ca>>1)-(re.I>>ie)>>31;--re.b,re.Ca+=me,re.Ca|=1,re.I-=(Se+1&me)<<ie,q[J]=((pe^me)-me)*j[(0<V)+0]}return 16}function pa(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function is(p,v,A,j,V){V=p[v+A+32*j]+(V>>3),p[v+A+32*j]=-256&V?0>V?0:255:V}function pl(p,v,A,j,V,q){is(p,v,0,A,j+V),is(p,v,1,A,j+q),is(p,v,2,A,j-q),is(p,v,3,A,j-V)}function kn(p){return(20091*p>>16)+p}function Bi(p,v,A,j){var V,q=0,G=s(16);for(V=0;4>V;++V){var Y=p[v+0]+p[v+8],J=p[v+0]-p[v+8],re=(35468*p[v+4]>>16)-kn(p[v+12]),pe=kn(p[v+4])+(35468*p[v+12]>>16);G[q+0]=Y+pe,G[q+1]=J+re,G[q+2]=J-re,G[q+3]=Y-pe,q+=4,v++}for(V=q=0;4>V;++V)Y=(p=G[q+0]+4)+G[q+8],J=p-G[q+8],re=(35468*G[q+4]>>16)-kn(G[q+12]),is(A,j,0,0,Y+(pe=kn(G[q+4])+(35468*G[q+12]>>16))),is(A,j,1,0,J+re),is(A,j,2,0,J-re),is(A,j,3,0,Y-pe),q++,j+=32}function oc(p,v,A,j){var V=p[v+0]+4,q=35468*p[v+4]>>16,G=kn(p[v+4]),Y=35468*p[v+1]>>16;pl(A,j,0,V+G,p=kn(p[v+1]),Y),pl(A,j,1,V+q,p,Y),pl(A,j,2,V-q,p,Y),pl(A,j,3,V-G,p,Y)}function ac(p,v,A,j,V){Bi(p,v,A,j),V&&Bi(p,v+16,A,j+4)}function ah(p,v,A,j){Ar(p,v+0,A,j,1),Ar(p,v+32,A,j+128,1)}function rn(p,v,A,j){var V;for(p=p[v+0]+4,V=0;4>V;++V)for(v=0;4>v;++v)is(A,j,v,V,p)}function ml(p,v,A,j){p[v+0]&&Aa(p,v+0,A,j),p[v+16]&&Aa(p,v+16,A,j+4),p[v+32]&&Aa(p,v+32,A,j+128),p[v+48]&&Aa(p,v+48,A,j+128+4)}function ma(p,v,A,j){var V,q=s(16);for(V=0;4>V;++V){var G=p[v+0+V]+p[v+12+V],Y=p[v+4+V]+p[v+8+V],J=p[v+4+V]-p[v+8+V],re=p[v+0+V]-p[v+12+V];q[0+V]=G+Y,q[8+V]=G-Y,q[4+V]=re+J,q[12+V]=re-J}for(V=0;4>V;++V)G=(p=q[0+4*V]+3)+q[3+4*V],Y=q[1+4*V]+q[2+4*V],J=q[1+4*V]-q[2+4*V],re=p-q[3+4*V],A[j+0]=G+Y>>3,A[j+16]=re+J>>3,A[j+32]=G-Y>>3,A[j+48]=re-J>>3,j+=64}function ss(p,v,A){var j,V=v-32,q=Os,G=255-p[V-1];for(j=0;j<A;++j){var Y,J=q,re=G+p[v-1];for(Y=0;Y<A;++Y)p[v+Y]=J[re+p[V+Y]];v+=32}}function Hu(p,v){ss(p,v,4)}function lh(p,v){ss(p,v,8)}function mp(p,v){ss(p,v,16)}function gp(p,v){var A;for(A=0;16>A;++A)r(p,v+32*A,p,v-32,16)}function Wu(p,v){var A;for(A=16;0<A;--A)i(p,v,p[v-1],16),v+=32}function gl(p,v,A){var j;for(j=0;16>j;++j)i(v,A+32*j,p,16)}function os(p,v){var A,j=16;for(A=0;16>A;++A)j+=p[v-1+32*A]+p[v+A-32];gl(j>>5,p,v)}function ao(p,v){var A,j=8;for(A=0;16>A;++A)j+=p[v-1+32*A];gl(j>>4,p,v)}function ga(p,v){var A,j=8;for(A=0;16>A;++A)j+=p[v+A-32];gl(j>>4,p,v)}function lc(p,v){gl(128,p,v)}function It(p,v,A){return p+2*v+A+2>>2}function va(p,v){var A,j=v-32;for(j=new Uint8Array([It(p[j-1],p[j+0],p[j+1]),It(p[j+0],p[j+1],p[j+2]),It(p[j+1],p[j+2],p[j+3]),It(p[j+2],p[j+3],p[j+4])]),A=0;4>A;++A)r(p,v+32*A,j,0,j.length)}function vp(p,v){var A=p[v-1],j=p[v-1+32],V=p[v-1+64],q=p[v-1+96];Ne(p,v+0,16843009*It(p[v-1-32],A,j)),Ne(p,v+32,16843009*It(A,j,V)),Ne(p,v+64,16843009*It(j,V,q)),Ne(p,v+96,16843009*It(V,q,q))}function yp(p,v){var A,j=4;for(A=0;4>A;++A)j+=p[v+A-32]+p[v-1+32*A];for(j>>=3,A=0;4>A;++A)i(p,v+32*A,j,4)}function wp(p,v){var A=p[v-1+0],j=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Y=p[v+1-32],J=p[v+2-32],re=p[v+3-32];p[v+0+96]=It(j,V,p[v-1+96]),p[v+1+96]=p[v+0+64]=It(A,j,V),p[v+2+96]=p[v+1+64]=p[v+0+32]=It(q,A,j),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=It(G,q,A),p[v+3+64]=p[v+2+32]=p[v+1+0]=It(Y,G,q),p[v+3+32]=p[v+2+0]=It(J,Y,G),p[v+3+0]=It(re,J,Y)}function Qr(p,v){var A=p[v+1-32],j=p[v+2-32],V=p[v+3-32],q=p[v+4-32],G=p[v+5-32],Y=p[v+6-32],J=p[v+7-32];p[v+0+0]=It(p[v+0-32],A,j),p[v+1+0]=p[v+0+32]=It(A,j,V),p[v+2+0]=p[v+1+32]=p[v+0+64]=It(j,V,q),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=It(V,q,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=It(q,G,Y),p[v+3+64]=p[v+2+96]=It(G,Y,J),p[v+3+96]=It(Y,J,J)}function Io(p,v){var A=p[v-1+0],j=p[v-1+32],V=p[v-1+64],q=p[v-1-32],G=p[v+0-32],Y=p[v+1-32],J=p[v+2-32],re=p[v+3-32];p[v+0+0]=p[v+1+64]=q+G+1>>1,p[v+1+0]=p[v+2+64]=G+Y+1>>1,p[v+2+0]=p[v+3+64]=Y+J+1>>1,p[v+3+0]=J+re+1>>1,p[v+0+96]=It(V,j,A),p[v+0+64]=It(j,A,q),p[v+0+32]=p[v+1+96]=It(A,q,G),p[v+1+32]=p[v+2+96]=It(q,G,Y),p[v+2+32]=p[v+3+96]=It(G,Y,J),p[v+3+32]=It(Y,J,re)}function _p(p,v){var A=p[v+0-32],j=p[v+1-32],V=p[v+2-32],q=p[v+3-32],G=p[v+4-32],Y=p[v+5-32],J=p[v+6-32],re=p[v+7-32];p[v+0+0]=A+j+1>>1,p[v+1+0]=p[v+0+64]=j+V+1>>1,p[v+2+0]=p[v+1+64]=V+q+1>>1,p[v+3+0]=p[v+2+64]=q+G+1>>1,p[v+0+32]=It(A,j,V),p[v+1+32]=p[v+0+96]=It(j,V,q),p[v+2+32]=p[v+1+96]=It(V,q,G),p[v+3+32]=p[v+2+96]=It(q,G,Y),p[v+3+64]=It(G,Y,J),p[v+3+96]=It(Y,J,re)}function cc(p,v){var A=p[v-1+0],j=p[v-1+32],V=p[v-1+64],q=p[v-1+96];p[v+0+0]=A+j+1>>1,p[v+2+0]=p[v+0+32]=j+V+1>>1,p[v+2+32]=p[v+0+64]=V+q+1>>1,p[v+1+0]=It(A,j,V),p[v+3+0]=p[v+1+32]=It(j,V,q),p[v+3+32]=p[v+1+64]=It(V,q,q),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=q}function Ro(p,v){var A=p[v-1+0],j=p[v-1+32],V=p[v-1+64],q=p[v-1+96],G=p[v-1-32],Y=p[v+0-32],J=p[v+1-32],re=p[v+2-32];p[v+0+0]=p[v+2+32]=A+G+1>>1,p[v+0+32]=p[v+2+64]=j+A+1>>1,p[v+0+64]=p[v+2+96]=V+j+1>>1,p[v+0+96]=q+V+1>>1,p[v+3+0]=It(Y,J,re),p[v+2+0]=It(G,Y,J),p[v+1+0]=p[v+3+32]=It(A,G,Y),p[v+1+32]=p[v+3+64]=It(j,A,G),p[v+1+64]=p[v+3+96]=It(V,j,A),p[v+1+96]=It(q,V,j)}function uc(p,v){var A;for(A=0;8>A;++A)r(p,v+32*A,p,v-32,8)}function Rs(p,v){var A;for(A=0;8>A;++A)i(p,v,p[v-1],8),v+=32}function lo(p,v,A){var j;for(j=0;8>j;++j)i(v,A+32*j,p,8)}function vl(p,v){var A,j=8;for(A=0;8>A;++A)j+=p[v+A-32]+p[v-1+32*A];lo(j>>4,p,v)}function Gu(p,v){var A,j=4;for(A=0;8>A;++A)j+=p[v+A-32];lo(j>>3,p,v)}function Mn(p,v){var A,j=4;for(A=0;8>A;++A)j+=p[v-1+32*A];lo(j>>3,p,v)}function Ku(p,v){lo(128,p,v)}function yl(p,v,A){var j=p[v-A],V=p[v+0],q=3*(V-j)+F2[1020+p[v-2*A]-p[v+A]],G=n0[112+(q+4>>3)];p[v-A]=Os[255+j+n0[112+(q+3>>3)]],p[v+0]=Os[255+V-G]}function ya(p,v,A,j){var V=p[v+0],q=p[v+A];return ho[255+p[v-2*A]-p[v-A]]>j||ho[255+q-V]>j}function dc(p,v,A,j){return 4*ho[255+p[v-A]-p[v+0]]+ho[255+p[v-2*A]-p[v+A]]<=j}function wl(p,v,A,j,V){var q=p[v-3*A],G=p[v-2*A],Y=p[v-A],J=p[v+0],re=p[v+A],pe=p[v+2*A],Se=p[v+3*A];return 4*ho[255+Y-J]+ho[255+G-re]>j?0:ho[255+p[v-4*A]-q]<=V&&ho[255+q-G]<=V&&ho[255+G-Y]<=V&&ho[255+Se-pe]<=V&&ho[255+pe-re]<=V&&ho[255+re-J]<=V}function wa(p,v,A,j){var V=2*j+1;for(j=0;16>j;++j)dc(p,v+j,A,V)&&yl(p,v+j,A)}function _a(p,v,A,j){var V=2*j+1;for(j=0;16>j;++j)dc(p,v+j*A,1,V)&&yl(p,v+j*A,1)}function Ui(p,v,A,j){var V;for(V=3;0<V;--V)wa(p,v+=4*A,A,j)}function hc(p,v,A,j){var V;for(V=3;0<V;--V)_a(p,v+=4,A,j)}function Vi(p,v,A,j,V,q,G,Y){for(q=2*q+1;0<V--;){if(wl(p,v,A,q,G))if(ya(p,v,A,Y))yl(p,v,A);else{var J=p,re=v,pe=A,Se=J[re-2*pe],ie=J[re-pe],me=J[re+0],xe=J[re+pe],Ce=J[re+2*pe],be=27*(Pe=F2[1020+3*(me-ie)+F2[1020+Se-xe]])+63>>7,Te=18*Pe+63>>7,Pe=9*Pe+63>>7;J[re-3*pe]=Os[255+J[re-3*pe]+Pe],J[re-2*pe]=Os[255+Se+Te],J[re-pe]=Os[255+ie+be],J[re+0]=Os[255+me-be],J[re+pe]=Os[255+xe-Te],J[re+2*pe]=Os[255+Ce-Pe]}v+=j}}function wi(p,v,A,j,V,q,G,Y){for(q=2*q+1;0<V--;){if(wl(p,v,A,q,G))if(ya(p,v,A,Y))yl(p,v,A);else{var J=p,re=v,pe=A,Se=J[re-pe],ie=J[re+0],me=J[re+pe],xe=n0[112+(4+(Ce=3*(ie-Se))>>3)],Ce=n0[112+(Ce+3>>3)],be=xe+1>>1;J[re-2*pe]=Os[255+J[re-2*pe]+be],J[re-pe]=Os[255+Se+Ce],J[re+0]=Os[255+ie-xe],J[re+pe]=Os[255+me-be]}v+=j}}function S(p,v,A,j,V,q){Vi(p,v,A,1,16,j,V,q)}function B(p,v,A,j,V,q){Vi(p,v,1,A,16,j,V,q)}function ne(p,v,A,j,V,q){var G;for(G=3;0<G;--G)wi(p,v+=4*A,A,1,16,j,V,q)}function ce(p,v,A,j,V,q){var G;for(G=3;0<G;--G)wi(p,v+=4,1,A,16,j,V,q)}function ve(p,v,A,j,V,q,G,Y){Vi(p,v,V,1,8,q,G,Y),Vi(A,j,V,1,8,q,G,Y)}function ke(p,v,A,j,V,q,G,Y){Vi(p,v,1,V,8,q,G,Y),Vi(A,j,1,V,8,q,G,Y)}function je(p,v,A,j,V,q,G,Y){wi(p,v+4*V,V,1,8,q,G,Y),wi(A,j+4*V,V,1,8,q,G,Y)}function Ge(p,v,A,j,V,q,G,Y){wi(p,v+4,1,V,8,q,G,Y),wi(A,j+4,1,V,8,q,G,Y)}function nt(){this.ba=new cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function un(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new O}function qn(){this.xb=this.a=0,this.l=new fa,this.ca=new cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new un,this.ab=0,this.gc=o(4,Dt),this.Oc=0}function Qn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bn(p,v,A,j,V,q,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)V[q+v]=p+A[j+v]&255,p=V[q+v]}function pr(p,v,A,j,V,q,G){var Y;if(p==null)bn(null,null,A,j,V,q,G);else for(Y=0;Y<G;++Y)V[q+Y]=p[v+Y]+A[j+Y]&255}function Fn(p,v,A,j,V,q,G){if(p==null)bn(null,null,A,j,V,q,G);else{var Y,J=p[v+0],re=J,pe=J;for(Y=0;Y<G;++Y)re=pe+(J=p[v+Y])-re,pe=A[j+Y]+(-256&re?0>re?0:255:re)&255,re=J,V[q+Y]=pe}}function Or(p,v,A,j){var V=v.width,q=v.o;if(e(p!=null&&v!=null),0>A||0>=j||A+j>q)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Qn,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=s(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Y=p.Fa,J=p.P,re=p.qc,pe=p.mb,Se=p.nb,ie=J+1,me=re-1,xe=G.l;if(e(Y!=null&&pe!=null&&v!=null),vc[0]=null,vc[1]=bn,vc[2]=pr,vc[3]=Fn,G.ca=pe,G.tb=Se,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=re)v=0;else if(G.$a=3&Y[J+0],G.Z=Y[J+0]>>2&3,G.Lc=Y[J+0]>>4&3,J=Y[J+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||J)v=0;else if(xe.put=Ze,xe.ac=On,xe.bc=fn,xe.ma=G,xe.width=v.width,xe.height=v.height,xe.Da=v.Da,xe.v=v.v,xe.va=v.va,xe.j=v.j,xe.o=v.o,G.$a)e:{e(G.$a==1),v=ua();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,te(v.m,Y,ie,me),!Ps(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&vi(v.s)?(G.ic=1,Y=v.c*v.i,v.Ta=null,v.Ua=0,v.V=s(Y),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=ko(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=me>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:j=q-A}e(p.ga!=null),e(A+j<=q);e:{if(v=(Y=p.ga).c,q=Y.l.o,Y.$a==0){if(ie=p.rc,me=p.Vc,xe=p.Fa,J=p.P+1+A*v,re=p.mb,pe=p.nb+A*v,e(J<=p.P+p.qc),Y.Z!=0)for(e(vc[Y.Z]!=null),G=0;G<j;++G)vc[Y.Z](ie,me,xe,J,re,pe,v),ie=re,me=pe,pe+=v,J+=v;else for(G=0;G<j;++G)r(re,pe,xe,J,v),ie=re,me=pe,pe+=v,J+=v;p.rc=ie,p.Vc=me}else{if(e(Y.mc!=null),v=A+j,e((G=Y.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(Y.ic||Sr(),Y.ic){Y=G.V,ie=G.Ba,me=G.c;var Ce=G.i,be=(xe=1,J=G.$/me,re=G.$%me,pe=G.m,Se=G.s,G.$),Te=me*Ce,Pe=me*v,Be=Se.wc,Oe=be<Pe?ir(Se,re,J):null;e(be<=Te),e(v<=Ce),e(vi(Se));t:for(;;){for(;!pe.h&&be<Pe;){if(re&Be||(Oe=ir(Se,re,J)),e(Oe!=null),K(pe),256>(Ce=rr(Oe.G[0],Oe.H[0],pe)))Y[ie+be]=Ce,++be,++re>=me&&(re=0,++J<=v&&!(J%16)&&Fi(G,J));else{if(!(280>Ce)){xe=0;break t}Ce=Cn(Ce-256,pe);var dt,et=rr(Oe.G[4],Oe.H[4],pe);if(K(pe),!(be>=(et=Vn(me,et=Cn(et,pe)))&&Te-be>=Ce)){xe=0;break t}for(dt=0;dt<Ce;++dt)Y[ie+be+dt]=Y[ie+be+dt-et];for(be+=Ce,re+=Ce;re>=me;)re-=me,++J<=v&&!(J%16)&&Fi(G,J);be<Pe&&re&Be&&(Oe=ir(Se,re,J))}e(pe.h==Z(pe))}Fi(G,J>v?v:J);break t}!xe||pe.h&&be<Te?(xe=0,G.a=pe.h?5:3):G.$=be,v=xe}else v=yi(G,G.V,G.Ba,G.c,G.i,v,da);if(!v){j=0;break e}}A+j>=q&&(p.Cc=1),j=1}if(!j)return null;if(p.Cc&&((j=p.ga)!=null&&(j.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*V}function co(p,v,A,j,V,q){for(;0<V--;){var G,Y=p,J=v+(A?1:0),re=p,pe=v+(A?0:3);for(G=0;G<j;++G){var Se=re[pe+4*G];Se!=255&&(Se*=32897,Y[J+4*G+0]=Y[J+4*G+0]*Se>>23,Y[J+4*G+1]=Y[J+4*G+1]*Se>>23,Y[J+4*G+2]=Y[J+4*G+2]*Se>>23)}v+=q}}function Lo(p,v,A,j,V){for(;0<j--;){var q;for(q=0;q<A;++q){var G=p[v+2*q+0],Y=15&(re=p[v+2*q+1]),J=4369*Y,re=(240&re|re>>4)*J>>16;p[v+2*q+0]=(240&G|G>>4)*J>>16&240|(15&G|G<<4)*J>>16>>4&15,p[v+2*q+1]=240&re|Y}v+=V}}function ch(p,v,A,j,V,q,G,Y){var J,re,pe=255;for(re=0;re<V;++re){for(J=0;J<j;++J){var Se=p[v+J];q[G+4*J]=Se,pe&=Se}v+=A,G+=Y}return pe!=255}function _l(p,v,A,j,V){var q;for(q=0;q<V;++q)A[j+q]=p[v+q]>>8}function Sr(){Np=co,SN=Lo,EN=ch,NN=_l}function as(p,v,A){P[p]=function(j,V,q,G,Y,J,re,pe,Se,ie,me,xe,Ce,be,Te,Pe,Be){var Oe,dt=Be-1>>1,et=Y[J+0]|re[pe+0]<<16,zt=Se[ie+0]|me[xe+0]<<16;e(j!=null);var rt=3*et+zt+131074>>2;for(v(j[V+0],255&rt,rt>>16,Ce,be),q!=null&&(rt=3*zt+et+131074>>2,v(q[G+0],255&rt,rt>>16,Te,Pe)),Oe=1;Oe<=dt;++Oe){var dn=Y[J+Oe]|re[pe+Oe]<<16,Ur=Se[ie+Oe]|me[xe+Oe]<<16,$t=et+dn+zt+Ur+524296,it=$t+2*(dn+zt)>>3;rt=it+et>>1,et=($t=$t+2*(et+Ur)>>3)+dn>>1,v(j[V+2*Oe-1],255&rt,rt>>16,Ce,be+(2*Oe-1)*A),v(j[V+2*Oe-0],255&et,et>>16,Ce,be+(2*Oe-0)*A),q!=null&&(rt=$t+zt>>1,et=it+Ur>>1,v(q[G+2*Oe-1],255&rt,rt>>16,Te,Pe+(2*Oe-1)*A),v(q[G+2*Oe+0],255&et,et>>16,Te,Pe+(2*Oe+0)*A)),et=dn,zt=Ur}1&Be||(rt=3*et+zt+131074>>2,v(j[V+Be-1],255&rt,rt>>16,Ce,be+(Be-1)*A),q!=null&&(rt=3*zt+et+131074>>2,v(q[G+Be-1],255&rt,rt>>16,Te,Pe+(Be-1)*A)))}}function fc(){fo[r0]=CF,fo[i0]=ON,fo[IN]=TF,fo[s0]=MN,fo[o0]=FN,fo[B2]=BN,fo[RN]=kF,fo[U2]=ON,fo[V2]=MN,fo[a0]=FN,fo[z2]=BN}function Ls(p){return p&~PF?0>p?0:255:p>>UN}function m(p,v){return Ls((19077*p>>8)+(26149*v>>8)-14234)}function C(p,v,A){return Ls((19077*p>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function F(p,v){return Ls((19077*p>>8)+(33050*v>>8)-17685)}function X(p,v,A,j,V){j[V+0]=m(p,A),j[V+1]=C(p,v,A),j[V+2]=F(p,v)}function we(p,v,A,j,V){j[V+0]=F(p,v),j[V+1]=C(p,v,A),j[V+2]=m(p,A)}function Ae(p,v,A,j,V){var q=C(p,v,A);v=q<<3&224|F(p,v)>>3,j[V+0]=248&m(p,A)|q>>5,j[V+1]=v}function Fe(p,v,A,j,V){var q=240&F(p,v)|15;j[V+0]=240&m(p,A)|C(p,v,A)>>4,j[V+1]=q}function _n(p,v,A,j,V){j[V+0]=255,X(p,v,A,j,V+1)}function sr(p,v,A,j,V){we(p,v,A,j,V),j[V+3]=255}function en(p,v,A,j,V){X(p,v,A,j,V),j[V+3]=255}function sn(p,v){return 0>p?0:p>v?v:p}function Pn(p,v,A){P[p]=function(j,V,q,G,Y,J,re,pe,Se){for(var ie=pe+(-2&Se)*A;pe!=ie;)v(j[V+0],q[G+0],Y[J+0],re,pe),v(j[V+1],q[G+0],Y[J+0],re,pe+A),V+=2,++G,++J,pe+=2*A;1&Se&&v(j[V+0],q[G+0],Y[J+0],re,pe)}}function uo(p,v,A){return A==0?p==0?v==0?6:5:v==0?4:0:A}function oi(p,v,A,j,V){switch(p>>>30){case 3:Ar(v,A,j,V,0);break;case 2:bl(v,A,j,V);break;case 1:Aa(v,A,j,V)}}function js(p,v){var A,j,V=v.M,q=v.Nb,G=p.oc,Y=p.pc+40,J=p.oc,re=p.pc+584,pe=p.oc,Se=p.pc+600;for(A=0;16>A;++A)G[Y+32*A-1]=129;for(A=0;8>A;++A)J[re+32*A-1]=129,pe[Se+32*A-1]=129;for(0<V?G[Y-1-32]=J[re-1-32]=pe[Se-1-32]=129:(i(G,Y-32-1,127,21),i(J,re-32-1,127,9),i(pe,Se-32-1,127,9)),j=0;j<p.za;++j){var ie=v.ya[v.aa+j];if(0<j){for(A=-1;16>A;++A)r(G,Y+32*A-4,G,Y+32*A+12,4);for(A=-1;8>A;++A)r(J,re+32*A-4,J,re+32*A+4,4),r(pe,Se+32*A-4,pe,Se+32*A+4,4)}var me=p.Gd,xe=p.Hd+j,Ce=ie.ad,be=ie.Hc;if(0<V&&(r(G,Y-32,me[xe].y,0,16),r(J,re-32,me[xe].f,0,8),r(pe,Se-32,me[xe].ea,0,8)),ie.Za){var Te=G,Pe=Y-32+16;for(0<V&&(j>=p.za-1?i(Te,Pe,me[xe].y[15],4):r(Te,Pe,me[xe+1].y,0,4)),A=0;4>A;A++)Te[Pe+128+A]=Te[Pe+256+A]=Te[Pe+384+A]=Te[Pe+0+A];for(A=0;16>A;++A,be<<=2)Te=G,Pe=Y+zN[A],jo[ie.Ob[A]](Te,Pe),oi(be,Ce,16*+A,Te,Pe)}else if(Te=uo(j,V,ie.Ob[0]),gc[Te](G,Y),be!=0)for(A=0;16>A;++A,be<<=2)oi(be,Ce,16*+A,G,Y+zN[A]);for(A=ie.Gc,Te=uo(j,V,ie.Dd),Sl[Te](J,re),Sl[Te](pe,Se),be=Ce,Te=J,Pe=re,255&(ie=0|A)&&(170&ie?fh(be,256,Te,Pe):Ep(be,256,Te,Pe)),ie=pe,be=Se,255&(A>>=8)&&(170&A?fh(Ce,320,ie,be):Ep(Ce,320,ie,be)),V<p.Ub-1&&(r(me[xe].y,0,G,Y+480,16),r(me[xe].f,0,J,re+224,8),r(me[xe].ea,0,pe,Se+224,8)),A=8*q*p.B,me=p.sa,xe=p.ta+16*j+16*q*p.R,Ce=p.qa,ie=p.ra+8*j+A,be=p.Ha,Te=p.Ia+8*j+A,A=0;16>A;++A)r(me,xe+A*p.R,G,Y+32*A,16);for(A=0;8>A;++A)r(Ce,ie+A*p.B,J,re+32*A,8),r(be,Te+A*p.B,pe,Se+32*A,8)}}function xa(p,v,A,j,V,q,G,Y,J){var re=[0],pe=[0],Se=0,ie=J!=null?J.kd:0,me=J??new Et;if(p==null||12>A)return 7;me.data=p,me.w=v,me.ha=A,v=[v],A=[A],me.gb=[me.gb];e:{var xe=v,Ce=A,be=me.gb;if(e(p!=null),e(Ce!=null),e(be!=null),be[0]=0,12<=Ce[0]&&!n(p,xe[0],"RIFF")){if(n(p,xe[0]+8,"WEBP")){be=3;break e}var Te=ye(p,xe[0]+4);if(12>Te||4294967286<Te){be=3;break e}if(ie&&Te>Ce[0]-8){be=7;break e}be[0]=Te,xe[0]+=12,Ce[0]-=12}be=0}if(be!=0)return be;for(Te=0<me.gb[0],A=A[0];;){e:{var Pe=p;Ce=v,be=A;var Be=re,Oe=pe,dt=xe=[0];if((rt=Se=[Se])[0]=0,8>be[0])be=7;else{if(!n(Pe,Ce[0],"VP8X")){if(ye(Pe,Ce[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var et=ye(Pe,Ce[0]+8),zt=1+Ee(Pe,Ce[0]+12);if(2147483648<=zt*(Pe=1+Ee(Pe,Ce[0]+15))){be=3;break e}dt!=null&&(dt[0]=et),Be!=null&&(Be[0]=zt),Oe!=null&&(Oe[0]=Pe),Ce[0]+=18,be[0]-=18,rt[0]=1}be=0}}if(Se=Se[0],xe=xe[0],be!=0)return be;if(Ce=!!(2&xe),!Te&&Se)return 3;if(q!=null&&(q[0]=!!(16&xe)),G!=null&&(G[0]=Ce),Y!=null&&(Y[0]=0),G=re[0],xe=pe[0],Se&&Ce&&J==null){be=0;break}if(4>A){be=7;break}if(Te&&Se||!Te&&!Se&&!n(p,v[0],"ALPH")){A=[A],me.na=[me.na],me.P=[me.P],me.Sa=[me.Sa];e:{et=p,be=v,Te=A;var rt=me.gb;Be=me.na,Oe=me.P,dt=me.Sa,zt=22,e(et!=null),e(Te!=null),Pe=be[0];var dn=Te[0];for(e(Be!=null),e(dt!=null),Be[0]=null,Oe[0]=null,dt[0]=0;;){if(be[0]=Pe,Te[0]=dn,8>dn){be=7;break e}var Ur=ye(et,Pe+4);if(4294967286<Ur){be=3;break e}var $t=8+Ur+1&-2;if(zt+=$t,0<rt&&zt>rt){be=3;break e}if(!n(et,Pe,"VP8 ")||!n(et,Pe,"VP8L")){be=0;break e}if(dn[0]<$t){be=7;break e}n(et,Pe,"ALPH")||(Be[0]=et,Oe[0]=Pe+8,dt[0]=Ur),Pe+=$t,dn-=$t}}if(A=A[0],me.na=me.na[0],me.P=me.P[0],me.Sa=me.Sa[0],be!=0)break}A=[A],me.Ja=[me.Ja],me.xa=[me.xa];e:if(rt=p,be=v,Te=A,Be=me.gb[0],Oe=me.Ja,dt=me.xa,et=be[0],Pe=!n(rt,et,"VP8 "),zt=!n(rt,et,"VP8L"),e(rt!=null),e(Te!=null),e(Oe!=null),e(dt!=null),8>Te[0])be=7;else{if(Pe||zt){if(rt=ye(rt,et+4),12<=Be&&rt>Be-12){be=3;break e}if(ie&&rt>Te[0]-8){be=7;break e}Oe[0]=rt,be[0]+=8,Te[0]-=8,dt[0]=zt}else dt[0]=5<=Te[0]&&rt[et+0]==47&&!(rt[et+4]>>5),Oe[0]=Te[0];be=0}if(A=A[0],me.Ja=me.Ja[0],me.xa=me.xa[0],v=v[0],be!=0)break;if(4294967286<me.Ja)return 3;if(Y==null||Ce||(Y[0]=me.xa?2:1),G=[G],xe=[xe],me.xa){if(5>A){be=7;break}Y=G,ie=xe,Ce=q,p==null||5>A?p=0:5<=A&&p[v+0]==47&&!(p[v+4]>>5)?(Te=[0],rt=[0],Be=[0],te(Oe=new H,p,v,A),jr(Oe,Te,rt,Be)?(Y!=null&&(Y[0]=Te[0]),ie!=null&&(ie[0]=rt[0]),Ce!=null&&(Ce[0]=Be[0]),p=1):p=0):p=0}else{if(10>A){be=7;break}Y=xe,p==null||10>A||!qu(p,v+3,A-3)?p=0:(ie=p[v+0]|p[v+1]<<8|p[v+2]<<16,Ce=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=me.Ja||!Ce||!p?p=0:(G&&(G[0]=Ce),Y&&(Y[0]=p),p=1))}if(!p||(G=G[0],xe=xe[0],Se&&(re[0]!=G||pe[0]!=xe)))return 3;J!=null&&(J[0]=me,J.offset=v-J.w,e(4294967286>v-J.w),e(J.offset==J.ha-A));break}return be==0||be==7&&Se&&J==null?(q!=null&&(q[0]|=me.na!=null&&0<me.na.length),j!=null&&(j[0]=G),V!=null&&(V[0]=xe),0):be}function ls(p,v,A){var j=v.width,V=v.height,q=0,G=0,Y=j,J=V;if(v.Da=p!=null&&0<p.Da,v.Da&&(Y=p.cd,J=p.bd,q=p.v,G=p.j,11>A||(q&=-2,G&=-2),0>q||0>G||0>=Y||0>=J||q+Y>j||G+J>V))return 0;if(v.v=q,v.j=G,v.va=q+Y,v.o=G+J,v.U=Y,v.T=J,v.da=p!=null&&0<p.da,v.da){if(!Je(Y,J,A=[p.ib],q=[p.hb]))return 0;v.ib=A[0],v.hb=q[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*j/4&&v.hb<3*V/4,v.Kb=0),1}function cs(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Yu(p,v,A,j){if(j==null||0>=p||0>=v)return 2;if(A!=null){if(A.Da){var V=A.cd,q=A.bd,G=-2&A.v,Y=-2&A.j;if(0>G||0>Y||0>=V||0>=q||G+V>p||Y+q>v)return 2;p=V,v=q}if(A.da){if(!Je(p,v,V=[A.ib],q=[A.hb]))return 2;p=V[0],v=q[0]}}j.width=p,j.height=v;e:{var J=j.width,re=j.height;if(p=j.S,0>=J||0>=re||!(p>=r0&&13>p))p=2;else{if(0>=j.Rd&&j.sd==null){G=q=V=v=0;var pe=(Y=J*$N[p])*re;if(11>p||(q=(re+1)/2*(v=(J+1)/2),p==12&&(G=(V=J)*re)),(re=s(pe+2*q+G))==null){p=1;break e}j.sd=re,11>p?((J=j.f.RGBA).eb=re,J.fb=0,J.A=Y,J.size=pe):((J=j.f.kb).y=re,J.O=0,J.fa=Y,J.Fd=pe,J.f=re,J.N=0+pe,J.Ab=v,J.Cd=q,J.ea=re,J.W=0+pe+q,J.Db=v,J.Ed=q,p==12&&(J.F=re,J.J=0+pe+2*q),J.Tc=G,J.lb=V)}if(v=1,V=j.S,q=j.width,G=j.height,V>=r0&&13>V)if(11>V)p=j.f.RGBA,v&=(Y=Math.abs(p.A))*(G-1)+q<=p.size,v&=Y>=q*$N[V],v&=p.eb!=null;else{p=j.f.kb,Y=(q+1)/2,pe=(G+1)/2,J=Math.abs(p.fa),re=Math.abs(p.Ab);var Se=Math.abs(p.Db),ie=Math.abs(p.lb),me=ie*(G-1)+q;v&=J*(G-1)+q<=p.Fd,v&=re*(pe-1)+Y<=p.Cd,v=(v&=Se*(pe-1)+Y<=p.Ed)&J>=q&re>=Y&Se>=Y,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,V==12&&(v&=ie>=q,v&=me<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||A!=null&&A.fd&&(p=cs(j)),p}var ba=64,pc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xp=24,mc=32,Er=8,M2=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,v,A){return v[A+0]},P.Predictor3=function(p,v,A){return v[A+1]},P.Predictor4=function(p,v,A){return v[A-1]},P.Predictor5=function(p,v,A){return Qe(Qe(p,v[A+1]),v[A+0])},P.Predictor6=function(p,v,A){return Qe(p,v[A-1])},P.Predictor7=function(p,v,A){return Qe(p,v[A+0])},P.Predictor8=function(p,v,A){return Qe(v[A-1],v[A+0])},P.Predictor9=function(p,v,A){return Qe(v[A+0],v[A+1])},P.Predictor10=function(p,v,A){return Qe(Qe(p,v[A-1]),Qe(v[A+0],v[A+1]))},P.Predictor11=function(p,v,A){var j=v[A+0];return 0>=He(j>>24&255,p>>24&255,(v=v[A-1])>>24&255)+He(j>>16&255,p>>16&255,v>>16&255)+He(j>>8&255,p>>8&255,v>>8&255)+He(255&j,255&p,255&v)?j:p},P.Predictor12=function(p,v,A){var j=v[A+0];return(Jt((p>>24&255)+(j>>24&255)-((v=v[A-1])>>24&255))<<24|Jt((p>>16&255)+(j>>16&255)-(v>>16&255))<<16|Jt((p>>8&255)+(j>>8&255)-(v>>8&255))<<8|Jt((255&p)+(255&j)-(255&v)))>>>0},P.Predictor13=function(p,v,A){var j=v[A-1];return(Pt((p=Qe(p,v[A+0]))>>24&255,j>>24&255)<<24|Pt(p>>16&255,j>>16&255)<<16|Pt(p>>8&255,j>>8&255)<<8|Pt(255&p,255&j))>>>0};var Sa=P.PredictorAdd0;P.PredictorAdd1=_t,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Ea=P.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var uh,bp=P.ColorIndexInverseTransform,dh=P.MapARGB,hh=P.VP8LColorIndexInverseTransformAlpha,Qu=P.MapAlpha,Xu=P.VP8LPredictorsAdd=[];Xu.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var xl,Sp,Ds,Na,Hn,Wn,Nr,Ar,bl,fh,Aa,Ep,dN,hN,fN,pN,mN,gN,vN,yN,wN,_N,xN,bN,Np,SN,EN,NN,AN=s(511),CN=s(2041),TN=s(225),kN=s(767),PN=0,F2=CN,n0=TN,Os=kN,ho=AN,r0=0,i0=1,IN=2,s0=3,o0=4,B2=5,RN=6,U2=7,V2=8,a0=9,z2=10,fF=[2,3,7],pF=[3,3,11],LN=[280,256,256,256,40],mF=[0,1,1,1,0],gF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wF=8,$2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],q2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ap=null,_F=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],SF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],NF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gc=[],jo=[],Sl=[],AF=1,DN=2,vc=[],fo=[];as("UpsampleRgbLinePair",X,3),as("UpsampleBgrLinePair",we,3),as("UpsampleRgbaLinePair",en,4),as("UpsampleBgraLinePair",sr,4),as("UpsampleArgbLinePair",_n,4),as("UpsampleRgba4444LinePair",Fe,2),as("UpsampleRgb565LinePair",Ae,2);var CF=P.UpsampleRgbLinePair,TF=P.UpsampleBgrLinePair,ON=P.UpsampleRgbaLinePair,MN=P.UpsampleBgraLinePair,FN=P.UpsampleArgbLinePair,BN=P.UpsampleRgba4444LinePair,kF=P.UpsampleRgb565LinePair,l0=16,c0=1<<l0-1,Cp=-227,H2=482,UN=6,PF=(256<<UN)-1,VN=0,IF=s(256),RF=s(256),LF=s(256),jF=s(256),DF=s(H2-Cp),OF=s(H2-Cp);Pn("YuvToRgbRow",X,3),Pn("YuvToBgrRow",we,3),Pn("YuvToRgbaRow",en,4),Pn("YuvToBgraRow",sr,4),Pn("YuvToArgbRow",_n,4),Pn("YuvToRgba4444Row",Fe,2),Pn("YuvToRgb565Row",Ae,2);var zN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],u0=[0,2,8],MF=[8,7,6,4,4,2,2,2,1,1,1,1],FF=1;this.WebPDecodeRGBA=function(p,v,A,j,V){var q=i0,G=new nt,Y=new cn;G.ba=Y,Y.S=q,Y.width=[Y.width],Y.height=[Y.height];var J=Y.width,re=Y.height,pe=new ut;if(pe==null||p==null)var Se=2;else e(pe!=null),Se=xa(p,v,A,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Se!=0?J=0:(J!=null&&(J[0]=pe.width[0]),re!=null&&(re[0]=pe.height[0]),J=1),J){Y.width=Y.width[0],Y.height=Y.height[0],j!=null&&(j[0]=Y.width),V!=null&&(V[0]=Y.height);e:{if(j=new fa,(V=new Et).data=p,V.w=v,V.ha=A,V.kd=1,v=[0],e(V!=null),((p=xa(V.data,V.w,V.ha,null,null,null,v,null,V))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),j.data=V.data,j.w=V.w+V.offset,j.ha=V.ha-V.offset,j.put=Ze,j.ac=On,j.bc=fn,j.ma=G,V.xa){if((p=ua())==null){G=1;break e}if(function(ie,me){var xe=[0],Ce=[0],be=[0];t:for(;;){if(ie==null)return 0;if(me==null)return ie.a=2,0;if(ie.l=me,ie.a=0,te(ie.m,me.data,me.w,me.ha),!jr(ie.m,xe,Ce,be)){ie.a=3;break t}if(ie.xb=DN,me.width=xe[0],me.height=Ce[0],!Ps(xe[0],Ce[0],1,ie,null))break t;return 1}return e(ie.a!=0),0}(p,j)){if(j=(v=Yu(j.width,j.height,G.Oa,G.ba))==0){t:{j=p;n:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((A=j.l)!=null),e((V=A.ma)!=null),j.xb!=0){if(j.ca=V.ba,j.tb=V.tb,e(j.ca!=null),!ls(V.Oa,A,s0)){j.a=2;break n}if(!ko(j,A.width)||A.da)break n;if((A.da||Ct(j.ca.S))&&Sr(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Sr()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!ee(j.s.vb,j.s.Wa.Xa)){j.a=1;break n}j.xb=0}if(!yi(j,j.V,j.Ba,j.c,j.i,A.o,ca))break n;V.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(v=p.a)}else v=p.a}else{if((p=new $u)==null){G=1;break e}if(p.Fa=V.na,p.P=V.P,p.qc=V.Sa,oh(p,j)){if((v=Yu(j.width,j.height,G.Oa,G.ba))==0){if(p.Aa=0,A=G.Oa,e((V=p)!=null),A!=null){if(0<(J=0>(J=A.Md)?0:100<J?255:255*J/100)){for(re=pe=0;4>re;++re)12>(Se=V.pb[re]).lc&&(Se.ia=J*MF[0>Se.lc?0:Se.lc]>>3),pe|=Se.ia;pe&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=A.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(ie,me){if(ie==null)return 0;if(me==null)return lr(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!oh(ie,me))return 0;if(e(ie.cb),me.ac==null||me.ac(me)){me.ob&&(ie.L=0);var xe=u0[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=me.v-xe>>4,ie.zb=me.j-xe>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=me.o+15+xe>>4,ie.Hb=me.va+15+xe>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Ce=ie.ed;for(xe=0;4>xe;++xe){var be;if(ie.Qa.Cb){var Te=ie.Qa.Lb[xe];ie.Qa.Fb||(Te+=Ce.Tb)}else Te=Ce.Tb;for(be=0;1>=be;++be){var Pe=ie.gd[xe][be],Be=Te;if(Ce.Pc&&(Be+=Ce.vd[0],be&&(Be+=Ce.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Oe=Be;0<Ce.wb&&(Oe=4<Ce.wb?Oe>>2:Oe>>1)>9-Ce.wb&&(Oe=9-Ce.wb),1>Oe&&(Oe=1),Pe.dd=Oe,Pe.tc=2*Be+Oe,Pe.ld=40<=Be?2:15<=Be?1:0}else Pe.tc=0;Pe.La=be}}}xe=0}else lr(ie,6,"Frame setup failed"),xe=ie.a;if(xe=xe==0){if(xe){ie.$c=0,0<ie.Aa||(ie.Ic=FF);t:{xe=ie.Ic,Ce=4*(Oe=ie.za);var dt=32*Oe,et=Oe+1,zt=0<ie.L?Oe*(0<ie.Aa?2:1):0,rt=(ie.Aa==2?2:1)*Oe;if((Pe=Ce+832+(be=3*(16*xe+u0[ie.L])/2*dt)+(Te=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Pe)xe=0;else{if(Pe>ie.Vb){if(ie.Vb=0,ie.Ec=s(Pe),ie.Fc=0,ie.Ec==null){xe=lr(ie,1,"no memory during frame initialization.");break t}ie.Vb=Pe}Pe=ie.Ec,Be=ie.Fc,ie.Ac=Pe,ie.Bc=Be,Be+=Ce,ie.Gd=o(dt,Vu),ie.Hd=0,ie.rb=o(et+1,Is),ie.sb=1,ie.wa=zt?o(zt,Yr):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Oe),e(!0),ie.oc=Pe,ie.pc=Be,Be+=832,ie.ya=o(rt,Bu),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Oe),ie.R=16*Oe,ie.B=8*Oe,Oe=(dt=u0[ie.L])*ie.R,dt=dt/2*ie.B,ie.sa=Pe,ie.ta=Be+Oe,ie.qa=ie.sa,ie.ra=ie.ta+16*xe*ie.R+dt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*xe*ie.B+dt,ie.$c=0,Be+=be,ie.mb=Te?Pe:null,ie.nb=Te?Be:null,e(Be+Te<=ie.Fc+ie.Vb),pa(ie),i(ie.Ac,ie.Bc,0,Ce),xe=1}}if(xe){if(me.ka=0,me.y=ie.sa,me.O=ie.ta,me.f=ie.qa,me.N=ie.ra,me.ea=ie.Ha,me.Vd=ie.Ia,me.fa=ie.R,me.Rc=ie.B,me.F=null,me.J=0,!PN){for(xe=-255;255>=xe;++xe)AN[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)CN[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)TN[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)kN[255+xe]=0>xe?0:255<xe?255:xe;PN=1}Nr=ma,Ar=ac,fh=ah,Aa=rn,Ep=ml,bl=oc,dN=S,hN=B,fN=ve,pN=ke,mN=ne,gN=ce,vN=je,yN=Ge,wN=wa,_N=_a,xN=Ui,bN=hc,jo[0]=yp,jo[1]=Hu,jo[2]=va,jo[3]=vp,jo[4]=wp,jo[5]=Io,jo[6]=Qr,jo[7]=_p,jo[8]=Ro,jo[9]=cc,gc[0]=os,gc[1]=mp,gc[2]=gp,gc[3]=Wu,gc[4]=ao,gc[5]=ga,gc[6]=lc,Sl[0]=vl,Sl[1]=lh,Sl[2]=uc,Sl[3]=Rs,Sl[4]=Mn,Sl[5]=Gu,Sl[6]=Ku,xe=1}else xe=0}xe&&(xe=function(dn,Ur){for(dn.M=0;dn.M<dn.Va;++dn.M){var $t,it=dn.Jc[dn.M&dn.Xb],qe=dn.m,Cr=dn;for($t=0;$t<Cr.za;++$t){var Bt=qe,pn=Cr,Xn=pn.Ac,ai=pn.Bc+4*$t,zi=pn.zc,mr=pn.ya[pn.aa+$t];if(pn.Qa.Bb?mr.$b=_e(Bt,pn.Pa.jb[0])?2+_e(Bt,pn.Pa.jb[2]):_e(Bt,pn.Pa.jb[1]):mr.$b=0,pn.kc&&(mr.Ad=_e(Bt,pn.Bd)),mr.Za=!_e(Bt,145)+0,mr.Za){var _i=mr.Ob,$i=0;for(pn=0;4>pn;++pn){var Vr,vn=zi[0+pn];for(Vr=0;4>Vr;++Vr){vn=SF[Xn[ai+Vr]][vn];for(var In=jN[_e(Bt,vn[0])];0<In;)In=jN[2*In+_e(Bt,vn[In])];vn=-In,Xn[ai+Vr]=vn}r(_i,$i,Xn,ai,4),$i+=4,zi[0+pn]=vn}}else vn=_e(Bt,156)?_e(Bt,128)?1:3:_e(Bt,163)?2:0,mr.Ob[0]=vn,i(Xn,ai,vn,4),i(zi,0,vn,4);mr.Dd=_e(Bt,142)?_e(Bt,114)?_e(Bt,183)?1:3:2:0}if(Cr.m.Ka)return lr(dn,7,"Premature end-of-partition0 encountered.");for(;dn.ja<dn.za;++dn.ja){if(Cr=it,Bt=(qe=dn).rb[qe.sb-1],Xn=qe.rb[qe.sb+qe.ja],$t=qe.ya[qe.aa+qe.ja],ai=qe.kc?$t.Ad:0)Bt.la=Xn.la=0,$t.Za||(Bt.Na=Xn.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var gr,Rn;if(Bt=Xn,Xn=Cr,ai=qe.Pa.Xc,zi=qe.ya[qe.aa+qe.ja],mr=qe.pb[zi.$b],pn=zi.ad,_i=0,$i=qe.rb[qe.sb-1],vn=Vr=0,i(pn,_i,0,384),zi.Za)var li=0,Do=ai[3];else{In=s(16);var Tr=Bt.Na+$i.Na;if(Tr=Ap(Xn,ai[1],Tr,mr.Eb,0,In,0),Bt.Na=$i.Na=(0<Tr)+0,1<Tr)Nr(In,0,pn,_i);else{var us=In[0]+3>>3;for(In=0;256>In;In+=16)pn[_i+In]=us}li=1,Do=ai[0]}var zn=15&Bt.la,zr=15&$i.la;for(In=0;4>In;++In){var Ms=1&zr;for(us=Rn=0;4>us;++us)zn=zn>>1|(Ms=(Tr=Ap(Xn,Do,Tr=Ms+(1&zn),mr.Sc,li,pn,_i))>li)<<7,Rn=Rn<<2|(3<Tr?3:1<Tr?2:pn[_i+0]!=0),_i+=16;zn>>=4,zr=zr>>1|Ms<<7,Vr=(Vr<<8|Rn)>>>0}for(Do=zn,li=zr>>4,gr=0;4>gr;gr+=2){for(Rn=0,zn=Bt.la>>4+gr,zr=$i.la>>4+gr,In=0;2>In;++In){for(Ms=1&zr,us=0;2>us;++us)Tr=Ms+(1&zn),zn=zn>>1|(Ms=0<(Tr=Ap(Xn,ai[2],Tr,mr.Qc,0,pn,_i)))<<3,Rn=Rn<<2|(3<Tr?3:1<Tr?2:pn[_i+0]!=0),_i+=16;zn>>=2,zr=zr>>1|Ms<<5}vn|=Rn<<4*gr,Do|=zn<<4<<gr,li|=(240&zr)<<gr}Bt.la=Do,$i.la=li,zi.Hc=Vr,zi.Gc=vn,zi.ia=43690&vn?0:mr.ia,ai=!(Vr|vn)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[$t.$b][$t.Za],qe.wa[qe.Y+qe.ja].La|=!ai),Cr.Ka)return lr(dn,7,"Premature end-of-file encountered.")}if(pa(dn),qe=Ur,Cr=1,$t=(it=dn).D,Bt=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)t:{if($t.M=it.M,$t.uc=Bt,js(it,$t),Cr=1,$t=(Rn=it.D).Nb,Bt=(vn=u0[it.L])*it.R,Xn=vn/2*it.B,In=16*$t*it.R,us=8*$t*it.B,ai=it.sa,zi=it.ta-Bt+In,mr=it.qa,pn=it.ra-Xn+us,_i=it.Ha,$i=it.Ia-Xn+us,zr=(zn=Rn.M)==0,Vr=zn>=it.Va-1,it.Aa==2&&js(it,Rn),Rn.uc)for(Ms=(Tr=it).D.M,e(Tr.D.uc),Rn=Tr.yb;Rn<Tr.Hb;++Rn){li=Rn,Do=Ms;var qi=(Fs=(ci=Tr).D).Nb;gr=ci.R;var Fs=Fs.wa[Fs.Y+li],Bs=ci.sa,ds=ci.ta+16*qi*gr+16*li,Us=Fs.dd,Gn=Fs.tc;if(Gn!=0)if(e(3<=Gn),ci.L==1)0<li&&_N(Bs,ds,gr,Gn+4),Fs.La&&bN(Bs,ds,gr,Gn),0<Do&&wN(Bs,ds,gr,Gn+4),Fs.La&&xN(Bs,ds,gr,Gn);else{var Vs=ci.B,Oo=ci.qa,Ju=ci.ra+8*qi*Vs+8*li,El=ci.Ha,ci=ci.Ia+8*qi*Vs+8*li;qi=Fs.ld,0<li&&(hN(Bs,ds,gr,Gn+4,Us,qi),pN(Oo,Ju,El,ci,Vs,Gn+4,Us,qi)),Fs.La&&(gN(Bs,ds,gr,Gn,Us,qi),yN(Oo,Ju,El,ci,Vs,Gn,Us,qi)),0<Do&&(dN(Bs,ds,gr,Gn+4,Us,qi),fN(Oo,Ju,El,ci,Vs,Gn+4,Us,qi)),Fs.La&&(mN(Bs,ds,gr,Gn,Us,qi),vN(Oo,Ju,El,ci,Vs,Gn,Us,qi))}}if(it.ia&&alert("todo:DitherRow"),qe.put!=null){if(Rn=16*zn,zn=16*(zn+1),zr?(qe.y=it.sa,qe.O=it.ta+In,qe.f=it.qa,qe.N=it.ra+us,qe.ea=it.Ha,qe.W=it.Ia+us):(Rn-=vn,qe.y=ai,qe.O=zi,qe.f=mr,qe.N=pn,qe.ea=_i,qe.W=$i),Vr||(zn-=vn),zn>qe.o&&(zn=qe.o),qe.F=null,qe.J=null,it.Fa!=null&&0<it.Fa.length&&Rn<zn&&(qe.J=Or(it,qe,Rn,zn-Rn),qe.F=it.mb,qe.F==null&&qe.F.length==0)){Cr=lr(it,3,"Could not decode alpha data.");break t}Rn<qe.j&&(vn=qe.j-Rn,Rn=qe.j,e(!(1&vn)),qe.O+=it.R*vn,qe.N+=it.B*(vn>>1),qe.W+=it.B*(vn>>1),qe.F!=null&&(qe.J+=qe.width*vn)),Rn<zn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=Rn-qe.j,qe.U=qe.va-qe.v,qe.T=zn-Rn,Cr=qe.put(qe))}$t+1!=it.Ic||Vr||(r(it.sa,it.ta-Bt,ai,zi+16*it.R,Bt),r(it.qa,it.ra-Xn,mr,pn+8*it.B,Xn),r(it.Ha,it.Ia-Xn,_i,$i+8*it.B,Xn))}if(!Cr)return lr(dn,6,"Output aborted.")}return 1}(ie,me)),me.bc!=null&&me.bc(me),xe&=1}return xe?(ie.cb=0,xe):0})(p,j)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=cs(G.ba))}G=v}q=G!=0?null:11>q?Y.f.RGBA.eb:Y.f.kb.y}else q=null;return q};var $N=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,M){for(var T="",L=0;L<4;L++)T+=String.fromCharCode(P[M++]);return T}function d(P,M){return P[M+0]|P[M+1]<<8}function f(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16)>>>0}function g(P,M){return(P[M+0]|P[M+1]<<8|P[M+2]<<16|P[M+3]<<24)>>>0}new l;var h=[0],_=[0],y=[],x=new l,w=t,b=function(P,M){var T={},L=0,O=!1,W=0,le=0;if(T.frames=[],!function(D,H){for(var Q=0;Q<4;Q++)if(D[H+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(P,M)){for(g(P,M+=4),M+=8;M<P.length;){var fe=c(P,M),oe=g(P,M+=4);M+=4;var $=oe+(1&oe);switch(fe){case"VP8 ":case"VP8L":T.frames[L]===void 0&&(T.frames[L]={}),(ge=T.frames[L]).src_off=O?le:M-8,ge.src_size=W+oe+8,L++,O&&(O=!1,W=0,le=0);break;case"VP8X":(ge=T.header={}).feature_flags=P[M];var te=M+4;ge.canvas_width=1+f(P,te),te+=3,ge.canvas_height=1+f(P,te),te+=3;break;case"ALPH":O=!0,W=$+8,le=M-8;break;case"ANIM":(ge=T.header).bgcolor=g(P,M),te=M+4,ge.loop_count=d(P,te),te+=2;break;case"ANMF":var se,ge;(ge=T.frames[L]={}).offset_x=2*f(P,M),M+=3,ge.offset_y=2*f(P,M),M+=3,ge.width=1+f(P,M),M+=3,ge.height=1+f(P,M),M+=3,ge.duration=f(P,M),M+=3,se=P[M++],ge.dispose=1&se,ge.blend=se>>1&1}fe!="ANMF"&&(M+=$)}return T}}(w,0);b.response=w,b.rgbaoutput=!0,b.dataurl=!1;var N=b.header?b.header:null,R=b.frames?b.frames:null;if(N){N.loop_counter=N.loop_count,h=[N.canvas_height],_=[N.canvas_width];for(var z=0;z<R.length&&R[z].blend!=0;z++);}var U=R[0],I=x.WebPDecodeRGBA(w,U.src_off,U.src_size,_,h);U.rgba=I,U.imgwidth=_[0],U.imgheight=h[0];for(var k=0;k<_[0]*h[0]*4;k++)y[k]=I[k];return this.width=_,this.height=h,this.data=y,this}(function(t){var e,n,r,i,s,o,a,l,c,d=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=D;Object.defineProperty(this,"pdf",{get:function(){return H}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ye){Z=!!ye}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ye){isNaN(ye)||(ae=ye)}});var K=0;Object.defineProperty(this,"posY",{get:function(){return K},set:function(ye){isNaN(ye)||(K=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var ee;typeof ye=="number"?ee=[ye,ye,ye,ye]:((ee=new Array(4))[0]=ye[0],ee[1]=ye.length>=2?ye[1]:ee[0],ee[2]=ye.length>=3?ye[2]:ee[0],ee[3]=ye.length>=4?ye[3]:ee[1]),c.margin=ee}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ye){ue=ye}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ye){de=ye}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ye){_e=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof d&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(ye){Ne=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var ee;ee=g(ye),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var ee=g(ye);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var he=null,Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(ye){he=null,Ee=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var ee;if(this.ctx.font=ye,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var st=ee[1];ee[2];var ct=ee[3],Je=ee[4];ee[5];var De=ee[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(ze==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ve=function(pt){var lt,ln,Qt=[],Ye=pt.trim();if(Ye==="")return x_;if(Ye in wT)return[wT[Ye]];for(;Ye!=="";){switch(ln=null,lt=(Ye=xT(Ye)).charAt(0)){case'"':case"'":ln=bee(Ye.substring(1),lt);break;default:ln=See(Ye)}if(ln===null||(Qt.push(ln[0]),(Ye=xT(ln[1]))!==""&&Ye.charAt(0)!==","))return x_;Ye=Ye.replace(/^,/,"")}return Qt}(De);if(this.fontFaces){var Nt=function(pt,lt){if(he===null){var ln=function(Qt){var Ye=[];return Object.keys(Qt).forEach(function(bt){Qt[bt].forEach(function(nn){var gt=null;switch(nn){case"bold":gt={family:bt,weight:"bold"};break;case"italic":gt={family:bt,style:"italic"};break;case"bolditalic":gt={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":gt={family:bt}}gt!==null&&(gt.ref={name:bt,style:nn},Ye.push(gt))})}),Ye}(pt.getFontList());he=function(Qt){for(var Ye={},bt=0;bt<Qt.length;++bt){var nn=__(Qt[bt]),gt=nn.family,Vt=nn.stretch,Ct=nn.style,Bn=nn.weight;Ye[gt]=Ye[gt]||{},Ye[gt][Vt]=Ye[gt][Vt]||{},Ye[gt][Vt][Ct]=Ye[gt][Vt][Ct]||{},Ye[gt][Vt][Ct][Bn]=nn}return Ye}(ln.concat(lt))}return he}(this.pdf,this.fontFaces),Qe=Ve.map(function(pt){return{family:pt,stretch:"normal",weight:ct,style:st}}),Jt=function(pt,lt,ln){for(var Qt=(ln=ln||{}).defaultFontFamily||"times",Ye=Object.assign({},xee,ln.genericFontFamilies||{}),bt=null,nn=null,gt=0;gt<lt.length;++gt)if(Ye[(bt=__(lt[gt])).family]&&(bt.family=Ye[bt.family]),pt.hasOwnProperty(bt.family)){nn=pt[bt.family];break}if(!(nn=nn||pt[Qt]))throw new Error("Could not find a font-family for the rule '"+_T(bt)+"' and default family '"+Qt+"'.");if(nn=function(Vt,Ct){if(Ct[Vt])return Ct[Vt];var Bn=S5[Vt],Un=Bn<=S5.normal?-1:1,cn=yT(Ct,c8,Bn,Un);if(!cn)throw new Error("Could not find a matching font-stretch value for "+Vt);return cn}(bt.stretch,nn),nn=function(Vt,Ct){if(Ct[Vt])return Ct[Vt];for(var Bn=l8[Vt],Un=0;Un<Bn.length;++Un)if(Ct[Bn[Un]])return Ct[Bn[Un]];throw new Error("Could not find a matching font-style for "+Vt)}(bt.style,nn),!(nn=function(Vt,Ct){if(Ct[Vt])return Ct[Vt];if(Vt===400&&Ct[500])return Ct[500];if(Vt===500&&Ct[400])return Ct[400];var Bn=_ee[Vt],Un=yT(Ct,u8,Bn,Vt<400?-1:1);if(!Un)throw new Error("Could not find a matching font-weight for value "+Vt);return Un}(bt.weight,nn)))throw new Error("Failed to resolve a font for the rule '"+_T(bt)+"'.");return nn}(Nt,Qe);this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var Pt="";(ct==="bold"||parseInt(ct,10)>=700||st==="bold")&&(Pt="bold"),st==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var He="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},At=0;At<Ve.length;At++){if(this.pdf.internal.getFont(Ve[At],Pt,{noFallback:!0,disableWarning:!0})!==void 0){He=Ve[At];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(Ve[At],"bold",{noFallback:!0,disableWarning:!0})!==void 0)He=Ve[At],Pt="bold";else if(this.pdf.internal.getFont(Ve[At],"normal",{noFallback:!0,disableWarning:!0})!==void 0){He=Ve[At],Pt="normal";break}}if(He===""){for(var ot=0;ot<Ve.length;ot++)if(_t[Ve[ot]]){He=_t[Ve[ot]];break}}He=He===""?"Times":He,this.pdf.setFont(He,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(D){this.lineDash=D},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(D,H){if(isNaN(D)||isNaN(H))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(D,H)},f.prototype.closePath=function(){var D=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&jn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){D=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},f.prototype.lineTo=function(D,H){if(isNaN(D)||isNaN(H))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function(D,H,Q,Z){if(isNaN(Q)||isNaN(Z)||isNaN(D)||isNaN(H))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,Z)),K=this.ctx.transform.applyToPoint(new o(D,H));this.path.push({type:"qct",x1:K.x,y1:K.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},f.prototype.bezierCurveTo=function(D,H,Q,Z,ae,K){if(isNaN(ae)||isNaN(K)||isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(ae,K)),de=this.ctx.transform.applyToPoint(new o(D,H)),_e=this.ctx.transform.applyToPoint(new o(Q,Z));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:_e.x,y2:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},f.prototype.arc=function(D,H,Q,Z,ae,K){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z)||isNaN(ae))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(K=!!K,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(D,H));D=ue.x,H=ue.y;var de=this.ctx.transform.applyToPoint(new o(0,Q)),_e=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(de.x-_e.x,2)+Math.pow(de.y-_e.y,2))}Math.abs(ae-Z)>=2*Math.PI&&(Z=0,ae=2*Math.PI),this.path.push({type:"arc",x:D,y:H,radius:Q,startAngle:Z,endAngle:ae,counterclockwise:K})},f.prototype.arcTo=function(D,H,Q,Z,ae){throw new Error("arcTo not implemented.")},f.prototype.rect=function(D,H,Q,Z){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,H),this.lineTo(D+Q,H),this.lineTo(D+Q,H+Z),this.lineTo(D,H+Z),this.lineTo(D,H),this.lineTo(D+Q,H),this.lineTo(D,H)},f.prototype.fillRect=function(D,H,Q,Z){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,H,Q,Z),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},f.prototype.strokeRect=function(D,H,Q,Z){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(D,H,Q,Z),this.stroke())},f.prototype.clearRect=function(D,H,Q,Z){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,H,Q,Z))},f.prototype.save=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(H),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(D){var H,Q,Z,ae;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))H=0,Q=0,Z=0,ae=0;else{var K=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(K!==null)H=parseInt(K[1]),Q=parseInt(K[2]),Z=parseInt(K[3]),ae=1;else if((K=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)H=parseInt(K[1]),Q=parseInt(K[2]),Z=parseInt(K[3]),ae=parseFloat(K[4]);else{if(ae=1,typeof D=="string"&&D.charAt(0)!=="#"){var ue=new t8(D);D=ue.ok?ue.toHex():"#000000"}D.length===4?(H=D.substring(1,2),H+=H,Q=D.substring(2,3),Q+=Q,Z=D.substring(3,4),Z+=Z):(H=D.substring(1,3),Q=D.substring(3,5),Z=D.substring(5,7)),H=parseInt(H,16),Q=parseInt(Q,16),Z=parseInt(Z,16)}}return{r:H,g:Q,b:Z,a:ae,style:D}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(D,H,Q,Z){if(isNaN(H)||isNaN(Q)||typeof D!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var ae=$(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;L.call(this,{text:D,x:H,y:Q,scale:K,angle:ae,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(D,H,Q,Z){if(isNaN(H)||isNaN(Q)||typeof D!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Z=isNaN(Z)?void 0:Z;var ae=$(this.ctx.transform.rotation),K=this.ctx.transform.scaleX;L.call(this,{text:D,x:H,y:Q,scale:K,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(D){if(typeof D!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,Q=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),ae=H.getStringUnitWidth(D)*Z/H.internal.scaleFactor;return new function(K){var ue=(K=K||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:ae*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(D,H){if(isNaN(D)||isNaN(H))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(D,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(D){if(isNaN(D))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.translate=function(D,H){if(isNaN(D)||isNaN(H))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,D,H);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(D,H,Q,Z,ae,K){if(isNaN(D)||isNaN(H)||isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(K))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(D,H,Q,Z,ae,K);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(D,H,Q,Z,ae,K){D=isNaN(D)?1:D,H=isNaN(H)?0:H,Q=isNaN(Q)?0:Q,Z=isNaN(Z)?1:Z,ae=isNaN(ae)?0:ae,K=isNaN(K)?0:K,this.ctx.transform=new l(D,H,Q,Z,ae,K)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(D,H,Q,Z,ae,K,ue,de,_e){var Ne=this.pdf.getImageProperties(D),he=1,Ee=1,ye=1,ee=1;Z!==void 0&&de!==void 0&&(ye=de/Z,ee=_e/ae,he=Ne.width/Z*de/Z,Ee=Ne.height/ae*_e/ae),K===void 0&&(K=H,ue=Q,H=0,Q=0),Z!==void 0&&de===void 0&&(de=Z,_e=ae),Z===void 0&&de===void 0&&(de=Ne.width,_e=Ne.height);for(var st,ct=this.ctx.transform.decompose(),Je=$(ct.rotate.shx),De=new l,ze=(De=(De=(De=De.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new a(K-H*ye,ue-Q*ee,Z*he,ae*Ee)),Ve=x.call(this,ze),Nt=[],Qe=0;Qe<Ve.length;Qe+=1)Nt.indexOf(Ve[Qe])===-1&&Nt.push(Ve[Qe]);if(N(Nt),this.autoPaging)for(var Jt=Nt[0],Pt=Nt[Nt.length-1],He=Jt;He<Pt+1;He++){this.pdf.setPage(He);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=He===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=He===1?0:ot+(He-2)*pt;if(this.ctx.clip_path.length!==0){var ln=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(st,this.posX+this.margin[3],-lt+At+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=ln}var Qt=JSON.parse(JSON.stringify(ze));Qt=b([Qt],this.posX+this.margin[3],-lt+At+this.ctx.prevPageLastElemOffset)[0];var Ye=(He>Jt||He<Pt)&&y.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,pt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Qt.x,Qt.y,Qt.w,Qt.h,null,null,Je),Ye&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,Je)};var x=function(D,H,Q){var Z=[];H=H||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":Z.push(Math.floor((D.y+ae)/Q)+1);break;case"arc":Z.push(Math.floor((D.y+ae-D.radius)/Q)+1),Z.push(Math.floor((D.y+ae+D.radius)/Q)+1);break;case"qct":var K=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);Z.push(Math.floor((K.y+ae)/Q)+1),Z.push(Math.floor((K.y+K.h+ae)/Q)+1);break;case"bct":var ue=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);Z.push(Math.floor((ue.y+ae)/Q)+1),Z.push(Math.floor((ue.y+ue.h+ae)/Q)+1);break;case"rect":Z.push(Math.floor((D.y+ae)/Q)+1),Z.push(Math.floor((D.y+D.h+ae)/Q)+1)}for(var de=0;de<Z.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Z[de];)w.call(this);return Z},w=function(){var D=this.fillStyle,H=this.strokeStyle,Q=this.font,Z=this.lineCap,ae=this.lineWidth,K=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=H,this.font=Q,this.lineCap=Z,this.lineWidth=ae,this.lineJoin=K},b=function(D,H,Q){for(var Z=0;Z<D.length;Z++)switch(D[Z].type){case"bct":D[Z].x2+=H,D[Z].y2+=Q;case"qct":D[Z].x1+=H,D[Z].y1+=Q;default:D[Z].x+=H,D[Z].y+=Q}return D},N=function(D){return D.sort(function(H,Q){return H-Q})},R=function(D,H){for(var Q,Z,ae=this.fillStyle,K=this.strokeStyle,ue=this.lineCap,de=this.lineWidth,_e=Math.abs(de*this.ctx.transform.scaleX),Ne=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),ye=[],ee=0;ee<Ee.length;ee++)if(Ee[ee].x!==void 0)for(var st=x.call(this,Ee[ee]),ct=0;ct<st.length;ct+=1)ye.indexOf(st[ct])===-1&&ye.push(st[ct]);for(var Je=0;Je<ye.length;Je++)for(;this.pdf.internal.getNumberOfPages()<ye[Je];)w.call(this);if(N(ye),this.autoPaging)for(var De=ye[0],ze=ye[ye.length-1],Ve=De;Ve<ze+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=ae,this.strokeStyle=K,this.lineCap=ue,this.lineWidth=_e,this.lineJoin=Ne;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=Ve===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=Ve===1?0:Jt+(Ve-2)*Pt;if(this.ctx.clip_path.length!==0){var _t=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-He+Qe+this.ctx.prevPageLastElemOffset),z.call(this,D,!0),this.path=_t}if(Z=JSON.parse(JSON.stringify(he)),this.path=b(Z,this.posX+this.margin[3],-He+Qe+this.ctx.prevPageLastElemOffset),H===!1||Ve===0){var At=(Ve>De||Ve<ze)&&y.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Pt,null).clip().discardPath()),z.call(this,D,H),At&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=_e,z.call(this,D,H),this.lineWidth=de;this.path=he},z=function(D,H){if((D!=="stroke"||H||!_.call(this))&&(D==="stroke"||H||!h.call(this))){for(var Q,Z,ae=[],K=this.path,ue=0;ue<K.length;ue++){var de=K[ue];switch(de.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:de,deltas:[],abs:[]});break;case"lt":var _e=ae.length;if(K[ue-1]&&!isNaN(K[ue-1].x)&&(Q=[de.x-K[ue-1].x,de.y-K[ue-1].y],_e>0)){for(;_e>=0;_e--)if(ae[_e-1].close!==!0&&ae[_e-1].begin!==!0){ae[_e-1].deltas.push(Q),ae[_e-1].abs.push(de);break}}break;case"bct":Q=[de.x1-K[ue-1].x,de.y1-K[ue-1].y,de.x2-K[ue-1].x,de.y2-K[ue-1].y,de.x-K[ue-1].x,de.y-K[ue-1].y],ae[ae.length-1].deltas.push(Q);break;case"qct":var Ne=K[ue-1].x+2/3*(de.x1-K[ue-1].x),he=K[ue-1].y+2/3*(de.y1-K[ue-1].y),Ee=de.x+2/3*(de.x1-de.x),ye=de.y+2/3*(de.y1-de.y),ee=de.x,st=de.y;Q=[Ne-K[ue-1].x,he-K[ue-1].y,Ee-K[ue-1].x,ye-K[ue-1].y,ee-K[ue-1].x,st-K[ue-1].y],ae[ae.length-1].deltas.push(Q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(de)}}Z=H?null:D==="stroke"?"stroke":"fill";for(var ct=!1,Je=0;Je<ae.length;Je++)if(ae[Je].arc)for(var De=ae[Je].abs,ze=0;ze<De.length;ze++){var Ve=De[ze];Ve.type==="arc"?k.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,H,!ct):O.call(this,Ve.x,Ve.y),ct=!0}else if(ae[Je].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ae[Je].begin!==!0){var Nt=ae[Je].start.x,Qe=ae[Je].start.y;W.call(this,ae[Je].deltas,Nt,Qe),ct=!0}Z&&P.call(this,Z),H&&M.call(this)}},U=function(D){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-Q;case"top":return D+H-Q;case"hanging":return D+H-2*Q;case"middle":return D+H/2-Q;default:return D}},I=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(H,Q){this.colorStops.push([H,Q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(D,H,Q,Z,ae,K,ue,de,_e){for(var Ne=fe.call(this,Q,Z,ae,K),he=0;he<Ne.length;he++){var Ee=Ne[he];he===0&&(_e?T.call(this,Ee.x1+D,Ee.y1+H):O.call(this,Ee.x1+D,Ee.y1+H)),le.call(this,D,H,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}de?M.call(this):P.call(this,ue)},P=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,H){this.pdf.internal.out(n(D)+" "+r(H)+" m")},L=function(D){var H;switch(D.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var Q=this.pdf.getTextDimensions(D.text),Z=U.call(this,D.y),ae=I.call(this,Z)-Q.h,K=this.ctx.transform.applyToPoint(new o(D.x,Z)),ue=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var _e,Ne,he,Ee=this.ctx.transform.applyToRectangle(new a(D.x,Z,Q.w,Q.h)),ye=de.applyToRectangle(new a(D.x,ae,Q.w,Q.h)),ee=x.call(this,ye),st=[],ct=0;ct<ee.length;ct+=1)st.indexOf(ee[ct])===-1&&st.push(ee[ct]);if(N(st),this.autoPaging)for(var Je=st[0],De=st[st.length-1],ze=Je;ze<De+1;ze++){this.pdf.setPage(ze);var Ve=ze===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[2],Jt=Qe-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],He=Pt-this.margin[3],_t=ze===1?0:Nt+(ze-2)*Jt;if(this.ctx.clip_path.length!==0){var At=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(_e,this.posX+this.margin[3],-1*_t+Ve),z.call(this,"fill",!0),this.path=At}var ot=b([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-_t+Ve+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*D.scale),he=this.lineWidth,this.lineWidth=he*D.scale);var pt=this.autoPaging!=="text";if(pt||ot.y+ot.h<=Qe){if(pt||ot.y>=Ve&&ot.x<=Pt){var lt=pt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||Pt-ot.x)[0],ln=b([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-_t+Ve+this.ctx.prevPageLastElemOffset)[0],Qt=pt&&(ze>Je||ze<De)&&y.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Jt,null).clip().discardPath()),this.pdf.text(lt,ln.x,ln.y,{angle:D.angle,align:H,renderingMode:D.renderingMode}),Qt&&this.pdf.restoreGraphicsState()}}else ot.y<Qe&&(this.ctx.prevPageLastElemOffset+=Qe-ot.y);D.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=he)}else D.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*D.scale),he=this.lineWidth,this.lineWidth=he*D.scale),this.pdf.text(D.text,K.x+this.posX,K.y+this.posY,{angle:D.angle,align:H,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=he)},O=function(D,H,Q,Z){Q=Q||0,Z=Z||0,this.pdf.internal.out(n(D+Q)+" "+r(H+Z)+" l")},W=function(D,H,Q){return this.pdf.lines(D,H,Q,null,null)},le=function(D,H,Q,Z,ae,K,ue,de){this.pdf.internal.out([e(i(Q+D)),e(s(Z+H)),e(i(ae+D)),e(s(K+H)),e(i(ue+D)),e(s(de+H)),"c"].join(" "))},fe=function(D,H,Q,Z){for(var ae=2*Math.PI,K=Math.PI/2;H>Q;)H-=ae;var ue=Math.abs(Q-H);ue<ae&&Z&&(ue=ae-ue);for(var de=[],_e=Z?-1:1,Ne=H;ue>1e-5;){var he=Ne+_e*Math.min(ue,K);de.push(oe.call(this,D,Ne,he)),ue-=Math.abs(he-Ne),Ne=he}return de},oe=function(D,H,Q){var Z=(Q-H)/2,ae=D*Math.cos(Z),K=D*Math.sin(Z),ue=ae,de=-K,_e=ue*ue+de*de,Ne=_e+ue*ae+de*K,he=4/3*(Math.sqrt(2*_e*Ne)-Ne)/(ue*K-de*ae),Ee=ue-he*de,ye=de+he*ue,ee=Ee,st=-ye,ct=Z+H,Je=Math.cos(ct),De=Math.sin(ct);return{x1:D*Math.cos(H),y1:D*Math.sin(H),x2:Ee*Je-ye*De,y2:Ee*De+ye*Je,x3:ee*Je-st*De,y3:ee*De+st*Je,x4:D*Math.cos(Q),y4:D*Math.sin(Q)}},$=function(D){return 180*D/Math.PI},te=function(D,H,Q,Z,ae,K){var ue=D+.5*(Q-D),de=H+.5*(Z-H),_e=ae+.5*(Q-ae),Ne=K+.5*(Z-K),he=Math.min(D,ae,ue,_e),Ee=Math.max(D,ae,ue,_e),ye=Math.min(H,K,de,Ne),ee=Math.max(H,K,de,Ne);return new a(he,ye,Ee-he,ee-ye)},se=function(D,H,Q,Z,ae,K,ue,de){var _e,Ne,he,Ee,ye,ee,st,ct,Je,De,ze,Ve,Nt,Qe,Jt=Q-D,Pt=Z-H,He=ae-Q,_t=K-Z,At=ue-ae,ot=de-K;for(Ne=0;Ne<41;Ne++)Je=(st=(he=D+(_e=Ne/40)*Jt)+_e*((ye=Q+_e*He)-he))+_e*(ye+_e*(ae+_e*At-ye)-st),De=(ct=(Ee=H+_e*Pt)+_e*((ee=Z+_e*_t)-Ee))+_e*(ee+_e*(K+_e*ot-ee)-ct),Ne==0?(ze=Je,Ve=De,Nt=Je,Qe=De):(ze=Math.min(ze,Je),Ve=Math.min(Ve,De),Nt=Math.max(Nt,Je),Qe=Math.max(Qe,De));return new a(Math.round(ze),Math.round(Ve),Math.round(Nt-ze),Math.round(Qe-Ve))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,H,Q=(D=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:H}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(at.API),function(t){var e=function(o){var a,l,c,d,f,g,h,_,y,x;for(l=[],c=0,d=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(f=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(x=f%85))/85)-(y=f%85))/85)-(_=f%85))/85)-(h=f%85))/85)%85,l.push(g+33,h+33,_+33,y+33,x+33)):l.push(122);return function(w,b){for(var N=b;N>0;N--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,d,f,g=String,h="length",_=255,y="charCodeAt",x="slice",w="replace";for(o[x](-2),o=o[x](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],d=0,f=(o+=a="uuuuu"[x](o[h]%5||5))[h];f>d;d+=5)l=52200625*(o[y](d)-33)+614125*(o[y](d+1)-33)+7225*(o[y](d+2)-33)+85*(o[y](d+3)-33)+(o[y](d+4)-33),c.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(b,N){for(var R=N;R>0;R--)b.pop()}(c,a[h]),g.fromCharCode.apply(g,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=u5(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,d){var f=new XMLHttpRequest,g=0,h=function(_){var y=_.length,x=[],w=String.fromCharCode;for(g=0;g<y;g+=1)x.push(w(255&_.charCodeAt(g)));return x.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):Es(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):Es(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=jn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function a(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(a(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return(d=d.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var _=d[h],y=_.src.find(function(x){return x.format==="truetype"});y&&c.addFont(y.url,_.ref.name,_.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,d){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,d){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(d,f){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,f).then(function(g){return c.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var d=this;a&&(a=a.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),g=c.call(f,a,l);return o.convert(g,d.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,at.getPageSize=function(a,l,c){if(jn(a)==="object"){var d=a;a=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var _,y=0,x=0;if(h.hasOwnProperty(g))y=h[g][1]/f,x=h[g][0]/f;else try{y=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",x>y&&(_=x,x=y,y=_);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>x&&(_=x,x=y,y=_)}return{width:x,height:y,unit:l,k:f,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(__):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(at.API),at.API.addJS=function(t){return ST=t,this.internal.events.subscribe("postPutResources",function(){Z0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Z0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ST+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Z0!==void 0&&bT!==void 0&&this.internal.out("/Names <</JavaScript "+Z0+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var f=n.internal.newObject();d.push(f);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var g,h=256*f.charCodeAt(4)+f.charCodeAt(5),_=f.length,y={width:0,height:0,numcomponents:1},x=4;x<_;x+=2){if(x+=h,e.indexOf(f.charCodeAt(x+1))!==-1){g=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),y={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:g,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return d}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=oee(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&l===1?function(I){for(var k=I.width,P=I.height,M=I.data,T=I.palette,L=I.depth,O=!1,W=[],le=[],fe=void 0,oe=!1,$=0,te=0;te<T.length;te++){var se=vC(T[te],4),ge=se[0],D=se[1],H=se[2],Q=se[3];W.push(ge,D,H),Q!=null&&(Q===0?($++,le.length<1&&le.push(te)):Q<255&&(oe=!0))}if(oe||$>1){O=!0,le=void 0;var Z=k*P;fe=new Uint8Array(Z);for(var ae=new DataView(M.buffer),K=0;K<Z;K++){var ue=b_(ae,K,L),de=vC(T[ue],4)[3];fe[K]=de}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:M,alphaBytes:fe,needSMask:O,palette:W,mask:le}}(s):l===2||l===4?function(I){for(var k=I.data,P=I.width,M=I.height,T=I.channels,L=I.depth,O=T===2?"DeviceGray":"DeviceRGB",W=T-1,le=P*M,fe=W,oe=le*fe,$=1*le,te=Math.ceil(oe*L/8),se=Math.ceil($*L/8),ge=new Uint8Array(te),D=new Uint8Array(se),H=new DataView(k.buffer),Q=new DataView(ge.buffer),Z=new DataView(D.buffer),ae=!1,K=0;K<le;K++){for(var ue=K*T,de=0;de<fe;de++)RT(Q,b_(H,ue+de,L),K*fe+de,L);var _e=b_(H,ue+fe,L);_e<(1<<L)-1&&(ae=!0),RT(Z,_e,1*K,L)}return{colorSpace:O,colorsPerPixel:W,colorBytes:ge,alphaBytes:D,needSMask:ae}}(s):function(I){var k=I.data,P=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:k instanceof Uint8Array?k:new Uint8Array(k.buffer),needSMask:!1}}(s);var f,g,h,_=i,y=_.colorSpace,x=_.colorsPerPixel,w=_.colorBytes,b=_.alphaBytes,N=_.needSMask,R=_.palette,z=_.mask,U=null;return r!==at.API.image_compression.NONE&&typeof u5=="function"?(U=function(I){var k;switch(I){case at.API.image_compression.FAST:k=11;break;case at.API.image_compression.MEDIUM:k=13;break;case at.API.image_compression.SLOW:k=14;break;default:k=12}return k}(r),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(U," "),t=CT(w,o*x,x,r),N&&(h=CT(b,o,1,r))):(f=void 0,g="",t=w,N&&(h=b)),g+="/Colors ".concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:t,index:e,filter:f,decodeParameters:g,transparency:z,palette:R,sMask:h,predictor:U,width:o,height:a,bitsPerComponent:d,colorSpace:y}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new Cee(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},d=new S_(100).encode(c,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),Bo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bo.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){$n.log("bit decode error:"+n)}},Bo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Bo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Bo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Bo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=c}this.pos+=t}},Bo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Bo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Bo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Bo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Bo(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new S_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(at.API),jT.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new jT(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new S_(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var d=r[c],f=r[c+1],g=r[c+2],h=r[c+3];s[a++]=d,s[a++]=f,s[a++]=g,o[l++]=h}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sh=at.API,ev=Sh.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=e.doKerning!==!1,g=0,h=t.length,_=0,y=a[0]||l,x=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=f&&jn(c[r])==="object"&&!isNaN(parseInt(c[r][_],10))?c[r][_]/d:0,x.push((a[r]||y)/l+g)),_=r;return x},ET=Sh.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Sh.processArabic&&(t=Sh.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ev.apply(this,arguments).reduce(function(s,o){return s+o},0)},NT=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},AT=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,d=[],f=[d],g=n.textIndent||0,h=0,_=0,y=t.split(" "),x=ev.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),b=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?b=b.concat(R.map(function(z,U){return(U&&z.length?`
`:"")+z})):b.push(R[0])}),y=b,l=ET.apply(this,[w,n])}for(s=0,o=y.length;s<o;s++){var N=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+h+(_=(i=ev.apply(this,[r,n])).reduce(function(R,z){return R+z},0))>e||N){if(_>e){for(a=NT.apply(this,[r,i,e-(g+h),e]),d.push(a.shift()),d=[a.pop()];a.length;)f.push([a.shift()]);_=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(R,z){return R+z},0)}else d=[r];f.push(d),g=_+l,h=x}else d.push(r),g+=h+_,h=x}return c=l?function(R,z){return(z?w:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(c)},Sh.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(AT.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var h,_,y,x,w=["{"];for(var b in g){if(h=g[b],isNaN(parseInt(b,10))?_="'"+b+"'":(b=parseInt(b,10),_=(_=o(b).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof h=="number")h<0?(y=o(h).slice(3),x="-"):(y=o(h).slice(2),x=""),y=x+y.slice(0,-1)+i[y.slice(-1)];else{if(jn(h)!=="object")throw new Error("Don't know what to do with value type "+jn(h)+".");y=a(h)}w.push(_+y)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,_,y,x,w={},b=1,N=w,R=[],z="",U="",I=g.length-1,k=1;k<I;k+=1)(x=g[k])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(R.push([N,y]),N={},y=void 0):x=="}"?((_=R.pop())[0][_[1]]=N,y=void 0,N=_[0]):x=="-"?b=-1:y===void 0?r.hasOwnProperty(x)?(z+=r[x],y=parseInt(z,16)*b,b=1,z=""):z+=x:r.hasOwnProperty(x)?(U+=r[x],N[y]=parseInt(U,16)*b,b=1,y=void 0,U=""):U+=x;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var h=g.font,_=f.Unicode[h.postScriptName];_&&(h.metadata.Unicode={},h.metadata.Unicode.widths=_.widths,h.metadata.Unicode.kerning=_.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Rv(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(jt.canvg?Promise.resolve(jt.canvg):Es(()=>import("./index.es-Cqt1cPHl.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,d=0,f=0;function g(_,y){var x,w=!1;for(x=0;x<_.length;x+=1)_[x]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=a.length;for(f=0;f<h;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(jn(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,y=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?y.push("/"+_+" /"+n[_].value):y.push("/"+_+" "+n[_].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,g=s.length;f<g;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(c[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,c,d,f,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(a=Object.keys(s).sort(function(h,_){return h-_})).length;f<g;f++)o=a[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",_=0;_<g.length;_++)h+=String.fromCharCode(g[_]);var y=c();d({data:h,addLength1:!0,objectId:y}),l("endobj");var x=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ch(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ch(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Ch(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,g="",h=0;h<f.length;h++)g+=String.fromCharCode(f[h]);var _=c();d({data:g,addLength1:!0,objectId:_}),l("endobj");var y=c();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Ch(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ch(a.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,d=s.options||{},f=s.mutex||{},g=f.pdfEscape,h=f.activeFontKey,_=f.fonts,y=h,x="",w=0,b="",N=_[y].encoding;if(_[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:d,mutex:f};for(b=a,y=h,Array.isArray(a)&&(b=a[0]),w=0;w<b.length;w+=1)_[y].metadata.hasOwnProperty("cmap")&&(o=_[y].metadata.cmap.unicode.codeMap[b[w].charCodeAt(0)]),o||b[w].charCodeAt(0)<256&&_[y].metadata.hasOwnProperty("Unicode")?x+=b[w]:x+="";var R="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?R=g(x,y).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=n(x,_[y])),f.isHex=!0,{text:R,x:l,y:c,options:d,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,d,f=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var R=function(T){var L=T.charCodeAt(),O=L>>8,W=y[O];return W!==void 0?f[256*W+(255&L)]:O===252||O===253?"AL":w.test(O)?"L":O===8?"R":"N"},z=function(T){for(var L,O=0;O<T.length;O++){if((L=R(T.charAt(O)))==="L")return!1;if(L==="R")return!0}return!1},U=function(T,L,O,W){var le,fe,oe,$,te=L[W];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":W<1||W+1>=L.length||(le=O[W-1])!=="EN"&&le!=="AN"||(fe=L[W+1])!=="EN"&&fe!=="AN"?te="N":b&&(fe="AN"),te=fe===le?fe:"N";break;case"ES":te=(le=W>0?O[W-1]:"B")==="EN"&&W+1<L.length&&L[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&O[W-1]==="EN"){te="EN";break}if(b){te="N";break}for(oe=W+1,$=L.length;oe<$&&L[oe]==="ET";)oe++;te=oe<$&&L[oe]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for($=L.length,oe=W+1;oe<$&&L[oe]==="NSM";)oe++;if(oe<$){var se=T[W],ge=se>=1425&&se<=2303||se===64286;if(le=L[oe],ge&&(le==="R"||le==="AL")){te="R";break}}}te=W<1||(le=L[W-1])==="B"?"N":O[W-1];break;case"B":b=!1,i=!0,te=N;break;case"S":s=!0,te="N"}return te},I=function(T,L,O){var W=T.split("");return O&&k(W,O,{hiLevel:N}),W.reverse(),L&&L.reverse(),W.join("")},k=function(T,L,O){var W,le,fe,oe,$,te=-1,se=T.length,ge=0,D=[],H=N?h:g,Q=[];for(b=!1,i=!1,s=!1,le=0;le<se;le++)Q[le]=R(T[le]);for(fe=0;fe<se;fe++){if($=ge,D[fe]=U(T,Q,D,fe),W=240&(ge=H[$][_[D[fe]]]),ge&=15,L[fe]=oe=H[ge][5],W>0)if(W===16){for(le=te;le<fe;le++)L[le]=1;te=-1}else te=-1;if(H[ge][6])te===-1&&(te=fe);else if(te>-1){for(le=te;le<fe;le++)L[le]=oe;te=-1}Q[fe]==="B"&&(L[fe]=0),O.hiLevel|=oe}s&&function(Z,ae,K){for(var ue=0;ue<K;ue++)if(Z[ue]==="S"){ae[ue]=N;for(var de=ue-1;de>=0&&Z[de]==="WS";de--)ae[de]=N}}(Q,L,se)},P=function(T,L,O,W,le){if(!(le.hiLevel<T)){if(T===1&&N===1&&!i)return L.reverse(),void(O&&O.reverse());for(var fe,oe,$,te,se=L.length,ge=0;ge<se;){if(W[ge]>=T){for($=ge+1;$<se&&W[$]>=T;)$++;for(te=ge,oe=$-1;te<oe;te++,oe--)fe=L[te],L[te]=L[oe],L[oe]=fe,O&&(fe=O[te],O[te]=O[oe],O[oe]=fe);ge=$}ge++}}},M=function(T,L,O){var W=T.split(""),le={hiLevel:N};return O||(O=[]),k(W,O,le),function(fe,oe,$){if($.hiLevel!==0&&d)for(var te,se=0;se<fe.length;se++)oe[se]===1&&(te=x.indexOf(fe[se]))>=0&&(fe[se]=x[te+1])}(W,O,le),P(2,W,L,O,le),P(1,W,L,O,le),W.join("")};return this.__bidiEngine__.doBidiReorder=function(T,L,O){if(function(le,fe){if(fe)for(var oe=0;oe<le.length;oe++)fe[oe]=oe;a===void 0&&(a=z(le)),c===void 0&&(c=z(le))}(T,L),o||!l||c)if(o&&l&&a^c)N=a?1:0,T=I(T,L,O);else if(!o&&l&&c)N=a?1:0,T=M(T,L,O),T=I(T,L);else if(!o||a||l||c){if(o&&!l&&a^c)T=I(T,L),a?(N=0,T=M(T,L,O)):(N=1,T=M(T,L,O),T=I(T,L));else if(o&&a&&!l&&c)N=1,T=M(T,L,O),T=I(T,L);else if(!o&&!l&&a^c){var W=d;a?(N=1,T=M(T,L,O),N=0,d=!1,T=M(T,L,O),d=W):(N=0,T=M(T,L,O),T=I(T,L),N=1,d=!1,T=M(T,L,O),d=W,T=I(T,L))}}else N=0,T=M(T,L,O);else N=a?1:0,T=M(T,L,O);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,d=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new _u(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new zee(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Tee(this.contents),this.head=new Pee(this),this.name=new Dee(this),this.cmap=new h8(this),this.toUnicode={},this.hhea=new Iee(this),this.maxp=new Oee(this),this.hmtx=new Mee(this),this.post=new Lee(this),this.os2=new Ree(this),this.loca=new Vee(this),this.glyf=new Fee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var la,_u=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Tee=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,d,f,g,h,_,y;for(y in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),d=16*h-f,(i=new _u).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),s=16*h,c=i.pos+s,a=null,_=[],n)for(g=n[y],i.writeString(y),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),_=_.concat(g),y==="head"&&(a=c),c+=g.length;c%4;)_.push(0),c++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=f8.call(n);n.length%4;)n.push(0);for(s=new _u(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),kee={}.hasOwnProperty,cl=function(t,e){for(var n in e)kee.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};la=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Pee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new _u).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),DT=function(){function t(e,n){var r,i,s,o,a,l,c,d,f,g,h,_,y,x,w,b,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),g=h/2,e.pos+=6,s=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),e.pos+=2,y=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),c=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),d=function(){var R,z;for(z=[],l=R=0;0<=g?R<g:R>g;l=0<=g?++R:--R)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,z;for(z=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)z.push(e.readUInt16());return z}(),l=w=0,N=s.length;w<N;l=++w)for(x=s[l],r=b=_=y[l];_<=x?b<=x:b>=x;r=_<=x?++b:--b)d[l]===0?o=r+c[l]:(o=a[d[l]/2+(r-_)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,s,o,a,l,c,d,f,g,h,_,y,x,w,b,N,R,z,U,I,k,P,M,T,L,O,W,le,fe,oe,$,te,se,ge,D,H,Q,Z,ae,K,ue,de,_e,Ne,he;switch(W=new _u,o=Object.keys(e).sort(function(Ee,ye){return Ee-ye}),n){case"macroman":for(y=0,x=function(){var Ee=[];for(_=0;_<256;++_)Ee.push(0);return Ee}(),b={0:0},s={},le=0,te=o.length;le<te;le++)b[de=e[i=o[le]]]==null&&(b[de]=++y),s[i]={old:e[i],new:b[e[i]]},x[i]=b[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(x),{charMap:s,subtable:W.data,maxGlyphID:y+1};case"unicode":for(L=[],f=[],N=0,b={},r={},w=c=null,fe=0,se=o.length;fe<se;fe++)b[z=e[i=o[fe]]]==null&&(b[z]=++N),r[i]={old:z,new:b[z]},a=b[z]-i,w!=null&&a===c||(w&&f.push(w),L.push(i),c=a),w=i;for(w&&f.push(w),f.push(65535),L.push(65535),M=2*(P=L.length),k=2*Math.pow(Math.log(P)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,I=2*P-k,l=[],U=[],h=[],_=oe=0,ge=L.length;oe<ge;_=++oe){if(T=L[_],d=f[_],T===65535){l.push(0),U.push(0);break}if(T-(O=r[T].new)>=32768)for(l.push(0),U.push(2*(h.length+P-_)),i=$=T;T<=d?$<=d:$>=d;i=T<=d?++$:--$)h.push(r[i].new);else l.push(O-T),U.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*P+2*h.length),W.writeUInt16(0),W.writeUInt16(M),W.writeUInt16(k),W.writeUInt16(g),W.writeUInt16(I),K=0,D=f.length;K<D;K++)i=f[K],W.writeUInt16(i);for(W.writeUInt16(0),ue=0,H=L.length;ue<H;ue++)i=L[ue],W.writeUInt16(i);for(_e=0,Q=l.length;_e<Q;_e++)a=l[_e],W.writeUInt16(a);for(Ne=0,Z=U.length;Ne<Z;Ne++)R=U[Ne],W.writeUInt16(R);for(he=0,ae=h.length;he<ae;he++)y=h[he],W.writeUInt16(y);return{charMap:r,subtable:W.data,maxGlyphID:N+1}}},t}(),h8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new DT(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=DT.encode(e,n),(i=new _u).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),Iee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Ree=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Lee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),jee=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Dee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,c,d,f,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=d=0,f=r.length;d<f;s=++d)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new jee(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),Oee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Mee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,f,g;for(g=[],c=0,d=(f=this.metrics).length;c<d;c++)s=f[c],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),f8=[].slice,Fee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,c,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new _u(n.read(i))).readShort(),c=a.readShort(),f=a.readShort(),l=a.readShort(),d=a.readShort(),this.cache[e]=o===-1?new Uee(a,c,f,l,d):new Bee(a,o,c,f,l,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),Bee=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Uee=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new _u(f8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Vee=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return cl(t,la),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),d=0;d<r.length;++d)c[4*d+3]=255&r[d],c[4*d+2]=(65280&r[d])>>8,c[4*d+1]=(16711680&r[d])>>16,c[4*d]=(4278190080&r[d])>>24;return c},t}(),zee=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,d,f,g,h,_,y,x,w;for(i in r=h8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},w=r.charMap)h[(l=w[i]).old]=l.new;for(_ in g=r.maxGlyphID,o)_ in h||(h[_]=g++);return d=function(b){var N,R;for(N in R={},b)R[b[N]]=N;return R}(h),f=Object.keys(d).sort(function(b,N){return b-N}),y=function(){var b,N,R;for(R=[],b=0,N=f.length;b<N;b++)a=f[b],R.push(d[a]);return R}(),s=this.font.glyf.encode(o,y,h),c=this.font.loca.encode(s.offsets,y),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function p8(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,d=/\r\n|\r|\n/g,f="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(f=typeof t=="string"?t.split(d):t,g=f.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*c:r.valign==="bottom"&&(n-=g*c),r.halign==="center"||r.halign==="right"){var h=a;if(r.halign==="center"&&(h*=.5),f&&g>=1){for(var _=0;_<f.length;_++)i.text(f[_],e-i.getStringUnitWidth(f[_])*h,n),n+=c;return i}e-=i.getStringUnitWidth(t)*h}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var OT={},uf=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:OT=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var d=t.unifyColor(e.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return OT||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),E5=function(t,e){return E5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},E5(t,e)};function m8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var g8=function(t){m8(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function $ee(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function qee(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function M1(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function v8(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=y8(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function y8(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function d2(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function w8(t,e){var n=d2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Hee(t,e,n,r,i){var s={},o=1.3333333333333333,a=E_(e,function(N){return i.getComputedStyle(N).backgroundColor});a!=null&&(s.fillColor=a);var l=E_(e,function(N){return i.getComputedStyle(N).color});l!=null&&(s.textColor=l);var c=Gee(r,n);c&&(s.cellPadding=c);var d="borderTopColor",f=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var h=(parseFloat(g)||0)/f;h&&(s.lineWidth=h)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/f,right:(parseFloat(r.borderRightWidth)||0)/f,bottom:(parseFloat(r.borderBottomWidth)||0)/f,left:(parseFloat(r.borderLeftWidth)||0)/f},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var _=E_(e,function(N){return i.getComputedStyle(N)[d]});_!=null&&(s.lineColor=_);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var x=parseInt(r.fontSize||"");isNaN(x)||(s.fontSize=x/o);var w=Wee(r);w&&(s.fontStyle=w);var b=(r.fontFamily||"").toLowerCase();return t.indexOf(b)!==-1&&(s.font=b),s}function Wee(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function E_(t,e){var n=_8(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function _8(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:_8(t.parentElement,e):n}function Gee(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=d2(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function x8(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),d=[],f=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:g};for(var h=0;h<a.rows.length;h++){var _=a.rows[h],y=(o=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=Kee(l,c,n,_,r,i);x&&(y==="thead"?d.push(x):y==="tfoot"?g.push(x):f.push(x))}return{head:d,body:f,foot:g}}function Kee(t,e,n,r,i,s){for(var o=new g8(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(i||c.display!=="none"){var d=void 0;s&&(d=Hee(t,l,e,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Yee(l)})}}var f=n.getComputedStyle(r);if(o.length>0&&(i||f.display!=="none"))return o}function Yee(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Qee(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Fl(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function b8(t,e){var n=new uf(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Qee(i,r,e);var s=Fl({},i,r,e),o;typeof window<"u"&&(o=window);var a=Xee(i,r,e),l=Jee(i,r,e),c=Zee(n,s),d=tte(n,s,o);return{id:e.tableId,content:d,hooks:l,styles:a,settings:c}}function Xee(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],d=e[l],f=n[l];r.columnStyles=Fl({},c,d,f)}else{var g=[t,e,n],h=g.map(function(_){return _[l]||{}});r[l]=Fl({},h[0],h[1],h[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function Jee(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Zee(t,e){var n,r,i,s,o,a,l,c,d,f,g,h,_=d2(e.margin,40/t.scaleFactor()),y=(n=ete(t,e.startY))!==null&&n!==void 0?n:_.top,x;e.showFoot===!0?x="everyPage":e.showFoot===!1?x="never":x=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var b=(s=e.useCss)!==null&&s!==void 0?s:!1,N=e.theme||(b?"plain":"striped"),R=!!e.horizontalPageBreak,z=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:b,theme:N,startY:y,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:w,showFoot:x,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:R,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function ete(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function tte(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=x8(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||nte(r,i,s);return{columns:l,head:r,body:i,foot:s}}function nte(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=i.length:c=s+(l>0?"_".concat(l):"");var d={dataKey:c};i.push(d)}}),i}var N5=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),rte=function(t){m8(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(N5),ite=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],d=new rte(e,this,r,i,s,o),f=c(d)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new N5(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new N5(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),S8=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof g8&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},t}(),E8=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=d2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),ste=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function ote(t,e){ate(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=A5(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=A5(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),cte(e),ute(e,t),lte(e)}function ate(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=w8(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var d=e.hooks.didParseCell;e.callCellHooks(t,d,c,s,l,null);var f=c.padding("horizontal");c.contentWidth=M1(c.text,c.styles,t)+f;var g=M1(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/n;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function A5(t,e,n){for(var r=e,i=t.reduce(function(h,_){return h+_.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,c=o.width+l,d=n(o),f=c<d?d:c;e-=f-o.width,o.width=f}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(h){return e<0?h.width>n(h):!0});g.length&&(e=A5(g,e,n))}return e}function lte(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var f=r.length-i,g=d.rowSpan>f?f:d.rowSpan;e[l.index]={cell:d,left:g,row:s}}}}}function cte(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+s}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function ute(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,d+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=MT(c.text,d,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=MT(c.text,d,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,d);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<g*c.rowSpan?n={height:g,count:c.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function MT(t,e,n,r,i){return t.map(function(s){return dte(s,e,n,r,i)})}function dte(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=M1(t,n,r))return t;for(;e<M1(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function N8(t,e){var n=new uf(t),r=hte(e,n.scaleFactor()),i=new ite(e,r);return ote(n,i),n.applyStyles(n.userStyles),i}function hte(t,e){var n=t.content,r=pte(n.columns);if(n.head.length===0){var i=FT(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=FT(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:N_("head",n.head,r,o,s,e),body:N_("body",n.body,r,o,s,e),foot:N_("foot",n.foot,r,o,s,e)}}function N_(t,e,n,r,i,s){var o={},a=e.map(function(l,c){for(var d=0,f={},g=0,h=0,_=0,y=n;_<y.length;_++){var x=y[_];if(o[x.index]==null||o[x.index].left===0)if(h===0){var w=void 0;Array.isArray(l)?w=l[x.index-g-d]:w=l[x.dataKey];var b={};typeof w=="object"&&!Array.isArray(w)&&(b=(w==null?void 0:w.styles)||{});var N=mte(t,x,c,i,r,s,b),R=new E8(w,N,t);f[x.dataKey]=R,f[x.index]=R,h=R.colSpan-1,o[x.index]={left:R.rowSpan-1,times:h}}else h--,g++;else o[x.index].left--,h=o[x.index].times,d++}return new S8(l,c,t,f)});return a}function FT(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=fte(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function fte(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function pte(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new ste(i,e,n)})}function mte(t,e,n,r,i,s,o){var a=qee(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Fl({},a.table,a[t],i.styles,l),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},f=t==="body"?d:{},g=t==="body"&&n%2===0?Fl({},a.alternateRow,i.alternateRowStyles):{},h=$ee(s),_=Fl({},h,c,g,f);return Fl(_,o)}function gte(t,e,n){var r;n===void 0&&(n={});var i=w8(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var h=e.columns.find(function(_){return _.dataKey===g||_.index===g});h&&!s.has(h.index)&&(s.set(h.index,!0),o.push(h.index),a.push(e.columns[h.index]),i-=h.wrappedWidth)});for(var c=!0,d=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;d<e.columns.length;){if(s.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(c||i>=f)c=!1,o.push(d),a.push(e.columns[d]),i-=f;else break;d++}return{colIndexes:o,columns:a,lastIndex:d-1}}function vte(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=gte(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function A8(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(g,h){return g+h.height},0);a+=c}var d=new uf(t);(n.pageBreak==="always"||n.startY!=null&&a>d.pageSize().height)&&(T8(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var f=Fl({},s);e.startPageNumber=d.pageNumber(),n.horizontalPageBreak?yte(d,e,f,s):(d.applyStyles(d.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return Ql(d,e,g,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(g,h){var _=h===e.body.length-1;F1(d,e,g,_,f,s,e.columns)}),d.applyStyles(d.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ql(d,e,g,s,e.columns)})),v8(d,e,f,s),e.callEndPageHooks(d,s),e.finalY=s.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function yte(t,e,n,r){var i=vte(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,d){t.applyStyles(t.userStyles),d>0?bm(t,e,n,r,c.columns,!0):BT(t,e,r,c.columns),wte(t,e,n,r,c.columns),A_(t,e,r,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){t.applyStyles(t.userStyles);var d=a.columns;o>=0?bm(t,e,n,r,d,!0):BT(t,e,r,d),c=UT(t,e,o+1,r,d),A_(t,e,r,d)}var f=c-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),bm(t,e,n,r,g.columns,!0),UT(t,e,o+1,r,g.columns,f),A_(t,e,r,g.columns)}),o=c};o<e.body.length-1;)l()}function BT(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ql(t,e,s,n,r)})}function wte(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;F1(t,e,s,a,n,r,i)})}function UT(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,c){var d=n+c===e.body.length-1,f=C8(t,e,d,r);l.canEntireRowFit(f,i)&&(Ql(t,e,l,r,i),a=n+c)}),a}function A_(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ql(t,e,s,n,r)})}function _te(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function xte(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new E8(c.raw,c.styles,c.section);d=Fl(d,c),d.text=[];var f=_te(c,e,r);c.text.length>f&&(d.text=c.text.splice(f,c.text.length));var g=r.scaleFactor(),h=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,h),c.contentHeight>=e&&(c.contentHeight=e,d.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),d.contentHeight=d.getContentHeight(g,h),d.contentHeight>s&&(s=d.contentHeight),i[l.index]=d}}var _=new S8(t.raw,-1,t.section,i,!0);_.height=s;for(var y=0,x=n.columns;y<x.length;y++){var l=x[y],d=_.cells[l.index];d&&(d.height=_.height);var c=t.cells[l.index];c&&(c.height=t.height)}return _}function bte(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=e.hasRowSpan(r.columns),f=e.getMaxCellHeight(r.columns)>a;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||r.settings.rowPageBreak==="avoid")}function F1(t,e,n,r,i,s,o){var a=C8(t,e,r,s);if(n.canEntireRowFit(a,o))Ql(t,e,n,s,o);else if(bte(t,n,a,e)){var l=xte(n,a,e,t);Ql(t,e,n,s,o),bm(t,e,i,s,o),F1(t,e,l,r,i,s,o)}else bm(t,e,i,s,o),F1(t,e,n,r,i,s,o)}function Ql(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}Ste(t,l,r);var d=l.getTextPos();p8(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function Ste(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=y8(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),Ete(t,e,n,r.lineWidth))}function Ete(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(c,d,f,g,h){t.getDocument().setLineWidth(c),t.getDocument().line(d,f,g,h,"S")}}function C8(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function bm(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Ql(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;v8(t,e,n,r),T8(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Ql(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function T8(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function Nte(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=b8(this,r),s=N8(this,i);return A8(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){p8(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return uf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){uf.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new uf(this),s=x8(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var C_;function h2(t,e){var n=b8(t,e),r=N8(t,n);A8(t,r)}try{if(typeof window<"u"&&window){var VT=window,zT=VT.jsPDF||((C_=VT.jspdf)===null||C_===void 0?void 0:C_.jsPDF);zT&&Nte(zT)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Vf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Vf||(Vf={}));class T_ extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Ate=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Cte=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:Ate(t),s=()=>i()!=="web",o=f=>{const g=c.get(f);return!!(g!=null&&g.platforms.has(i())||a(f))},a=f=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(h=>h.name===f)},l=f=>t.console.error(f),c=new Map,d=(f,g={})=>{const h=c.get(f);if(h)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),h.proxy;const _=i(),y=a(f);let x;const w=async()=>(!x&&_ in g?x=typeof g[_]=="function"?x=await g[_]():x=g[_]:e!==null&&!x&&"web"in g&&(x=typeof g.web=="function"?x=await g.web():x=g.web),x),b=(k,P)=>{var M,T;if(y){const L=y==null?void 0:y.methods.find(O=>P===O.name);if(L)return L.rtype==="promise"?O=>n.nativePromise(f,P.toString(),O):(O,W)=>n.nativeCallback(f,P.toString(),O,W);if(k)return(M=k[P])===null||M===void 0?void 0:M.bind(k)}else{if(k)return(T=k[P])===null||T===void 0?void 0:T.bind(k);throw new T_(`"${f}" plugin is not implemented on ${_}`,Vf.Unimplemented)}},N=k=>{let P;const M=(...T)=>{const L=w().then(O=>{const W=b(O,k);if(W){const le=W(...T);return P=le==null?void 0:le.remove,le}else throw new T_(`"${f}.${k}()" is not implemented on ${_}`,Vf.Unimplemented)});return k==="addListener"&&(L.remove=async()=>P()),L};return M.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:k,writable:!1,configurable:!1}),M},R=N("addListener"),z=N("removeListener"),U=(k,P)=>{const M=R({eventName:k},P),T=async()=>{const O=await M;z({eventName:k,callbackId:O},P)},L=new Promise(O=>M.then(()=>O({remove:T})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await T()},L},I=new Proxy({},{get(k,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?U:R;case"removeListener":return z;default:return N(P)}}});return r[f]=I,c.set(f,{name:f,proxy:I,platforms:new Set([...Object.keys(g),...y?[_]:[]])}),I};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=i,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=T_,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Tte=t=>t.Capacitor=Cte(t),il=Tte(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),f2=il.registerPlugin;class k8{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new il.Exception(e,Vf.Unimplemented)}unavailable(e="not available"){return new il.Exception(e,Vf.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const $T=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qT=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class kte extends k8{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=qT(i).trim(),s=qT(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=$T(e.key),r=$T(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}f2("CapacitorCookies",{web:()=>new kte});const Pte=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Ite=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=t[e[o]],i),{})},Rte=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,o]=i;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${s}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${s}=${a}`),`${r}&${l}`},"").substr(1):null,Lte=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Ite(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))s.set(o,a);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(t.data))s.append(a,t.data[a]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class jte extends k8{async request(e){const n=Lte(e,e.webFetchExtra),r=Rte(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await Pte(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const d={};return s.headers.forEach((f,g)=>{d[g]=f}),{data:l,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}f2("CapacitorHttp",{web:()=>new jte});function Dte(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,i){return(s,o,a)=>{const l=t.Capacitor.Plugins[n];if(l===void 0){a(new Error(`Capacitor plugin ${n} not found`));return}if(typeof l[i]!="function"){a(new Error(`Method ${i} not found in Capacitor plugin ${n}`));return}(async()=>{try{const c=await l[i](s);o(c)}catch(c){a(c)}})()}}})}})}function Ote(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function Mte(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?Dte(window):window.cordova!==void 0&&Ote(window))}var As;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(As||(As={}));var HT;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(HT||(HT={}));const Co=f2("Filesystem",{web:()=>Es(()=>import("./web-BgSh0h8q.js"),[]).then(t=>new t.FilesystemWeb)});Mte();const cu=t=>{const e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear();return`${e}/${n}/${r}`},p2=t=>{const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)},P8=async t=>{const{getBillsByCustomer:e,getCustomerBalance:n,getPayments:r}=await Es(async()=>{const{getBillsByCustomer:y,getCustomerBalance:x,getPayments:w}=await Promise.resolve().then(()=>OS);return{getBillsByCustomer:y,getCustomerBalance:x,getPayments:w}},void 0),i=e(t),s=n(t),o=r().filter(y=>y.customerId===t);if(i.length===0)return{success:!1,message:"No bills found for this customer"};const a=new at;a.setFontSize(18),a.setFont("helvetica","bold"),a.text(s.customerName,20,20),a.setFontSize(12),a.setFont("helvetica","normal"),a.text("Customer Summary Report",20,32),a.setFontSize(14),a.setFont("helvetica","normal"),a.text(`Date: ${cu(new Date)}`,20,50);const l=[],c=[...i].sort((y,x)=>new Date(y.date).getTime()-new Date(x.date).getTime()),d=[...o].sort((y,x)=>new Date(y.date).getTime()-new Date(x.date).getTime());let f=0;c.forEach((y,x)=>{const w=y.items.map(R=>`${R.itemName} (${R.quantity})`).join(", ");let b="-",N="-";if(f<d.length){const R=d[f++];b=cu(new Date(R.date)),N=`Rs. ${R.amount.toFixed(2)}`}l.push([x+1,cu(new Date(y.date)),w.length>30?w.substring(0,30)+"...":w,`Rs. ${y.grandTotal.toFixed(2)}`,b,N])}),h2(a,{head:[["Sr No","Date1","Item Name","Total","Date2","Jama"]],body:l,startY:65,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[52,73,190],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},tableLineWidth:.1,showHead:"everyPage",pageBreak:"auto",columnStyles:{0:{halign:"center",cellWidth:15},1:{cellWidth:22},2:{cellWidth:35},3:{halign:"right",cellWidth:20},4:{cellWidth:22},5:{halign:"right",cellWidth:20}}});const g=a.lastAutoTable.finalY+10;a.setFontSize(12),a.setFont("helvetica","bold"),a.text("Summary",20,g),a.setFontSize(10),a.setFont("helvetica","normal");const h=g+10;a.text(`Total Sales: Rs. ${s.totalSales.toFixed(2)}`,20,h),a.text(`Total Paid: Rs. ${s.totalPaid.toFixed(2)}`,20,h+10),s.pending>0?(a.setTextColor(255,0,0),a.text(`Pending Amount: Rs. ${s.pending.toFixed(2)}`,20,h+20)):s.pending<0?(a.setTextColor(0,128,0),a.text(`Advance Amount: Rs. ${Math.abs(s.pending).toFixed(2)}`,20,h+20)):(a.setTextColor(0,128,0),a.text("Payment Status: Cleared",20,h+20)),a.setTextColor(0,0,0),a.setFontSize(8),a.setFont("helvetica","normal"),a.text("Thank you for your business!",105,a.internal.pageSize.height-20,{align:"center"});const _=`${s.customerName}_Summary_${new Date().toISOString().split("T")[0]}.pdf`;try{if(il.isNativePlatform()){const y=a.output("arraybuffer"),x=p2(y);await Co.writeFile({path:_,data:x,directory:As.Cache});const w=await Co.getUri({directory:As.Cache,path:_}),{Share:b}=await Es(async()=>{const{Share:N}=await Promise.resolve().then(()=>zf);return{Share:N}},void 0);return await b.share({title:"Customer Summary PDF",text:`Summary for ${s.customerName}`,url:w.uri,dialogTitle:"Save or Share PDF"}),{success:!0,message:"PDF ready - choose where to save it!"}}else return a.save(_),{success:!0,message:"Summary downloaded successfully"}}catch(y){return console.error("Error saving PDF:",y),{success:!1,message:"Failed to save summary PDF. Please try again."}}},Fte=async t=>{const e=localStorage.getItem("pdfSettings"),n=e?JSON.parse(e):{headerColor:"#3449be",textColor:"#000000",companyName:"Prakashbhai Bill Buddy",tableHeaders:{srNo:"Sr No",itemName:"Item Name",quantity:"Quantity",rate:"Rate",total:"Total"}},r=new at,i=f=>{const g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return g?[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]:[52,73,190]},s=i(n.headerColor),o=i(n.textColor);r.setFontSize(18),r.setFont("helvetica","bold"),r.setTextColor(o[0],o[1],o[2]),r.text(n.companyName,20,20),r.setFontSize(14),r.setFont("helvetica","normal"),r.text(t.customerName,20,32),r.setFontSize(12),r.text(`Date: ${cu(new Date(t.date))}`,20,44),t.particulars&&(r.setFontSize(10),r.text(`Particulars: ${t.particulars}`,20,54));const a=t.items.map((f,g)=>[g+1,f.itemName,f.quantity.toString(),`Rs. ${f.rate.toFixed(2)}`,`Rs. ${f.total.toFixed(2)}`]),l=t.items.reduce((f,g)=>f+g.total,0);h2(r,{head:[[n.tableHeaders.srNo,n.tableHeaders.itemName,n.tableHeaders.quantity,n.tableHeaders.rate,n.tableHeaders.total]],body:a,startY:t.particulars?64:54,theme:"grid",styles:{fontSize:10,cellPadding:3,textColor:o},headStyles:{fillColor:s,textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},tableLineWidth:.1,showHead:"everyPage",pageBreak:"auto"});let c=r.lastAutoTable.finalY+10;if(r.setTextColor(o[0],o[1],o[2]),t.discount&&t.discount>0){r.setFontSize(10),r.text(`Subtotal: Rs. ${l.toFixed(2)}`,20,c),c+=7;const f=t.discountType==="percentage"?l*t.discount/100:t.discount,g=t.discountType==="percentage"?`Discount (${t.discount}%):`:"Discount:";r.text(`${g} -Rs. ${f.toFixed(2)}`,20,c),c+=10}r.setFontSize(12),r.setFont("helvetica","bold"),r.text(`Grand Total: Rs. ${t.grandTotal.toFixed(2)}`,20,c),r.setFontSize(8),r.setFont("helvetica","normal"),r.text("Thank you for your business!",105,r.internal.pageSize.height-20,{align:"center"});const d=`${t.customerName}_${new Date(t.date).toISOString().split("T")[0]}_${t.id}.pdf`;try{if(il.isNativePlatform()){const f=r.output("arraybuffer"),g=p2(f);await Co.writeFile({path:d,data:g,directory:As.Cache});const h=await Co.getUri({directory:As.Cache,path:d}),{Share:_}=await Es(async()=>{const{Share:y}=await Promise.resolve().then(()=>zf);return{Share:y}},void 0);return await _.share({title:"Bill PDF",text:`Bill for ${t.customerName}`,url:h.uri,dialogTitle:"Save or Share PDF"}),{success:!0,message:"PDF ready - choose where to save it!"}}else return r.save(d),{success:!0,message:"Bill downloaded successfully"}}catch(f){return console.error("Error saving PDF:",f),{success:!1,message:"Failed to save PDF. Please try again."}}},Bte=async(t,e)=>{const n=new at;n.setFontSize(18),n.setFont("helvetica","bold"),n.text("Pending Amounts Report",20,20),n.setFontSize(14),n.setFont("helvetica","normal"),n.text(`Date: ${cu(new Date)}`,20,35);const r=t.map((o,a)=>[a+1,o.customerName,`Rs. ${o.pending.toFixed(2)}`]);h2(n,{head:[["Sr No","Customer Name","Pending Amount"]],body:r,startY:50,theme:"grid",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[52,73,190],textColor:255,fontStyle:"bold"}});const i=n.lastAutoTable.finalY+10;n.setFontSize(12),n.setFont("helvetica","bold"),n.text(`Total Pending: Rs. ${e.toFixed(2)}`,20,i);const s=`Pending_Amounts_${new Date().toISOString().split("T")[0]}.pdf`;try{if(il.isNativePlatform()){const o=n.output("arraybuffer"),a=p2(o);await Co.writeFile({path:s,data:a,directory:As.Cache});const l=await Co.getUri({directory:As.Cache,path:s}),{Share:c}=await Es(async()=>{const{Share:d}=await Promise.resolve().then(()=>zf);return{Share:d}},void 0);return await c.share({title:"Pending Amounts Report",text:`Pending amounts report generated on ${cu(new Date)}`,url:l.uri,dialogTitle:"Save or Share PDF"}),{success:!0,message:"PDF ready - choose where to save it!"}}else return n.save(s),{success:!0,message:"Pending amounts report downloaded successfully"}}catch(o){return console.error("Error saving PDF:",o),{success:!1,message:"Failed to save pending amounts report. Please try again."}}},Ute=async(t,e)=>{const n=new at;n.setFontSize(18),n.setFont("helvetica","bold"),n.text("Advance Amounts Report",20,20),n.setFontSize(14),n.setFont("helvetica","normal"),n.text(`Date: ${cu(new Date)}`,20,35);const r=t.map((o,a)=>[a+1,o.customerName,`Rs. ${Math.abs(o.pending).toFixed(2)}`]);h2(n,{head:[["Sr No","Customer Name","Advance Amount"]],body:r,startY:50,theme:"grid",styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[52,73,190],textColor:255,fontStyle:"bold"}});const i=n.lastAutoTable.finalY+10;n.setFontSize(12),n.setFont("helvetica","bold"),n.text(`Total Advance: Rs. ${e.toFixed(2)}`,20,i);const s=`Advance_Amounts_${new Date().toISOString().split("T")[0]}.pdf`;try{if(il.isNativePlatform()){const o=n.output("arraybuffer"),a=p2(o);await Co.writeFile({path:s,data:a,directory:As.Cache});const l=await Co.getUri({directory:As.Cache,path:s}),{Share:c}=await Es(async()=>{const{Share:d}=await Promise.resolve().then(()=>zf);return{Share:d}},void 0);return await c.share({title:"Advance Amounts Report",text:`Advance amounts report generated on ${cu(new Date)}`,url:l.uri,dialogTitle:"Save or Share PDF"}),{success:!0,message:"PDF ready - choose where to save it!"}}else return n.save(s),{success:!0,message:"Advance amounts report downloaded successfully"}}catch(o){return console.error("Error saving PDF:",o),{success:!1,message:"Failed to save advance amounts report. Please try again."}}},Vte=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(null),[s,o]=E.useState(""),[a,l]=E.useState(new Date),[c,d]=E.useState(""),[f,g]=E.useState([{id:"1",itemName:"",quantity:0,rate:0,total:0}]),[h,_]=E.useState(!1),[y,x]=E.useState(!1),[w,b]=E.useState([]),[N,R]=E.useState([]),[z,U]=E.useState(!1),[I,k]=E.useState({name:"",type:"variable",rate:""}),[P,M]=E.useState(null),[T,L]=E.useState(""),[O,W]=E.useState("percentage");E.useRef({}),E.useEffect(()=>{le(),fe(),oe()},[]);const le=()=>{const he=rs();n(he)},fe=()=>{const he=Ns();b(he)},oe=()=>{const he=DS(5);R(he)},$=he=>TL(he),te=(he,Ee)=>{const ye=[...f];ye[he]={...ye[he],itemName:Ee.name,rate:Ee.type==="fixed"&&Ee.rate?Ee.rate:0,total:Ee.type==="fixed"&&Ee.rate?ye[he].quantity*Ee.rate:0},g(ye),M(null)},se=()=>{if(!I.name.trim()){Ht({title:"Error",description:"Item name is required",variant:"destructive"});return}if(I.type==="fixed"&&(!I.rate||parseFloat(I.rate)<=0)){Ht({title:"Error",description:"Rate is required for fixed-price items",variant:"destructive"});return}const he={name:I.name.trim(),type:I.type,...I.type==="fixed"&&{rate:parseFloat(I.rate)}};try{const Ee=LS(he);fe(),P!==null&&te(P,Ee),k({name:"",type:"variable",rate:""}),U(!1),Ht({title:"Success",description:"Item added to master and available for selection"})}catch(Ee){Ee&&Ee.message==="DUPLICATE_ITEM_NAME"?Ht({title:"An item with this name already exists",description:"Please use a different name",variant:"destructive"}):Ht({title:"Error",description:"Failed to add item",variant:"destructive"})}},ge=(he,Ee)=>{const ye=[...f];ye[he].itemName=Ee,g(ye)},D=(he,Ee)=>{const ye=parseFloat(Ee)||0,ee=[...f];ee[he].quantity=ye,ee[he].total=ye*ee[he].rate,g(ee)},H=(he,Ee)=>{const ye=parseFloat(Ee)||0,ee=[...f];ee[he].rate=ye,ee[he].total=ee[he].quantity*ye,g(ee)},Q=()=>{const he={id:Date.now().toString(),itemName:"",quantity:0,rate:0,total:0};g([...f,he])},Z=he=>{f.length>1&&g(f.filter((Ee,ye)=>ye!==he))},ae=()=>{const he=f.reduce((ee,st)=>ee+st.total,0),Ee=parseFloat(T)||0,ye=O==="percentage"?he*Ee/100:Ee;return he-ye},K=()=>{const he=f.reduce((ye,ee)=>ye+ee.total,0),Ee=parseFloat(T)||0;return O==="percentage"?he*Ee/100:Ee},ue=()=>r?f.filter(Ee=>!Ee.itemName.trim()||Ee.quantity<=0||Ee.rate<=0).length>0?(Ht({title:"Error",description:"Please fill in all item details with valid values",variant:"destructive"}),!1):!0:(Ht({title:"Error",description:"Please select a customer",variant:"destructive"}),!1),de=async()=>{if(ue()){_(!0);try{const he=parseFloat(T)||0,Ee={customerId:r.id,customerName:r.name,date:a.toISOString().split("T")[0],particulars:c,items:f,...he>0&&{discount:he,discountType:O},grandTotal:ae(),status:"unpaid"};Xx(Ee),Ht({title:"Success",description:"Bill saved successfully"}),i(null),l(new Date),d(""),g([{id:"1",itemName:"",quantity:0,rate:0,total:0}]),L(""),W("percentage")}catch{Ht({title:"Error",description:"Failed to save bill. Please try again.",variant:"destructive"})}finally{_(!1)}}},_e=async()=>{if(ue()){_(!0);try{const he=parseFloat(T)||0,Ee={customerId:r.id,customerName:r.name,date:a.toISOString().split("T")[0],particulars:c,items:f,...he>0&&{discount:he,discountType:O},grandTotal:ae(),status:"unpaid"},ye=Xx(Ee),ee=await Fte(ye);ee.success?(Ht({title:"Success",description:ee.message}),i(null),l(new Date),d(""),g([{id:"1",itemName:"",quantity:0,rate:0,total:0}]),L(""),W("percentage")):Ht({title:"Error",description:ee.message,variant:"destructive"})}catch{Ht({title:"Error",description:"Failed to generate PDF. Please try again.",variant:"destructive"})}finally{_(!1)}}},Ne=({index:he,item:Ee})=>{const[ye,ee]=E.useState(!1),[st,ct]=E.useState(""),Je=st?$(st):[],De=w.find(ze=>ze.name===Ee.itemName);return u.jsxs(Jm,{open:ye,onOpenChange:ee,children:[u.jsx(Zm,{asChild:!0,children:u.jsxs("div",{className:"relative",children:[u.jsx(Kt,{value:Ee.itemName,onChange:ze=>{ge(he,ze.target.value),ct(ze.target.value),M(he),ze.target.value&&!ye&&ee(!0)},placeholder:"Search or type item name...",className:"pr-10",required:!0}),u.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex gap-1",children:[De&&u.jsx(vm,{variant:"outline",className:"text-xs",children:De.type==="fixed"?"₹":"📝"}),u.jsx(Xd,{className:"w-4 h-4 text-muted-foreground"})]})]})}),u.jsx(Of,{className:"w-80 p-0",align:"start",children:u.jsxs(VL,{children:[u.jsx(zL,{placeholder:"Search items...",value:st,onValueChange:ct}),u.jsxs($L,{children:[Je.length>0&&u.jsx(Cv,{heading:"Available Items",children:Je.map(ze=>u.jsx(Tv,{onSelect:()=>{te(he,ze),ee(!1),ct("")},children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vm,{variant:ze.type==="fixed"?"default":"secondary",children:ze.type==="fixed"?"₹":"📝"}),u.jsx("span",{children:ze.name})]}),ze.type==="fixed"&&ze.rate&&u.jsxs("span",{className:"text-sm font-medium",children:["₹",ze.rate]})]})},ze.id))}),N.length>0&&!st&&u.jsx(Cv,{heading:"Most Used Items",children:N.map(ze=>{const Ve=w.find(Nt=>Nt.name===ze.itemName);return u.jsx(Tv,{onSelect:()=>{Ve?te(he,Ve):ge(he,ze.itemName),ee(!1),ct("")},children:u.jsxs("div",{className:"flex items-center justify-between w-full",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[Ve&&u.jsx(vm,{variant:Ve.type==="fixed"?"default":"secondary",children:Ve.type==="fixed"?"₹":"📝"}),u.jsx("span",{children:ze.itemName})]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["Used ",ze.usageCount,"x"]})]})},ze.itemId)})}),st&&!Je.some(ze=>ze.name.toLowerCase()===st.toLowerCase())&&u.jsx(Cv,{heading:"Actions",children:u.jsxs(Tv,{onSelect:()=>{M(he),k({...I,name:st}),U(!0),ee(!1),ct("")},children:[u.jsx(Id,{className:"w-4 h-4 mr-2"}),'Add "',st,'" as new item']})}),Je.length===0&&!st&&u.jsx(qL,{children:"Start typing to search items..."})]})]})})]})};return u.jsxs("div",{className:"min-h-screen bg-background p-4",children:[u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Create Bill"}),u.jsx("p",{className:"text-muted-foreground",children:"Create a new bill with smart item selection"})]})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Bill Details"}),u.jsx(ni,{children:"Fill in the customer and item information"})]}),u.jsxs(xt,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"customer",children:"Customer"}),u.jsxs(Zi,{value:(r==null?void 0:r.id)||"",onValueChange:he=>{if(he==="new")x(!0);else{const Ee=e.find(ye=>ye.id===he);i(Ee||null)}},children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select a customer"})}),u.jsxs(ji,{children:[e.map(he=>u.jsx(gn,{value:he.id,children:he.name},he.id)),u.jsx(gn,{value:"new",children:"+ Add New Customer"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"billDate",children:"Bill Date"}),u.jsx(rf,{date:a,onDateChange:he=>l(he||new Date),placeholder:"Select bill date",className:"w-full"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"particulars",children:"Particulars (Optional)"}),u.jsx(MS,{id:"particulars",value:c,onChange:he=>d(he.target.value),placeholder:"Enter bill particulars...",rows:2})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Lt,{className:"text-base font-semibold",children:"Items"}),u.jsxs(Le,{variant:"outline",size:"sm",onClick:Q,children:[u.jsx(Id,{className:"w-4 h-4 mr-2"}),"Add Item"]})]}),u.jsx("div",{className:"space-y-3",children:f.map((he,Ee)=>u.jsx(yt,{className:"p-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-end",children:[u.jsxs("div",{className:"md:col-span-4 space-y-1",children:[u.jsx(Lt,{className:"text-sm",children:"Item Name"}),u.jsx(Ne,{index:Ee,item:he})]}),u.jsxs("div",{className:"md:col-span-2 space-y-1",children:[u.jsx(Lt,{className:"text-sm",children:"Quantity"}),u.jsx(Kt,{type:"number",value:he.quantity||"",onChange:ye=>D(Ee,ye.target.value),placeholder:"Qty",required:!0,min:"0",step:"0.01"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-1",children:[u.jsx(Lt,{className:"text-sm",children:"Rate"}),u.jsx(Kt,{type:"number",value:he.rate||"",onChange:ye=>H(Ee,ye.target.value),placeholder:"Rate",required:!0,min:"0",step:"0.01"})]}),u.jsxs("div",{className:"md:col-span-2 space-y-1",children:[u.jsx(Lt,{className:"text-sm",children:"Total"}),u.jsxs("div",{className:"p-2 bg-muted rounded-md text-sm font-medium",children:["₹",he.total.toFixed(2)]})]}),u.jsx("div",{className:"md:col-span-2 flex justify-end",children:u.jsx(Le,{variant:"outline",size:"sm",onClick:()=>Z(Ee),disabled:f.length===1,children:u.jsx(qa,{className:"w-4 h-4"})})})]})},he.id))})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Discount Type"}),u.jsxs(Zi,{value:O,onValueChange:he=>W(he),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"percentage",children:"Percentage (%)"}),u.jsx(gn,{value:"flat",children:"Flat Amount (₹)"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Discount Value"}),u.jsx(Kt,{type:"number",value:T,onChange:he=>L(he.target.value),placeholder:O==="percentage"?"Enter %":"Enter ₹",min:"0",step:"0.01"})]}),(parseFloat(T)||0)>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Discount Amount"}),u.jsxs("div",{className:"p-2 bg-muted rounded-md text-sm font-medium",children:["-₹",K().toFixed(2)]})]})]}),u.jsx(FS,{}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Subtotal: ₹",f.reduce((he,Ee)=>he+Ee.total,0).toFixed(2)]}),(parseFloat(T)||0)>0&&u.jsxs("p",{className:"text-sm text-destructive",children:["Discount: -₹",K().toFixed(2)]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Grand Total"}),u.jsxs("p",{className:"text-2xl font-bold",children:["₹",ae().toFixed(2)]})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsxs(Le,{onClick:de,disabled:h,className:"flex-1",children:[u.jsx(Ig,{className:"w-4 h-4 mr-2"}),h?"Saving...":"Save Bill"]}),u.jsxs(Le,{onClick:_e,disabled:h,variant:"outline",className:"flex-1",children:[u.jsx(Zf,{className:"w-4 h-4 mr-2"}),h?"Generating...":"Save as PDF"]})]})]})]})]}),u.jsx(bo,{open:y,onOpenChange:x,children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Add New Customer"}),u.jsx(So,{children:"Enter the customer name to add them to your list"})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx(Lt,{htmlFor:"newCustomerName",children:"Customer Name"}),u.jsx(Kt,{id:"newCustomerName",value:s,onChange:he=>o(he.target.value),placeholder:"Enter customer name"})]})}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>{x(!1),o("")},children:"Cancel"}),u.jsx(Le,{onClick:()=>{if(s.trim())try{const he=IS({name:s.trim()});i(he),le(),o(""),x(!1),Ht({title:"Success",description:"Customer added successfully"})}catch(he){he&&he.message==="DUPLICATE_CUSTOMER_NAME"?Ht({title:"A customer with this name already exists",description:"Please use a different name",variant:"destructive"}):Ht({title:"Error",description:"Failed to add customer",variant:"destructive"})}},children:"Add Customer"})]})]})}),u.jsx(bo,{open:z,onOpenChange:U,children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Add New Item"}),u.jsx(So,{children:"Add this item to your master list"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Lt,{children:"Item Name"}),u.jsx(Kt,{value:I.name,onChange:he=>k(Ee=>({...Ee,name:he.target.value})),placeholder:"Enter item name"})]}),u.jsxs("div",{children:[u.jsx(Lt,{children:"Price Type"}),u.jsxs(Zi,{value:I.type,onValueChange:he=>k(Ee=>({...Ee,type:he,...he==="variable"&&{rate:""}})),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"fixed",children:"₹ Fixed Price"}),u.jsx(gn,{value:"variable",children:"📝 Variable Price"})]})]})]}),I.type==="fixed"&&u.jsxs("div",{children:[u.jsx(Lt,{children:"Default Rate"}),u.jsx(Kt,{type:"number",value:I.rate,onChange:he=>k(Ee=>({...Ee,rate:he.target.value})),placeholder:"Enter default rate"})]})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),u.jsx(Le,{onClick:se,children:"Add to Master"})]})]})})]})},lp="recycle_bin",I8=30*24*60*60*1e3,qg=()=>{try{const t=localStorage.getItem(lp);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading recycle bin:",t),[]}},zte=(t,e,n)=>{const r=qg(),i={id:crypto.randomUUID(),type:t,data:e,deletedAt:new Date().toISOString(),displayName:n};r.push(i),localStorage.setItem(lp,JSON.stringify(r)),R8()},$te=t=>{try{const e=qg(),n=e.findIndex(i=>i.id===t);if(n===-1)return!1;const r=e[n];switch(r.type){case"customer":{const i=JSON.parse(localStorage.getItem("customers")||"[]");i.push(r.data),localStorage.setItem("customers",JSON.stringify(i));break}case"bill":{const i=JSON.parse(localStorage.getItem("bills")||"[]");i.push(r.data),localStorage.setItem("bills",JSON.stringify(i));break}case"payment":{const i=JSON.parse(localStorage.getItem("payments")||"[]");i.push(r.data),localStorage.setItem("payments",JSON.stringify(i));break}}return e.splice(n,1),localStorage.setItem(lp,JSON.stringify(e)),window.dispatchEvent(new Event("storage")),!0}catch(e){return console.error("Error restoring item:",e),!1}},qte=t=>{try{const n=qg().filter(r=>r.id!==t);return localStorage.setItem(lp,JSON.stringify(n)),!0}catch(e){return console.error("Error permanently deleting item:",e),!1}},Hte=()=>{localStorage.setItem(lp,JSON.stringify([]))},R8=()=>{const t=qg(),e=Date.now(),n=t.filter(i=>{const s=new Date(i.deletedAt).getTime();return e-s<I8}),r=t.length-n.length;return r>0&&localStorage.setItem(lp,JSON.stringify(n)),r},Wte=t=>{const e=new Date(t).getTime(),r=Date.now()-e,i=I8-r;return Math.max(0,Math.ceil(i/(24*60*60*1e3)))};var L8="AlertDialog",[Gte,Bde]=sa(L8,[V6]),rc=V6(),j8=t=>{const{__scopeAlertDialog:e,...n}=t,r=rc(e);return u.jsx(bS,{...r,...n,modal:!0})};j8.displayName=L8;var Kte="AlertDialogTrigger",Yte=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=rc(n);return u.jsx(fW,{...i,...r,ref:e})});Yte.displayName=Kte;var Qte="AlertDialogPortal",D8=t=>{const{__scopeAlertDialog:e,...n}=t,r=rc(e);return u.jsx(SS,{...r,...n})};D8.displayName=Qte;var Xte="AlertDialogOverlay",O8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=rc(n);return u.jsx(Yy,{...i,...r,ref:e})});O8.displayName=Xte;var df="AlertDialogContent",[Jte,Zte]=Gte(df),ene=iR("AlertDialogContent"),M8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=rc(n),o=E.useRef(null),a=Xt(e,o),l=E.useRef(null);return u.jsx(cW,{contentName:df,titleName:F8,docsSlug:"alert-dialog",children:u.jsx(Jte,{scope:n,cancelRef:l,children:u.jsxs(Qy,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:ft(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(ene,{children:r}),u.jsx(nne,{contentRef:o})]})})})});M8.displayName=df;var F8="AlertDialogTitle",B8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=rc(n);return u.jsx(ES,{...i,...r,ref:e})});B8.displayName=F8;var U8="AlertDialogDescription",V8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=rc(n);return u.jsx(NS,{...i,...r,ref:e})});V8.displayName=U8;var tne="AlertDialogAction",z8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=rc(n);return u.jsx(AS,{...i,...r,ref:e})});z8.displayName=tne;var $8="AlertDialogCancel",q8=E.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=Zte($8,n),s=rc(n),o=Xt(e,i);return u.jsx(AS,{...s,...r,ref:o})});q8.displayName=$8;var nne=({contentRef:t})=>{const e=`\`${df}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${df}\` by passing a \`${U8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${df}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},rne=j8,ine=D8,H8=O8,W8=M8,G8=z8,K8=q8,Y8=B8,Q8=V8;const C5=rne,sne=ine,X8=E.forwardRef(({className:t,...e},n)=>u.jsx(H8,{className:We("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));X8.displayName=H8.displayName;const B1=E.forwardRef(({className:t,...e},n)=>u.jsxs(sne,{children:[u.jsx(X8,{}),u.jsx(W8,{ref:n,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));B1.displayName=W8.displayName;const U1=({className:t,...e})=>u.jsx("div",{className:We("flex flex-col space-y-2 text-center sm:text-left",t),...e});U1.displayName="AlertDialogHeader";const V1=({className:t,...e})=>u.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});V1.displayName="AlertDialogFooter";const z1=E.forwardRef(({className:t,...e},n)=>u.jsx(Y8,{ref:n,className:We("text-lg font-semibold",t),...e}));z1.displayName=Y8.displayName;const $1=E.forwardRef(({className:t,...e},n)=>u.jsx(Q8,{ref:n,className:We("text-sm text-muted-foreground",t),...e}));$1.displayName=Q8.displayName;const q1=E.forwardRef(({className:t,...e},n)=>u.jsx(G8,{ref:n,className:We(Xm(),t),...e}));q1.displayName=G8.displayName;const H1=E.forwardRef(({className:t,...e},n)=>u.jsx(K8,{ref:n,className:We(Xm({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));H1.displayName=K8.displayName;const one=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(null),{toast:c}=nc(),d=E.useRef(null),f=E.useRef(!1);E.useEffect(()=>{n(rs())},[]);const g=()=>{if(!r.trim()){c({title:"Invalid Customer Name",description:"Please enter a customer name",variant:"destructive"});return}try{const w=IS({name:r.trim(),...s.trim()&&{phone:s.trim()}});n([...e,w]),i(""),o(""),c({title:"Customer Added",description:`${w.name} has been added successfully`})}catch(w){w&&w.message==="DUPLICATE_CUSTOMER_NAME"?c({title:"A customer with this name already exists",description:"Please use a different name",variant:"destructive"}):c({title:"Error",description:"Failed to add customer",variant:"destructive"})}},h=w=>{w.key==="Enter"&&g()},_=w=>{f.current=!1,d.current=setTimeout(()=>{f.current=!0,l(w)},500)},y=()=>{d.current&&(clearTimeout(d.current),d.current=null)},x=()=>{if(a)try{zte("customer",a,a.name);const w=e.filter(b=>b.id!==a.id);n(w),localStorage.setItem("customers",JSON.stringify(w)),c({title:"Customer Deleted",description:`${a.name} has been moved to recycle bin`}),l(null)}catch{c({title:"Error",description:"Failed to delete customer",variant:"destructive"})}};return u.jsxs("div",{className:"min-h-screen bg-background p-6",children:[u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"outline",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Customer Management"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Id,{className:"w-5 h-5"}),"Add New Customer"]})}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx(Lt,{htmlFor:"customerName",children:"Customer Name"}),u.jsx(Kt,{id:"customerName",placeholder:"Enter customer name",value:r,onChange:w=>i(w.target.value),onKeyPress:h,className:"mt-1"})]}),u.jsxs("div",{children:[u.jsx(Lt,{htmlFor:"customerPhone",children:"Phone Number (Optional)"}),u.jsx(Kt,{id:"customerPhone",placeholder:"Enter phone number",value:s,onChange:w=>o(w.target.value),onKeyPress:h,className:"mt-1"})]}),u.jsxs(Le,{onClick:g,disabled:!r.trim(),className:"w-full",children:[u.jsx(Id,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]})})]}),u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Ux,{className:"w-5 h-5"}),"Customer List (",e.length,")"]})}),u.jsx(xt,{children:e.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(Ux,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"No customers added yet"}),u.jsx("p",{className:"text-sm",children:"Add your first customer above"})]}):u.jsx("div",{className:"space-y-2",children:e.map((w,b)=>u.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors active:bg-muted cursor-pointer select-none",onTouchStart:()=>_(w),onTouchEnd:y,onTouchCancel:y,onMouseDown:()=>_(w),onMouseUp:y,onMouseLeave:y,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary",children:b+1})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:w.name}),w.phone&&u.jsxs("p",{className:"text-sm text-accent",children:["📱 ",w.phone]}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Added on ",(()=>{const N=new Date(w.createdAt),R=N.getDate().toString().padStart(2,"0"),z=(N.getMonth()+1).toString().padStart(2,"0"),U=N.getFullYear();return`${R}/${z}/${U}`})()]})]})]})},w.id))})})]})]})]}),u.jsx(C5,{open:!!a,onOpenChange:w=>!w&&l(null),children:u.jsxs(B1,{children:[u.jsxs(U1,{children:[u.jsx(z1,{children:"Delete Customer"}),u.jsxs($1,{children:['Are you sure you want to delete "',a==null?void 0:a.name,'"? This customer will be moved to the recycle bin for 30 days.']})]}),u.jsxs(V1,{children:[u.jsx(H1,{children:"Cancel"}),u.jsx(q1,{onClick:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})},J8=f2("Share",{web:()=>Es(()=>import("./web-BV8xS9vt.js"),[]).then(t=>new t.ShareWeb)}),zf=Object.freeze(Object.defineProperty({__proto__:null,Share:J8},Symbol.toStringTag,{value:"Module"})),Z8=async(t,e,n)=>{try{const r=t.replace(/\D/g,"");if(il.isNativePlatform())await J8.share({text:e,url:n,dialogTitle:"Share via WhatsApp"});else{const i=encodeURIComponent(e),s=`https://wa.me/${r}?text=${i}`;window.open(s,"_blank")}return{success:!0,message:"Opened WhatsApp successfully"}}catch(r){return console.error("WhatsApp share error:",r),{success:!1,message:"Failed to open WhatsApp"}}},ane=t=>{const e=t.items.map((r,i)=>`${i+1}. ${r.itemName} - Qty: ${r.quantity} @ ₹${r.rate} = ₹${r.total}`).join(`
`);let n=`📄 *Bill from Prakash Bhai Bill Buddy*

`;if(n+=`Customer: ${t.customerName}
`,n+=`Date: ${new Date(t.date).toLocaleDateString("en-IN")}
`,t.particulars&&(n+=`Details: ${t.particulars}
`),n+=`
*Items:*
${e}

`,t.discount){const r=t.discountType==="percentage"?t.items.reduce((i,s)=>i+s.total,0)*t.discount/100:t.discount;n+=`Discount: ${t.discountType==="percentage"?`${t.discount}%`:`₹${t.discount}`} = ₹${r.toFixed(2)}
`}return n+=`
*Grand Total: ₹${t.grandTotal.toFixed(2)}*

`,n+="Thank you for your business! 🙏",n},lne=(t,e)=>`🔔 *Payment Reminder*

Dear ${t},

This is a friendly reminder that you have a pending payment of *₹${e.toFixed(2)}*.

Please make the payment at your earliest convenience.

Thank you! 🙏

- Prakash Bhai Bill Buddy`,cne=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(""),[s,o]=E.useState(null),[a,l]=E.useState([]),{toast:c}=nc();E.useEffect(()=>{const g=rs();n(g),l(e2())},[]),E.useEffect(()=>{if(r){const g=Zy(r);o(g)}else o(null)},[r]);const d=async g=>{try{const h=await P8(g);h.success?c({title:"Summary Generated",description:h.message}):c({title:"Error",description:h.message,variant:"destructive"})}catch{c({title:"Error",description:"Failed to generate summary PDF",variant:"destructive"})}},f=a.reduce((g,h)=>({totalSales:g.totalSales+h.totalSales,totalPaid:g.totalPaid+h.totalPaid,totalPending:g.totalPending+(h.pending>0?h.pending:0),totalAdvance:g.totalAdvance+(h.pending<0?Math.abs(h.pending):0)}),{totalSales:0,totalPaid:0,totalPending:0,totalAdvance:0});return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"outline",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Balance Tracker"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Zf,{className:"w-5 h-5"}),"Customer Balance Details"]})}),u.jsx(xt,{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Select Customer"}),u.jsxs(Zi,{value:r,onValueChange:i,children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select customer to view details"})}),u.jsx(ji,{children:e.map(g=>u.jsx(gn,{value:g.id,children:g.name},g.id))})]})]})})]}),s&&u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Balance Details - ",s.customerName]}),u.jsxs("div",{className:"flex gap-2",children:[s.pending>0&&u.jsxs(Le,{onClick:async()=>{const g=e.find(h=>h.id===s.customerId);if(g!=null&&g.phone){const h=lne(s.customerName,s.pending);await Z8(g.phone,h)}else c({title:"No phone number",description:"This customer has no phone number",variant:"destructive"})},variant:"outline",className:"flex items-center gap-2",children:[u.jsx(LV,{className:"w-4 h-4"}),"Send Reminder"]}),u.jsxs(Le,{onClick:()=>d(s.customerId),className:"flex items-center gap-2",children:[u.jsx(w1,{className:"w-4 h-4"}),"Generate PDF"]})]})]})}),u.jsx(xt,{children:u.jsx(MS,{readOnly:!0,value:`Customer: ${s.customerName}
Total Sales: ₹${s.totalSales.toFixed(2)}
Total Paid: ₹${s.totalPaid.toFixed(2)}
${s.pending>0?`Pending Amount: ₹${s.pending.toFixed(2)}`:s.pending<0?`Advance Amount: ₹${Math.abs(s.pending).toFixed(2)}`:"No Pending Amount"}

Payment Status: ${s.pending>0?"Outstanding":s.pending<0?"Advance Given":"Cleared"}`,className:"h-32"})})]}),u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsx(An,{children:"All Customers Summary"})}),u.jsx(xt,{children:u.jsx("div",{className:"space-y-3",children:a.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No customer data available"}):a.map(g=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium",children:g.customerName}),u.jsxs("div",{className:"flex gap-4 text-sm",children:[u.jsxs("span",{className:"text-muted-foreground",children:["Sales: ₹",g.totalSales.toFixed(2)]}),u.jsxs("span",{className:"text-accent",children:["Paid: ₹",g.totalPaid.toFixed(2)]}),g.pending>0?u.jsxs("span",{className:"font-medium text-destructive",children:["Pending: ₹",g.pending.toFixed(2)]}):g.pending<0?u.jsxs("span",{className:"font-medium text-accent",children:["Advance: ₹",Math.abs(g.pending).toFixed(2)]}):u.jsx("span",{className:"font-medium text-accent",children:"Cleared"})]})]},g.customerId))})})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Dy,{className:"w-5 h-5"}),"Overall Summary"]})}),u.jsx(xt,{className:"space-y-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/5 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:"Total Sales"}),u.jsxs("span",{className:"font-bold text-primary",children:["₹",f.totalSales.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-accent/5 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:"Total Paid"}),u.jsxs("span",{className:"font-bold text-accent",children:["₹",f.totalPaid.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center p-3 bg-destructive/5 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:"Total Pending"}),u.jsxs("span",{className:"font-bold text-destructive",children:["₹",f.totalPending.toFixed(2)]})]}),f.totalAdvance>0&&u.jsxs("div",{className:"flex justify-between items-center p-3 bg-accent/5 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:"Total Advance"}),u.jsxs("span",{className:"font-bold text-accent",children:["₹",f.totalAdvance.toFixed(2)]})]})]})})]}),f.totalPending>0&&u.jsx(yt,{className:"border-destructive/20 bg-destructive/5",children:u.jsxs(xt,{className:"pt-6",children:[u.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[u.jsx(kV,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Outstanding Amount"})]}),u.jsxs("p",{className:"text-2xl font-bold text-destructive mt-2",children:["₹",f.totalPending.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.filter(g=>g.pending>0).length," customers have pending payments"]})]})})]})]})]})})},une=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(new Date),[c,d]=E.useState("Cash"),[f,g]=E.useState([]),{toast:h}=nc();E.useEffect(()=>{const w=rs();n(w),_()},[]);const _=()=>{const w=bL();g(w)},y=async()=>{if(!r||!s){h({title:"Missing Information",description:"Please select a customer and enter an amount",variant:"destructive"});return}const w=parseFloat(s);if(isNaN(w)||w<=0){h({title:"Invalid Amount",description:"Please enter a valid positive amount",variant:"destructive"});return}const b=e.find(R=>R.id===r);if(!b)return;const{savePayment:N}=await Es(async()=>{const{savePayment:R}=await Promise.resolve().then(()=>OS);return{savePayment:R}},void 0);N({customerId:r,customerName:b.name,amount:w,date:a.toISOString().split("T")[0],paymentMethod:c}),_(),h({title:"Payment Recorded",description:`₹${w.toFixed(2)} recorded for ${b.name}`}),o("")},x=w=>{RS(w),_(),h({title:"Payment Deleted",description:"Payment record has been deleted"})};return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"outline",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Amount Paid/Not Paid"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(DR,{className:"w-5 h-5"}),"Record Payment"]})}),u.jsxs(xt,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Select Customer"}),u.jsxs(Zi,{value:r,onValueChange:i,children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select customer"})}),u.jsx(ji,{children:e.map(w=>u.jsx(gn,{value:w.id,children:w.name},w.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Amount Paid"}),u.jsx(Kt,{type:"number",placeholder:"Enter amount",value:s,onChange:w=>o(w.target.value),step:"0.01",min:"0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Payment Date"}),u.jsxs(Jm,{children:[u.jsx(Zm,{asChild:!0,children:u.jsxs(Le,{variant:"outline",className:We("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[u.jsx(v1,{className:"mr-2 h-4 w-4"}),a?ta(a,"dd/MM/yyyy"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(Of,{className:"w-auto p-0",align:"start",children:u.jsx(tg,{mode:"single",selected:a,onSelect:w=>w&&l(w),initialFocus:!0,className:We("p-3 pointer-events-auto")})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Payment Method"}),u.jsxs(Zi,{value:c,onValueChange:w=>d(w),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"Cash",children:"Cash"}),u.jsx(gn,{value:"UPI",children:"UPI"}),u.jsx(gn,{value:"Bank Transfer",children:"Bank Transfer"}),u.jsx(gn,{value:"Cheque",children:"Cheque"}),u.jsx(gn,{value:"Other",children:"Other"})]})]})]}),u.jsxs(Le,{onClick:y,className:"w-full",children:[u.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Record Payment"]})]})]}),u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsx(An,{children:"Payment History"})}),u.jsx(xt,{children:u.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No payment records found"}):f.map(w=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:w.customerName}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[(()=>{const b=new Date(w.date),N=b.getDate().toString().padStart(2,"0"),R=(b.getMonth()+1).toString().padStart(2,"0"),z=b.getFullYear();return`${N}/${R}/${z}`})(),w.paymentMethod&&` • ${w.paymentMethod}`]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"font-bold text-accent",children:["₹",w.amount.toFixed(2)]}),u.jsx(Le,{variant:"outline",size:"sm",onClick:()=>x(w.id),children:u.jsx(qa,{className:"w-4 h-4"})})]})]},w.id))})})]})]})]})})},dne=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(""),[s,o]=E.useState(void 0),[a,l]=E.useState(void 0),[c,d]=E.useState(null),{toast:f}=nc();E.useEffect(()=>{const h=rs();n(h)},[]),E.useEffect(()=>{if(r&&s&&a){const h=Zy(r);d(h)}else d(null)},[r,s,a]);const g=async h=>{try{const _=await P8(h);_.success?f({title:"Summary Generated",description:_.message}):f({title:"Error",description:_.message,variant:"destructive"})}catch{f({title:"Error",description:"Failed to generate summary PDF",variant:"destructive"})}};return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"outline",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Last Balance"})]}),u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Zf,{className:"w-5 h-5"}),"Last Balance Report"]})}),u.jsxs(xt,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Start Date"}),u.jsxs(Jm,{children:[u.jsx(Zm,{asChild:!0,children:u.jsxs(Le,{variant:"outline",className:We("w-full justify-start text-left font-normal",!s&&"text-muted-foreground"),children:[u.jsx(v1,{className:"mr-2 h-4 w-4"}),s?ta(s,"dd/MM/yyyy"):u.jsx("span",{children:"Pick start date"})]})}),u.jsx(Of,{className:"w-auto p-0",align:"start",children:u.jsx(tg,{mode:"single",selected:s,onSelect:o,initialFocus:!0,className:We("p-3 pointer-events-auto")})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"End Date"}),u.jsxs(Jm,{children:[u.jsx(Zm,{asChild:!0,children:u.jsxs(Le,{variant:"outline",className:We("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[u.jsx(v1,{className:"mr-2 h-4 w-4"}),a?ta(a,"dd/MM/yyyy"):u.jsx("span",{children:"Pick end date"})]})}),u.jsx(Of,{className:"w-auto p-0",align:"start",children:u.jsx(tg,{mode:"single",selected:a,onSelect:l,initialFocus:!0,className:We("p-3 pointer-events-auto")})})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Select Customer"}),u.jsxs(Zi,{value:r,onValueChange:i,children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select customer to view balance"})}),u.jsx(ji,{children:e.map(h=>u.jsx(gn,{value:h.id,children:h.name},h.id))})]})]})]})]}),c&&u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center justify-between",children:[u.jsxs("span",{children:["Balance Summary - ",c.customerName]}),u.jsx(Le,{onClick:()=>g(c.customerId),size:"sm",className:"flex items-center gap-1",children:u.jsx(w1,{className:"w-4 h-4"})})]})}),u.jsx(xt,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sales"}),u.jsxs("div",{className:"font-bold text-primary",children:["₹",c.totalSales.toFixed(2)]})]}),u.jsxs("div",{className:"p-3 bg-accent/5 rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Paid"}),u.jsxs("div",{className:"font-bold text-accent",children:["₹",c.totalPaid.toFixed(2)]})]}),u.jsxs("div",{className:`p-3 rounded-lg ${c.pending>0?"bg-destructive/5":(c.pending<0,"bg-accent/5")}`,children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:c.pending>0?"Pending":c.pending<0?"Advance":"Status"}),u.jsx("div",{className:`font-bold ${c.pending>0?"text-destructive":"text-accent"}`,children:c.pending>0?`₹${c.pending.toFixed(2)}`:c.pending<0?`₹${Math.abs(c.pending).toFixed(2)}`:"Cleared"})]})]})})]})]})]})})};var m2="Collapsible",[hne,Ude]=sa(m2),[fne,hE]=hne(m2),eO=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l,c]=Pd({prop:r,defaultProp:i??!1,onChange:o,caller:m2});return u.jsx(fne,{scope:n,disabled:s,contentId:xs(),open:l,onOpenToggle:E.useCallback(()=>c(d=>!d),[c]),children:u.jsx(mt.div,{"data-state":pE(l),"data-disabled":s?"":void 0,...a,ref:e})})});eO.displayName=m2;var tO="CollapsibleTrigger",nO=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=hE(tO,n);return u.jsx(mt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":pE(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ft(t.onClick,i.onOpenToggle)})});nO.displayName=tO;var fE="CollapsibleContent",rO=E.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hE(fE,t.__scopeCollapsible);return u.jsx(oo,{present:n||i.open,children:({present:s})=>u.jsx(pne,{...r,ref:e,present:s})})});rO.displayName=fE;var pne=E.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=hE(fE,n),[a,l]=E.useState(r),c=E.useRef(null),d=Xt(e,c),f=E.useRef(0),g=f.current,h=E.useRef(0),_=h.current,y=o.open||a,x=E.useRef(y),w=E.useRef(void 0);return E.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),Kr(()=>{const b=c.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const N=b.getBoundingClientRect();f.current=N.height,h.current=N.width,x.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),l(r)}},[o.open,r]),u.jsx(mt.div,{"data-state":pE(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":_?`${_}px`:void 0,...t.style},children:y&&i})});function pE(t){return t?"open":"closed"}var mne=eO;const WT=mne,GT=nO,KT=rO,gne=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(!1),[s,o]=E.useState(!1),{toast:a}=nc();E.useEffect(()=>{n(e2())},[]);const l=e.reduce((h,_)=>({totalSales:h.totalSales+_.totalSales,totalPaid:h.totalPaid+_.totalPaid,totalPending:h.totalPending+(_.pending>0?_.pending:0),totalAdvance:h.totalAdvance+(_.pending<0?Math.abs(_.pending):0)}),{totalSales:0,totalPaid:0,totalPending:0,totalAdvance:0}),c=e.filter(h=>h.pending>0),d=e.filter(h=>h.pending<0),f=async()=>{try{const h=await Bte(c,l.totalPending);h.success?a({title:"Success",description:h.message}):a({title:"Error",description:h.message,variant:"destructive"})}catch{a({title:"Error",description:"Failed to generate pending amounts report.",variant:"destructive"})}},g=async()=>{try{const h=await Ute(d,l.totalAdvance);h.success?a({title:"Success",description:h.message}):a({title:"Error",description:h.message,variant:"destructive"})}catch{a({title:"Error",description:"Failed to generate advance amounts report.",variant:"destructive"})}};return u.jsx("div",{className:"min-h-screen bg-background p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"outline",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),u.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Total Business"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Dy,{className:"w-5 h-5"}),"Business Overview"]})}),u.jsx(xt,{children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Sales"}),u.jsxs("div",{className:"text-2xl font-bold text-primary",children:["₹",l.totalSales.toFixed(2)]}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"All customers combined"})]}),u.jsxs("div",{className:"p-4 bg-accent/5 rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount Paid"}),u.jsxs("div",{className:"text-2xl font-bold text-accent",children:["₹",l.totalPaid.toFixed(2)]}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Received from customers"})]})]})})]}),u.jsx(yt,{children:u.jsx(xt,{className:"pt-6",children:u.jsxs(WT,{open:r,onOpenChange:i,children:[u.jsx(GT,{asChild:!0,children:u.jsxs("div",{className:"flex items-center justify-between p-4 bg-destructive/5 rounded-lg cursor-pointer hover:bg-destructive/10 transition-colors",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Pending Amount"}),u.jsxs("div",{className:"text-xl font-bold text-destructive",children:["₹",l.totalPending.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Le,{variant:"outline",size:"sm",onClick:h=>{h.stopPropagation(),f()},disabled:c.length===0,children:u.jsx(w1,{className:"w-4 h-4"})}),u.jsx(y1,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]})]})}),u.jsx(KT,{children:u.jsx("div",{className:"mt-4 space-y-2",children:c.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No pending amounts"}):c.map(h=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsx("span",{className:"font-medium",children:h.customerName}),u.jsxs("span",{className:"font-bold text-destructive",children:["₹",h.pending.toFixed(2)]})]},h.customerId))})})]})})}),l.totalAdvance>0&&u.jsx(yt,{children:u.jsx(xt,{className:"pt-6",children:u.jsxs(WT,{open:s,onOpenChange:o,children:[u.jsx(GT,{asChild:!0,children:u.jsxs("div",{className:"flex items-center justify-between p-4 bg-accent/5 rounded-lg cursor-pointer hover:bg-accent/10 transition-colors",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Advance Amount"}),u.jsxs("div",{className:"text-xl font-bold text-accent",children:["₹",l.totalAdvance.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Le,{variant:"outline",size:"sm",onClick:h=>{h.stopPropagation(),g()},disabled:d.length===0,children:u.jsx(w1,{className:"w-4 h-4"})}),u.jsx(y1,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]})]})}),u.jsx(KT,{children:u.jsx("div",{className:"mt-4 space-y-2",children:d.length===0?u.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No advance amounts"}):d.map(h=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsx("span",{className:"font-medium",children:h.customerName}),u.jsxs("span",{className:"font-bold text-accent",children:["₹",Math.abs(h.pending).toFixed(2)]})]},h.customerId))})})]})})})]})]})})},vne=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState(""),[s,o]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState(null),[f,g]=E.useState(!1),[h,_]=E.useState({name:"",type:"fixed",rate:""});E.useEffect(()=>{y()},[]);const y=()=>{const U=Ns();n(U)},x=U=>{const I=U.getDate().toString().padStart(2,"0"),k=(U.getMonth()+1).toString().padStart(2,"0"),P=U.getFullYear();return`${I}/${k}/${P}`},w=e.filter(U=>U.name.toLowerCase().includes(r.toLowerCase())),b=()=>{if(!h.name.trim()){Ht({title:"Error",description:"Item name is required",variant:"destructive"});return}if(h.type==="fixed"&&(!h.rate||parseFloat(h.rate)<=0)){Ht({title:"Error",description:"Rate is required for fixed-price items",variant:"destructive"});return}const U={name:h.name.trim(),type:h.type,...h.type==="fixed"&&{rate:parseFloat(h.rate)}};try{LS(U),y(),_({name:"",type:"fixed",rate:""}),o(!1),Ht({title:"Success",description:"Item added successfully"})}catch(I){I&&I.message==="DUPLICATE_ITEM_NAME"?Ht({title:"An item with this name already exists",description:"Please use a different name",variant:"destructive"}):Ht({title:"Error",description:"Failed to add item",variant:"destructive"})}},N=()=>{if(!a)return;const U={name:a.name.trim(),type:a.type,...a.type==="fixed"&&{rate:a.rate}};EL(a.id,U),y(),l(null),Ht({title:"Success",description:"Item updated successfully"})},R=U=>{NL(U),y(),d(null),Ht({title:"Success",description:"Item deleted successfully"})},z=()=>{const[U,I]=E.useState([]),[k,P]=E.useState([]);E.useEffect(()=>{if(f){const W=jS(),le=DS(5);I(W),P(le)}},[f,e]);const M=U.length,T=e.filter(W=>W.type==="fixed").length,L=e.filter(W=>W.type==="variable").length,O=U.reduce((W,le)=>W+le.totalRevenue,0);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx(yt,{children:u.jsxs(xt,{className:"p-4",children:[u.jsx("div",{className:"text-2xl font-bold",children:M}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"})]})}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixed Price"})]})}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-4",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:L}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Variable Price"})]})}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-4",children:[u.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["₹",O.toFixed(2)]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})})]}),u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Dy,{className:"w-5 h-5"}),"Most Used Items"]})}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-4",children:[k.map((W,le)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:le+1}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:W.itemName}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Used ",W.usageCount," times • Qty: ",W.totalQuantity]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-bold",children:["₹",W.totalRevenue.toFixed(2)]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue"})]})]},W.itemId)),k.length===0&&u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No usage data available"})]})})]}),u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsx(An,{children:"All Items Usage"})}),u.jsx(xt,{children:u.jsx("div",{className:"space-y-2",children:U.map(W=>u.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-muted/50 rounded",children:[u.jsx("div",{className:"flex-1",children:u.jsx("p",{className:"font-medium",children:W.itemName})}),u.jsxs("div",{className:"flex gap-6 text-sm text-muted-foreground",children:[u.jsxs("span",{children:["Uses: ",W.usageCount]}),u.jsxs("span",{children:["Qty: ",W.totalQuantity]}),u.jsxs("span",{className:"font-medium",children:["₹",W.totalRevenue.toFixed(2)]})]})]},W.itemId))})})]})]})};return f?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back to Items"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Item Analytics"}),u.jsx("p",{className:"text-muted-foreground",children:"Performance insights for your items"})]})]}),u.jsx(z,{})]})}):u.jsxs("div",{className:"min-h-screen bg-background p-4",children:[u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Item Master"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your inventory items and pricing"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Le,{variant:"outline",onClick:()=>g(!0),children:[u.jsx(SV,{className:"w-4 h-4 mr-2"}),"Analytics"]}),u.jsxs(Le,{onClick:()=>o(!0),children:[u.jsx(Id,{className:"w-4 h-4 mr-2"}),"Add Item"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Xd,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(Kt,{placeholder:"Search items...",value:r,onChange:U=>i(U.target.value),className:"pl-9"})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[w.length," items"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(U=>u.jsx(yt,{className:"hover:shadow-md transition-shadow",children:u.jsxs(xt,{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-lg",children:U.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(vm,{variant:U.type==="fixed"?"default":"secondary",children:U.type==="fixed"?"₹ Fixed":"📝 Variable"}),U.type==="fixed"&&U.rate&&u.jsxs("span",{className:"text-lg font-bold text-primary",children:["₹",U.rate]})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>l(U),children:u.jsx(FV,{className:"w-4 h-4"})}),u.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>d(U.id),children:u.jsx(qa,{className:"w-4 h-4"})})]})]}),u.jsx(FS,{className:"my-2"}),u.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsxs("div",{children:["Created: ",x(new Date(U.createdAt))]}),U.updatedAt!==U.createdAt&&u.jsxs("div",{children:["Updated: ",x(new Date(U.updatedAt))]})]})]})},U.id))}),w.length===0&&u.jsx(yt,{children:u.jsxs(xt,{className:"p-8 text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:r?"No items found matching your search":"No items created yet"}),!r&&u.jsxs(Le,{className:"mt-4",onClick:()=>o(!0),children:[u.jsx(Id,{className:"w-4 h-4 mr-2"}),"Add Your First Item"]})]})})]}),u.jsx(bo,{open:s,onOpenChange:o,children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Add New Item"}),u.jsx(So,{children:"Create a new item for your inventory"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Item Name"}),u.jsx(Kt,{value:h.name,onChange:U=>_(I=>({...I,name:U.target.value})),placeholder:"Enter item name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Price Type"}),u.jsxs(Zi,{value:h.type,onValueChange:U=>_(I=>({...I,type:U,...U==="variable"&&{rate:""}})),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"fixed",children:"₹ Fixed Price"}),u.jsx(gn,{value:"variable",children:"📝 Variable Price"})]})]})]}),h.type==="fixed"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Default Rate"}),u.jsx(Kt,{type:"number",value:h.rate,onChange:U=>_(I=>({...I,rate:U.target.value})),placeholder:"Enter default rate"})]})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),u.jsx(Le,{onClick:b,children:"Add Item"})]})]})}),u.jsx(bo,{open:!!a,onOpenChange:()=>l(null),children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Edit Item"}),u.jsx(So,{children:"Update item details"})]}),a&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Item Name"}),u.jsx(Kt,{value:a.name,onChange:U=>l(I=>I?{...I,name:U.target.value}:null)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Price Type"}),u.jsxs(Zi,{value:a.type,onValueChange:U=>l(I=>I?{...I,type:U,...U==="variable"&&{rate:void 0}}:null),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"fixed",children:"₹ Fixed Price"}),u.jsx(gn,{value:"variable",children:"📝 Variable Price"})]})]})]}),a.type==="fixed"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Rate"}),u.jsx(Kt,{type:"number",value:a.rate||"",onChange:U=>l(I=>I?{...I,rate:U.target.value?parseFloat(U.target.value):void 0}:null)})]})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),u.jsx(Le,{onClick:N,children:"Update Item"})]})]})}),u.jsx(bo,{open:!!c,onOpenChange:()=>d(null),children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Delete Item"}),u.jsx(So,{children:"Are you sure you want to delete this item? This action cannot be undone."})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>d(null),children:"Cancel"}),u.jsx(Le,{variant:"destructive",onClick:()=>c&&R(c),children:"Delete"})]})]})})]})};var g2="Switch",[yne,Vde]=sa(g2),[wne,_ne]=yne(g2),iO=E.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...f}=t,[g,h]=E.useState(null),_=Xt(e,N=>h(N)),y=E.useRef(!1),x=g?d||!!g.closest("form"):!0,[w,b]=Pd({prop:i,defaultProp:s??!1,onChange:c,caller:g2});return u.jsxs(wne,{scope:n,checked:w,disabled:a,children:[u.jsx(mt.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":lO(w),"data-disabled":a?"":void 0,disabled:a,value:l,...f,ref:_,onClick:ft(t.onClick,N=>{b(R=>!R),x&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),x&&u.jsx(aO,{control:g,bubbles:!y.current,name:r,value:l,checked:w,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});iO.displayName=g2;var sO="SwitchThumb",oO=E.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=_ne(sO,n);return u.jsx(mt.span,{"data-state":lO(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});oO.displayName=sO;var xne="SwitchBubbleInput",aO=E.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const o=E.useRef(null),a=Xt(o,s),l=nj(n),c=o6(e);return E.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&h){const _=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(_)}},[l,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});aO.displayName=xne;function lO(t){return t?"checked":"unchecked"}var cO=iO,bne=oO;const uO=E.forwardRef(({className:t,...e},n)=>u.jsx(cO,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(bne,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));uO.displayName=cO.displayName;const Sne=()=>{};var YT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ene=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(g=64)),r.push(n[d],n[f],n[g],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ene(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Nne;const g=s<<2|a>>4;if(r.push(g),c!==64){const h=a<<4&240|c>>2;if(r.push(h),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ane=function(t){const e=dO(t);return hO.encodeByteArray(e,!0)},W1=function(t){return Ane(t).replace(/\./g,"")},fO=function(t){try{return hO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne=()=>Cne().__FIREBASE_DEFAULTS__,kne=()=>{if(typeof process>"u"||typeof YT>"u")return;const t=YT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Pne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fO(t[1]);return e&&JSON.parse(e)},v2=()=>{try{return Sne()||Tne()||kne()||Pne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pO=t=>{var e,n;return(n=(e=v2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mO=t=>{const e=pO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gO=()=>{var t;return(t=v2())===null||t===void 0?void 0:t.config},vO=t=>{var e;return(e=v2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[W1(JSON.stringify(n)),W1(JSON.stringify(o)),""].join(".")}const Sm={};function Rne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sm))Sm[e]?t.emulator.push(e):t.prod.push(e);return t}function Lne(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QT=!1;function gE(t,e){if(typeof window>"u"||typeof document>"u"||!Du(window.location.host)||Sm[t]===e||Sm[t]||QT)return;Sm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=Rne().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,h){g.setAttribute("width","24"),g.setAttribute("id",h),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{QT=!0,o()},g}function d(g,h){g.setAttribute("id",h),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Lne(r),h=n("text"),_=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),w=n("preprendIcon"),b=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;a(N),d(x,y);const R=c();l(b,w),N.append(b,_,x,R),document.body.appendChild(N)}s?(_.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oi())}function Dne(){var t;const e=(t=v2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function One(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bne(){const t=Oi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Une(){return!Dne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vne(){try{return typeof indexedDB=="object"}catch{return!1}}function zne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="FirebaseError";class ul extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$ne,Object.setPrototypeOf(this,ul.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hg.prototype.create)}}class Hg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qne(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ul(i,a,r)}}function qne(t,e){return t.replace(Hne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hne=/\{\$([^}]+)}/g;function Wne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(XT(s)&&XT(o)){if(!Vd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gne(t,e){const n=new Kne(t,e);return n.subscribe.bind(n)}class Kne{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yne(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k_),i.error===void 0&&(i.error=k_),i.complete===void 0&&(i.complete=k_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yne(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class xu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ine;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jne(e))try{this.getOrInitializeService({instanceIdentifier:rd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rd){return this.instances.has(e)}getOptions(e=rd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rd){return this.component?this.component.multipleInstances?e:rd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xne(t){return t===rd?void 0:t}function Jne(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(on||(on={}));const ere={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},tre=on.INFO,nre={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},rre=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nre[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vE{constructor(e){this.name=e,this._logLevel=tre,this._logHandler=rre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ere[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}const ire=(t,e)=>e.some(n=>t instanceof n);let JT,ZT;function sre(){return JT||(JT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ore(){return ZT||(ZT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wO=new WeakMap,T5=new WeakMap,_O=new WeakMap,P_=new WeakMap,yE=new WeakMap;function are(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(uu(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wO.set(n,t)}).catch(()=>{}),yE.set(e,t),e}function lre(t){if(T5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});T5.set(t,e)}let k5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return T5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_O.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cre(t){k5=t(k5)}function ure(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(I_(this),e,...n);return _O.set(r,e.sort?e.sort():[e]),uu(r)}:ore().includes(t)?function(...e){return t.apply(I_(this),e),uu(wO.get(this))}:function(...e){return uu(t.apply(I_(this),e))}}function dre(t){return typeof t=="function"?ure(t):(t instanceof IDBTransaction&&lre(t),ire(t,sre())?new Proxy(t,k5):t)}function uu(t){if(t instanceof IDBRequest)return are(t);if(P_.has(t))return P_.get(t);const e=dre(t);return e!==t&&(P_.set(t,e),yE.set(e,t)),e}const I_=t=>yE.get(t);function hre(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=uu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(uu(o.result),l.oldVersion,l.newVersion,uu(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fre=["get","getKey","getAll","getAllKeys","count"],pre=["put","add","delete","clear"],R_=new Map;function ek(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R_.get(e))return R_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fre.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return R_.set(e,s),s}cre(t=>({...t,get:(e,n,r)=>ek(e,n)||t.get(e,n,r),has:(e,n)=>!!ek(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gre(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const P5="@firebase/app",tk="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=new vE("@firebase/app"),vre="@firebase/app-compat",yre="@firebase/analytics-compat",wre="@firebase/analytics",_re="@firebase/app-check-compat",xre="@firebase/app-check",bre="@firebase/auth",Sre="@firebase/auth-compat",Ere="@firebase/database",Nre="@firebase/data-connect",Are="@firebase/database-compat",Cre="@firebase/functions",Tre="@firebase/functions-compat",kre="@firebase/installations",Pre="@firebase/installations-compat",Ire="@firebase/messaging",Rre="@firebase/messaging-compat",Lre="@firebase/performance",jre="@firebase/performance-compat",Dre="@firebase/remote-config",Ore="@firebase/remote-config-compat",Mre="@firebase/storage",Fre="@firebase/storage-compat",Bre="@firebase/firestore",Ure="@firebase/ai",Vre="@firebase/firestore-compat",zre="firebase",$re="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="[DEFAULT]",qre={[P5]:"fire-core",[vre]:"fire-core-compat",[wre]:"fire-analytics",[yre]:"fire-analytics-compat",[xre]:"fire-app-check",[_re]:"fire-app-check-compat",[bre]:"fire-auth",[Sre]:"fire-auth-compat",[Ere]:"fire-rtdb",[Nre]:"fire-data-connect",[Are]:"fire-rtdb-compat",[Cre]:"fire-fn",[Tre]:"fire-fn-compat",[kre]:"fire-iid",[Pre]:"fire-iid-compat",[Ire]:"fire-fcm",[Rre]:"fire-fcm-compat",[Lre]:"fire-perf",[jre]:"fire-perf-compat",[Dre]:"fire-rc",[Ore]:"fire-rc-compat",[Mre]:"fire-gcs",[Fre]:"fire-gcs-compat",[Bre]:"fire-fst",[Vre]:"fire-fst-compat",[Ure]:"fire-vertex","fire-js":"fire-js",[zre]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map,Hre=new Map,R5=new Map;function nk(t,e){try{t.container.addComponent(e)}catch(n){Xl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zd(t){const e=t.name;if(R5.has(e))return Xl.debug(`There were multiple attempts to register component ${e}.`),!1;R5.set(e,t);for(const n of G1.values())nk(n,t);for(const n of Hre.values())nk(n,t);return!0}function y2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ws(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},du=new Hg("app","Firebase",Wre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw du.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=$re;function xO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:I5,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw du.create("bad-app-name",{appName:String(i)});if(n||(n=gO()),!n)throw du.create("no-options");const s=G1.get(i);if(s){if(Vd(n,s.options)&&Vd(r,s.config))return s;throw du.create("duplicate-app",{appName:i})}const o=new Zne(i);for(const l of R5.values())o.addComponent(l);const a=new Gre(n,r,o);return G1.set(i,a),a}function wE(t=I5){const e=G1.get(t);if(!e&&t===I5&&gO())return xO();if(!e)throw du.create("no-app",{appName:t});return e}function Ya(t,e,n){var r;let i=(r=qre[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xl.warn(a.join(" "));return}zd(new xu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kre="firebase-heartbeat-database",Yre=1,ug="firebase-heartbeat-store";let L_=null;function bO(){return L_||(L_=hre(Kre,Yre,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ug)}catch(n){console.warn(n)}}}}).catch(t=>{throw du.create("idb-open",{originalErrorMessage:t.message})})),L_}async function Qre(t){try{const n=(await bO()).transaction(ug),r=await n.objectStore(ug).get(SO(t));return await n.done,r}catch(e){if(e instanceof ul)Xl.warn(e.message);else{const n=du.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xl.warn(n.message)}}}async function rk(t,e){try{const r=(await bO()).transaction(ug,"readwrite");await r.objectStore(ug).put(e,SO(t)),await r.done}catch(n){if(n instanceof ul)Xl.warn(n.message);else{const r=du.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xl.warn(r.message)}}}function SO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xre=1024,Jre=30;class Zre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tie(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ik();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Jre){const o=nie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ik(),{heartbeatsToSend:r,unsentEntries:i}=eie(this._heartbeatsCache.heartbeats),s=W1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Xl.warn(n),""}}}function ik(){return new Date().toISOString().substring(0,10)}function eie(t,e=Xre){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vne()?zne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sk(t){return W1(JSON.stringify({version:2,heartbeats:t})).length}function nie(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(t){zd(new xu("platform-logger",e=>new mre(e),"PRIVATE")),zd(new xu("heartbeat",e=>new Zre(e),"PRIVATE")),Ya(P5,tk,t),Ya(P5,tk,"esm2017"),Ya("fire-js","")}rie("");var iie="firebase",sie="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya(iie,sie,"app");function EO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oie=EO,NO=new Hg("auth","Firebase",EO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new vE("@firebase/auth");function aie(t,...e){K1.logLevel<=on.WARN&&K1.warn(`Auth (${eh}): ${t}`,...e)}function Mv(t,...e){K1.logLevel<=on.ERROR&&K1.error(`Auth (${eh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,...e){throw _E(t,...e)}function Qa(t,...e){return _E(t,...e)}function AO(t,e,n){const r=Object.assign(Object.assign({},oie()),{[e]:n});return new Hg("auth","Firebase",r).create(e,{appName:t.name})}function zl(t){return AO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NO.create(t,...e)}function Tt(t,e,...n){if(!t)throw _E(e,...n)}function Bl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mv(e),new Error(e)}function Jl(t,e){t||Bl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lie(){return ok()==="http:"||ok()==="https:"}function ok(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lie()||Mne()||"connection"in navigator)?navigator.onLine:!0}function uie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jl(n>e,"Short delay should be less than long delay!"),this.isMobile=jne()||Fne()}get(){return cie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e){Jl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const die={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fie=new Gg(3e4,6e4);function Ou(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mu(t,e,n,r,i={}){return TO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Wg(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return One()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Du(t.emulatorConfig.host)&&(c.credentials="include"),CO.fetch()(await kO(t,t.config.apiHost,n,a),c)})}async function TO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},die),e);try{const i=new mie(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw tv(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tv(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw tv(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw tv(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AO(t,d,c);ia(t,d)}}catch(i){if(i instanceof ul)throw i;ia(t,"network-request-failed",{message:String(i)})}}async function Kg(t,e,n,r,i={}){const s=await Mu(t,e,n,r,i);return"mfaPendingCredential"in s&&ia(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function kO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?xE(t.config,i):`${t.config.apiScheme}://${i}`;return hie.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function pie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qa(this.auth,"network-request-failed")),fie.get())})}}function tv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qa(t,e,r);return i.customData._tokenResponse=n,i}function ak(t){return t!==void 0&&t.enterprise!==void 0}class gie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vie(t,e){return Mu(t,"GET","/v2/recaptchaConfig",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yie(t,e){return Mu(t,"POST","/v1/accounts:delete",e)}async function Y1(t,e){return Mu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wie(t,e=!1){const n=si(t),r=await n.getIdToken(e),i=bE(r);Tt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Em(j_(i.auth_time)),issuedAtTime:Em(j_(i.iat)),expirationTime:Em(j_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function j_(t){return Number(t)*1e3}function bE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mv("JWT malformed, contained fewer than 3 sections"),null;try{const i=fO(n);return i?JSON.parse(i):(Mv("Failed to decode base64 JWT payload"),null)}catch(i){return Mv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lk(t){const e=bE(t);return Tt(e,"internal-error"),Tt(typeof e.exp<"u","internal-error"),Tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ul&&_ie(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _ie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Em(this.lastLoginAt),this.creationTime=Em(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dg(t,Y1(n,{idToken:r}));Tt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?PO(s.providerUserInfo):[],a=Sie(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new j5(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function bie(t){const e=si(t);await Q1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PO(t){return t.map(e=>{var{providerId:n}=e,r=Lg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eie(t,e){const n=await TO(t,{},async()=>{const r=Wg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await kO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Du(t.emulatorConfig.host)&&(l.credentials="include"),CO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nie(t,e){return Mu(t,"POST","/v2/accounts:revokeToken",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tt(e.idToken,"internal-error"),Tt(typeof e.idToken<"u","internal-error"),Tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Tt(e.length!==0,"internal-error");const n=lk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Eie(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hf;return r&&(Tt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Tt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hf,this.toJSON())}_performRefresh(){return Bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e){Tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new j5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dg(this,this.stsTokenManager.getToken(this.auth,e));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wie(this,e)}reload(){return bie(this)}_assign(e){this!==e&&(Tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Q1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ws(this.auth.app))return Promise.reject(zl(this.auth));const e=await this.getIdToken();return await dg(this,yie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:R,isAnonymous:z,providerData:U,stsTokenManager:I}=n;Tt(N&&I,e,"internal-error");const k=hf.fromJSON(this.name,I);Tt(typeof N=="string",e,"internal-error"),Tc(f,e.name),Tc(g,e.name),Tt(typeof R=="boolean",e,"internal-error"),Tt(typeof z=="boolean",e,"internal-error"),Tc(h,e.name),Tc(_,e.name),Tc(y,e.name),Tc(x,e.name),Tc(w,e.name),Tc(b,e.name);const P=new Go({uid:N,auth:e,email:g,emailVerified:R,displayName:f,isAnonymous:z,photoURL:_,phoneNumber:h,tenantId:y,stsTokenManager:k,createdAt:w,lastLoginAt:b});return U&&Array.isArray(U)&&(P.providerData=U.map(M=>Object.assign({},M))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new hf;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Q1(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Tt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?PO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new hf;a.updateFromIdToken(r);const l=new Go({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new j5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Map;function Ul(t){Jl(t instanceof Function,"Expected a class definition");let e=ck.get(t);return e?(Jl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ck.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IO.type="NONE";const uk=IO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){return`firebase:${t}:${e}:${n}`}class ff{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Y1(this.auth,{idToken:e}).catch(()=>{});return n?Go._fromGetAccountInfoResponse(this.auth,n,e):null}return Go._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ff(Ul(uk),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ul(uk);const o=Fv(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const g=await Y1(e,{idToken:d}).catch(()=>{});if(!g)break;f=await Go._fromGetAccountInfoResponse(e,g,d)}else f=Go._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ff(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ff(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MO(e))return"Blackberry";if(FO(e))return"Webos";if(LO(e))return"Safari";if((e.includes("chrome/")||jO(e))&&!e.includes("edge/"))return"Chrome";if(OO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RO(t=Oi()){return/firefox\//i.test(t)}function LO(t=Oi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jO(t=Oi()){return/crios\//i.test(t)}function DO(t=Oi()){return/iemobile/i.test(t)}function OO(t=Oi()){return/android/i.test(t)}function MO(t=Oi()){return/blackberry/i.test(t)}function FO(t=Oi()){return/webos/i.test(t)}function SE(t=Oi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Aie(t=Oi()){var e;return SE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cie(){return Bne()&&document.documentMode===10}function BO(t=Oi()){return SE(t)||OO(t)||FO(t)||MO(t)||/windows phone/i.test(t)||DO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e=[]){let n;switch(t){case"Browser":n=dk(Oi());break;case"Worker":n=`${dk(Oi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kie(t,e={}){return Mu(t,"GET","/v2/passwordPolicy",Ou(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=6;class Iie{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Pie,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hk(this),this.idTokenSubscription=new hk(this),this.beforeStateQueue=new Tie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ul(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ff.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Y1(this,{idToken:e}),r=await Go._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ws(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Q1(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ws(this.app))return Promise.reject(zl(this));const n=e?si(e):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ws(this.app)?Promise.reject(zl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ws(this.app)?Promise.reject(zl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ul(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kie(this),n=new Iie(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nie(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ul(e)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await ff.create(this,[Ul(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aie(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function th(t){return si(t)}class hk{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gne(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lie(t){w2=t}function VO(t){return w2.loadJS(t)}function jie(){return w2.recaptchaEnterpriseScript}function Die(){return w2.gapiScript}function Oie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Mie{constructor(){this.enterprise=new Fie}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Fie{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bie="recaptcha-enterprise",zO="NO_RECAPTCHA";class Uie{constructor(e){this.type=Bie,this.auth=th(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vie(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gie(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ak(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(zO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mie().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ak(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jie();l.length!==0&&(l+=a),VO(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function fk(t,e,n,r=!1,i=!1){const s=new Uie(t);let o;if(i)o=zO;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function D5(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fk(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fk(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vie(t,e){const n=y2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vd(s,e??{}))return i;ia(i,"already-initialized")}return n.initialize({options:e})}function zie(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ul);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $ie(t,e,n){const r=th(t);Tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$O(e),{host:o,port:a}=qie(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(Vd(c,r.config.emulator)&&Vd(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Du(o)?(mE(`${s}//${o}${l}`),gE("Auth",!0)):Hie()}function $O(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qie(t){const e=$O(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:pk(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:pk(o)}}}function pk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bl("not implemented")}_getIdTokenResponse(e){return Bl("not implemented")}_linkToIdToken(e,n){return Bl("not implemented")}_getReauthenticationResolver(e){return Bl("not implemented")}}async function Wie(t,e){return Mu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gie(t,e){return Kg(t,"POST","/v1/accounts:signInWithPassword",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kie(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}async function Yie(t,e){return Kg(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends EE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D5(e,n,"signInWithPassword",Gie);case"emailLink":return Kie(e,{email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D5(e,r,"signUpPassword",Wie);case"emailLink":return Yie(e,{idToken:n,email:this._email,oobCode:this._password});default:ia(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t,e){return Kg(t,"POST","/v1/accounts:signInWithIdp",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie="http://localhost";class $d extends EE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $d(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ia("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Lg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $d(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pf(e,n)}buildRequest(){const e={requestUri:Qie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jie(t){const e=tm(nm(t)).link,n=e?tm(nm(e)).deep_link_id:null,r=tm(nm(t)).deep_link_id;return(r?tm(nm(r)).link:null)||r||n||e||t}class NE{constructor(e){var n,r,i,s,o,a;const l=tm(nm(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Xie((i=l.mode)!==null&&i!==void 0?i:null);Tt(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Jie(e);try{return new NE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.providerId=cp.PROVIDER_ID}static credential(e,n){return hg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=NE.parseLink(n);return Tt(r,"argument-error"),hg._fromEmailAndCode(e,r.code,r.tenantId)}}cp.PROVIDER_ID="password";cp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends qO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Yg{constructor(){super("facebook.com")}static credential(e){return $d._fromParams({providerId:Oc.PROVIDER_ID,signInMethod:Oc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oc.credentialFromTaggedObject(e)}static credentialFromError(e){return Oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oc.credential(e.oauthAccessToken)}catch{return null}}}Oc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $d._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mc.credential(n,r)}catch{return null}}}Mc.GOOGLE_SIGN_IN_METHOD="google.com";Mc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Yg{constructor(){super("github.com")}static credential(e){return $d._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fc.credential(e.oauthAccessToken)}catch{return null}}}Fc.GITHUB_SIGN_IN_METHOD="github.com";Fc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Yg{constructor(){super("twitter.com")}static credential(e,n){return $d._fromParams({providerId:Bc.PROVIDER_ID,signInMethod:Bc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bc.credentialFromTaggedObject(e)}static credentialFromError(e){return Bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bc.credential(n,r)}catch{return null}}}Bc.TWITTER_SIGN_IN_METHOD="twitter.com";Bc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zie(t,e){return Kg(t,"POST","/v1/accounts:signUp",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Go._fromIdTokenResponse(e,r,i),o=mk(r);return new qd({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mk(r);return new qd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends ul{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,X1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new X1(e,n,r,i)}}function HO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?X1._fromErrorAndOperation(t,s,e,r):s})}async function ese(t,e,n=!1){const r=await dg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tse(t,e,n=!1){const{auth:r}=t;if(Ws(r.app))return Promise.reject(zl(r));const i="reauthenticate";try{const s=await dg(t,HO(r,i,e,t),n);Tt(s.idToken,r,"internal-error");const o=bE(s.idToken);Tt(o,r,"internal-error");const{sub:a}=o;return Tt(t.uid===a,r,"user-mismatch"),qd._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ia(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e,n=!1){if(Ws(t.app))return Promise.reject(zl(t));const r="signIn",i=await HO(t,r,e),s=await qd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function nse(t,e){return WO(th(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t){const e=th(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rse(t,e,n){if(Ws(t.app))return Promise.reject(zl(t));const r=th(t),o=await D5(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zie).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GO(t),l}),a=await qd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ise(t,e,n){return Ws(t.app)?Promise.reject(zl(t)):nse(si(t),cp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GO(t),r})}function sse(t,e,n,r){return si(t).onIdTokenChanged(e,n,r)}function ose(t,e,n){return si(t).beforeAuthStateChanged(e,n)}function ase(t,e,n,r){return si(t).onAuthStateChanged(e,n,r)}function lse(t){return si(t).signOut()}const J1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(J1,"1"),this.storage.removeItem(J1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cse=1e3,use=10;class YO extends KO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Cie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,use):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YO.type="LOCAL";const dse=YO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO extends KO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QO.type="SESSION";const XO=QO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await hse(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=AE("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(){return window}function pse(t){Xa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(){return typeof Xa().WorkerGlobalScope<"u"&&typeof Xa().importScripts=="function"}async function mse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vse(){return JO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="firebaseLocalStorageDb",yse=1,Z1="firebaseLocalStorage",eM="fbase_key";class Qg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function x2(t,e){return t.transaction([Z1],e?"readwrite":"readonly").objectStore(Z1)}function wse(){const t=indexedDB.deleteDatabase(ZO);return new Qg(t).toPromise()}function O5(){const t=indexedDB.open(ZO,yse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Z1,{keyPath:eM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Z1)?e(r):(r.close(),await wse(),e(await O5()))})})}async function gk(t,e,n){const r=x2(t,!0).put({[eM]:e,value:n});return new Qg(r).toPromise()}async function _se(t,e){const n=x2(t,!1).get(e),r=await new Qg(n).toPromise();return r===void 0?null:r.value}function vk(t,e){const n=x2(t,!0).delete(e);return new Qg(n).toPromise()}const xse=800,bse=3;class tM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O5(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_2._getInstance(vse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mse(),!this.activeServiceWorker)return;this.sender=new fse(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O5();return await gk(e,J1,"1"),await vk(e,J1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_se(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=x2(i,!1).getAll();return new Qg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tM.type="LOCAL";const Sse=tM;new Gg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ese(t,e){return e?Ul(e):(Tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends EE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nse(t){return WO(t.auth,new CE(t),t.bypassAuthState)}function Ase(t){const{auth:e,user:n}=t;return Tt(n,e,"internal-error"),tse(n,new CE(t),t.bypassAuthState)}async function Cse(t){const{auth:e,user:n}=t;return Tt(n,e,"internal-error"),ese(n,new CE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nse;case"linkViaPopup":case"linkViaRedirect":return Cse;case"reauthViaPopup":case"reauthViaRedirect":return Ase;default:ia(this.auth,"internal-error")}}resolve(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tse=new Gg(2e3,1e4);class Gh extends nM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Gh.currentPopupAction&&Gh.currentPopupAction.cancel(),Gh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tt(e,this.auth,"internal-error"),e}async onExecution(){Jl(this.filter.length===1,"Popup operations only handle one event");const e=AE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tse.get())};e()}}Gh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kse="pendingRedirect",Bv=new Map;class Pse extends nM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bv.get(this.auth._key());if(!e){try{const r=await Ise(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bv.set(this.auth._key(),e)}return this.bypassAuthState||Bv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ise(t,e){const n=jse(e),r=Lse(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Rse(t,e){Bv.set(t._key(),e)}function Lse(t){return Ul(t._redirectPersistence)}function jse(t){return Fv(kse,t.config.apiKey,t.name)}async function Dse(t,e,n=!1){if(Ws(t.app))return Promise.reject(zl(t));const r=th(t),i=Ese(r,e),o=await new Pse(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ose=10*60*1e3;class Mse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rM(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qa(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ose&&this.cachedEventUids.clear(),this.cachedEventUids.has(yk(e))}saveEventToCache(e){this.cachedEventUids.add(yk(e)),this.lastProcessedEventTime=Date.now()}}function yk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Fse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bse(t,e={}){return Mu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vse=/^https?/;async function zse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Bse(t);for(const n of e)try{if($se(n))return}catch{}ia(t,"unauthorized-domain")}function $se(t){const e=L5(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Vse.test(n))return!1;if(Use.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse=new Gg(3e4,6e4);function wk(){const t=Xa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hse(t){return new Promise((e,n)=>{var r,i,s;function o(){wk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wk(),n(Qa(t,"network-request-failed"))},timeout:qse.get()})}if(!((i=(r=Xa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xa().gapi)===null||s===void 0)&&s.load)o();else{const a=Oie("iframefcb");return Xa()[a]=()=>{gapi.load?o():n(Qa(t,"network-request-failed"))},VO(`${Die()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Uv=null,e})}let Uv=null;function Wse(t){return Uv=Uv||Hse(t),Uv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gse=new Gg(5e3,15e3),Kse="__/auth/iframe",Yse="emulator/auth/iframe",Qse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jse(t){const e=t.config;Tt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xE(e,Yse):`https://${t.config.authDomain}/${Kse}`,r={apiKey:e.apiKey,appName:t.name,v:eh},i=Xse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wg(r).slice(1)}`}async function Zse(t){const e=await Wse(t),n=Xa().gapi;return Tt(n,t,"internal-error"),e.open({where:document.body,url:Jse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qse,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qa(t,"network-request-failed"),a=Xa().setTimeout(()=>{s(o)},Gse.get());function l(){Xa().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eoe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},toe=500,noe=600,roe="_blank",ioe="http://localhost";class _k{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function soe(t,e,n,r=toe,i=noe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eoe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Oi().toLowerCase();n&&(a=jO(c)?roe:n),RO(c)&&(e=e||ioe,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[h,_])=>`${g}${h}=${_},`,"");if(Aie(c)&&a!=="_self")return ooe(e||"",a),new _k(null);const f=window.open(e||"",a,d);Tt(f,t,"popup-blocked");try{f.focus()}catch{}return new _k(f)}function ooe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe="__/auth/handler",loe="emulator/auth/handler",coe=encodeURIComponent("fac");async function xk(t,e,n,r,i,s){Tt(t.config.authDomain,t,"auth-domain-config-required"),Tt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eh,eventId:i};if(e instanceof qO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Yg){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${coe}=${encodeURIComponent(l)}`:"";return`${uoe(t)}?${Wg(a).slice(1)}${c}`}function uoe({config:t}){return t.emulator?xE(t,loe):`https://${t.authDomain}/${aoe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="webStorageSupport";class doe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XO,this._completeRedirectFn=Dse,this._overrideRedirectResult=Rse}async _openPopup(e,n,r,i){var s;Jl((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await xk(e,n,r,L5(),i);return soe(e,o,AE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xk(e,n,r,L5(),i);return pse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jl(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Zse(e),r=new Mse(e);return n.register("authEvent",i=>(Tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(D_,{type:D_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[D_];o!==void 0&&n(!!o),ia(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BO()||LO()||SE()}}const hoe=doe;var bk="@firebase/auth",Sk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function poe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function moe(t){zd(new xu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UO(t)},c=new Rie(r,i,s,l);return zie(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zd(new xu("auth-internal",e=>{const n=th(e.getProvider("auth").getImmediate());return(r=>new foe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ya(bk,Sk,poe(t)),Ya(bk,Sk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe=5*60,voe=vO("authIdTokenMaxAge")||goe;let Ek=null;const yoe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>voe)return;const i=n==null?void 0:n.token;Ek!==i&&(Ek=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ey(t=wE()){const e=y2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vie(t,{popupRedirectResolver:hoe,persistence:[Sse,dse,XO]}),r=vO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=yoe(s.toString());ose(n,o,()=>o(n.currentUser)),sse(n,a=>o(a))}}const i=pO("auth");return i&&$ie(n,`http://${i}`),n}function woe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lie({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qa("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",woe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});moe("Browser");var Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hu,iM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,k){function P(){}P.prototype=k.prototype,I.D=k.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(M,T,L){for(var O=Array(arguments.length-2),W=2;W<arguments.length;W++)O[W-2]=arguments[W];return k.prototype[T].apply(M,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,k,P){P||(P=0);var M=Array(16);if(typeof k=="string")for(var T=0;16>T;++T)M[T]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(T=0;16>T;++T)M[T]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=I.g[0],P=I.g[1],T=I.g[2];var L=I.g[3],O=k+(L^P&(T^L))+M[0]+3614090360&4294967295;k=P+(O<<7&4294967295|O>>>25),O=L+(T^k&(P^T))+M[1]+3905402710&4294967295,L=k+(O<<12&4294967295|O>>>20),O=T+(P^L&(k^P))+M[2]+606105819&4294967295,T=L+(O<<17&4294967295|O>>>15),O=P+(k^T&(L^k))+M[3]+3250441966&4294967295,P=T+(O<<22&4294967295|O>>>10),O=k+(L^P&(T^L))+M[4]+4118548399&4294967295,k=P+(O<<7&4294967295|O>>>25),O=L+(T^k&(P^T))+M[5]+1200080426&4294967295,L=k+(O<<12&4294967295|O>>>20),O=T+(P^L&(k^P))+M[6]+2821735955&4294967295,T=L+(O<<17&4294967295|O>>>15),O=P+(k^T&(L^k))+M[7]+4249261313&4294967295,P=T+(O<<22&4294967295|O>>>10),O=k+(L^P&(T^L))+M[8]+1770035416&4294967295,k=P+(O<<7&4294967295|O>>>25),O=L+(T^k&(P^T))+M[9]+2336552879&4294967295,L=k+(O<<12&4294967295|O>>>20),O=T+(P^L&(k^P))+M[10]+4294925233&4294967295,T=L+(O<<17&4294967295|O>>>15),O=P+(k^T&(L^k))+M[11]+2304563134&4294967295,P=T+(O<<22&4294967295|O>>>10),O=k+(L^P&(T^L))+M[12]+1804603682&4294967295,k=P+(O<<7&4294967295|O>>>25),O=L+(T^k&(P^T))+M[13]+4254626195&4294967295,L=k+(O<<12&4294967295|O>>>20),O=T+(P^L&(k^P))+M[14]+2792965006&4294967295,T=L+(O<<17&4294967295|O>>>15),O=P+(k^T&(L^k))+M[15]+1236535329&4294967295,P=T+(O<<22&4294967295|O>>>10),O=k+(T^L&(P^T))+M[1]+4129170786&4294967295,k=P+(O<<5&4294967295|O>>>27),O=L+(P^T&(k^P))+M[6]+3225465664&4294967295,L=k+(O<<9&4294967295|O>>>23),O=T+(k^P&(L^k))+M[11]+643717713&4294967295,T=L+(O<<14&4294967295|O>>>18),O=P+(L^k&(T^L))+M[0]+3921069994&4294967295,P=T+(O<<20&4294967295|O>>>12),O=k+(T^L&(P^T))+M[5]+3593408605&4294967295,k=P+(O<<5&4294967295|O>>>27),O=L+(P^T&(k^P))+M[10]+38016083&4294967295,L=k+(O<<9&4294967295|O>>>23),O=T+(k^P&(L^k))+M[15]+3634488961&4294967295,T=L+(O<<14&4294967295|O>>>18),O=P+(L^k&(T^L))+M[4]+3889429448&4294967295,P=T+(O<<20&4294967295|O>>>12),O=k+(T^L&(P^T))+M[9]+568446438&4294967295,k=P+(O<<5&4294967295|O>>>27),O=L+(P^T&(k^P))+M[14]+3275163606&4294967295,L=k+(O<<9&4294967295|O>>>23),O=T+(k^P&(L^k))+M[3]+4107603335&4294967295,T=L+(O<<14&4294967295|O>>>18),O=P+(L^k&(T^L))+M[8]+1163531501&4294967295,P=T+(O<<20&4294967295|O>>>12),O=k+(T^L&(P^T))+M[13]+2850285829&4294967295,k=P+(O<<5&4294967295|O>>>27),O=L+(P^T&(k^P))+M[2]+4243563512&4294967295,L=k+(O<<9&4294967295|O>>>23),O=T+(k^P&(L^k))+M[7]+1735328473&4294967295,T=L+(O<<14&4294967295|O>>>18),O=P+(L^k&(T^L))+M[12]+2368359562&4294967295,P=T+(O<<20&4294967295|O>>>12),O=k+(P^T^L)+M[5]+4294588738&4294967295,k=P+(O<<4&4294967295|O>>>28),O=L+(k^P^T)+M[8]+2272392833&4294967295,L=k+(O<<11&4294967295|O>>>21),O=T+(L^k^P)+M[11]+1839030562&4294967295,T=L+(O<<16&4294967295|O>>>16),O=P+(T^L^k)+M[14]+4259657740&4294967295,P=T+(O<<23&4294967295|O>>>9),O=k+(P^T^L)+M[1]+2763975236&4294967295,k=P+(O<<4&4294967295|O>>>28),O=L+(k^P^T)+M[4]+1272893353&4294967295,L=k+(O<<11&4294967295|O>>>21),O=T+(L^k^P)+M[7]+4139469664&4294967295,T=L+(O<<16&4294967295|O>>>16),O=P+(T^L^k)+M[10]+3200236656&4294967295,P=T+(O<<23&4294967295|O>>>9),O=k+(P^T^L)+M[13]+681279174&4294967295,k=P+(O<<4&4294967295|O>>>28),O=L+(k^P^T)+M[0]+3936430074&4294967295,L=k+(O<<11&4294967295|O>>>21),O=T+(L^k^P)+M[3]+3572445317&4294967295,T=L+(O<<16&4294967295|O>>>16),O=P+(T^L^k)+M[6]+76029189&4294967295,P=T+(O<<23&4294967295|O>>>9),O=k+(P^T^L)+M[9]+3654602809&4294967295,k=P+(O<<4&4294967295|O>>>28),O=L+(k^P^T)+M[12]+3873151461&4294967295,L=k+(O<<11&4294967295|O>>>21),O=T+(L^k^P)+M[15]+530742520&4294967295,T=L+(O<<16&4294967295|O>>>16),O=P+(T^L^k)+M[2]+3299628645&4294967295,P=T+(O<<23&4294967295|O>>>9),O=k+(T^(P|~L))+M[0]+4096336452&4294967295,k=P+(O<<6&4294967295|O>>>26),O=L+(P^(k|~T))+M[7]+1126891415&4294967295,L=k+(O<<10&4294967295|O>>>22),O=T+(k^(L|~P))+M[14]+2878612391&4294967295,T=L+(O<<15&4294967295|O>>>17),O=P+(L^(T|~k))+M[5]+4237533241&4294967295,P=T+(O<<21&4294967295|O>>>11),O=k+(T^(P|~L))+M[12]+1700485571&4294967295,k=P+(O<<6&4294967295|O>>>26),O=L+(P^(k|~T))+M[3]+2399980690&4294967295,L=k+(O<<10&4294967295|O>>>22),O=T+(k^(L|~P))+M[10]+4293915773&4294967295,T=L+(O<<15&4294967295|O>>>17),O=P+(L^(T|~k))+M[1]+2240044497&4294967295,P=T+(O<<21&4294967295|O>>>11),O=k+(T^(P|~L))+M[8]+1873313359&4294967295,k=P+(O<<6&4294967295|O>>>26),O=L+(P^(k|~T))+M[15]+4264355552&4294967295,L=k+(O<<10&4294967295|O>>>22),O=T+(k^(L|~P))+M[6]+2734768916&4294967295,T=L+(O<<15&4294967295|O>>>17),O=P+(L^(T|~k))+M[13]+1309151649&4294967295,P=T+(O<<21&4294967295|O>>>11),O=k+(T^(P|~L))+M[4]+4149444226&4294967295,k=P+(O<<6&4294967295|O>>>26),O=L+(P^(k|~T))+M[11]+3174756917&4294967295,L=k+(O<<10&4294967295|O>>>22),O=T+(k^(L|~P))+M[2]+718787259&4294967295,T=L+(O<<15&4294967295|O>>>17),O=P+(L^(T|~k))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(T+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+L&4294967295}r.prototype.u=function(I,k){k===void 0&&(k=I.length);for(var P=k-this.blockSize,M=this.B,T=this.h,L=0;L<k;){if(T==0)for(;L<=P;)i(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<k;)if(M[T++]=I.charCodeAt(L++),T==this.blockSize){i(this,M),T=0;break}}else for(;L<k;)if(M[T++]=I[L++],T==this.blockSize){i(this,M),T=0;break}}this.h=T,this.o+=k},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;var P=8*this.o;for(k=I.length-8;k<I.length;++k)I[k]=P&255,P/=256;for(this.u(I),I=Array(16),k=P=0;4>k;++k)for(var M=0;32>M;M+=8)I[P++]=this.g[k]>>>M&255;return I};function s(I,k){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=k(I)}function o(I,k){this.h=k;for(var P=[],M=!0,T=I.length-1;0<=T;T--){var L=I[T]|0;M&&L==k||(P[T]=L,M=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?s(I,function(k){return new o([k|0],0>k?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(c(-I));for(var k=[],P=1,M=0;I>=P;M++)k[M]=I/P|0,P*=4294967296;return new o(k,0)}function d(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return x(d(I.substring(1),k));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(k,8)),M=f,T=0;T<I.length;T+=8){var L=Math.min(8,I.length-T),O=parseInt(I.substring(T,T+L),k);8>L?(L=c(Math.pow(k,L)),M=M.j(L).add(c(O))):(M=M.j(P),M=M.add(c(O)))}return M}var f=l(0),g=l(1),h=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var I=0,k=1,P=0;P<this.g.length;P++){var M=this.i(P);I+=(0<=M?M:4294967296+M)*k,k*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(y(this))return"-"+x(this).toString(I);for(var k=c(Math.pow(I,6)),P=this,M="";;){var T=R(P,k).g;P=w(P,T.j(k));var L=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=T,_(P))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=w(this,I),y(I)?-1:_(I)?0:1};function x(I){for(var k=I.g.length,P=[],M=0;M<k;M++)P[M]=~I.g[M];return new o(P,~I.h).add(g)}t.abs=function(){return y(this)?x(this):this},t.add=function(I){for(var k=Math.max(this.g.length,I.g.length),P=[],M=0,T=0;T<=k;T++){var L=M+(this.i(T)&65535)+(I.i(T)&65535),O=(L>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);M=O>>>16,L&=65535,O&=65535,P[T]=O<<16|L}return new o(P,P[P.length-1]&-2147483648?-1:0)};function w(I,k){return I.add(x(k))}t.j=function(I){if(_(this)||_(I))return f;if(y(this))return y(I)?x(this).j(x(I)):x(x(this).j(I));if(y(I))return x(this.j(x(I)));if(0>this.l(h)&&0>I.l(h))return c(this.m()*I.m());for(var k=this.g.length+I.g.length,P=[],M=0;M<2*k;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var T=0;T<I.g.length;T++){var L=this.i(M)>>>16,O=this.i(M)&65535,W=I.i(T)>>>16,le=I.i(T)&65535;P[2*M+2*T]+=O*le,b(P,2*M+2*T),P[2*M+2*T+1]+=L*le,b(P,2*M+2*T+1),P[2*M+2*T+1]+=O*W,b(P,2*M+2*T+1),P[2*M+2*T+2]+=L*W,b(P,2*M+2*T+2)}for(M=0;M<k;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=k;M<2*k;M++)P[M]=0;return new o(P,0)};function b(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function N(I,k){this.g=I,this.h=k}function R(I,k){if(_(k))throw Error("division by zero");if(_(I))return new N(f,f);if(y(I))return k=R(x(I),k),new N(x(k.g),x(k.h));if(y(k))return k=R(I,x(k)),new N(x(k.g),k.h);if(30<I.g.length){if(y(I)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var P=g,M=k;0>=M.l(I);)P=z(P),M=z(M);var T=U(P,1),L=U(M,1);for(M=U(M,2),P=U(P,2);!_(M);){var O=L.add(M);0>=O.l(I)&&(T=T.add(P),L=O),M=U(M,1),P=U(P,1)}return k=w(I,T.j(k)),new N(T,k)}for(T=f;0<=I.l(k);){for(P=Math.max(1,Math.floor(I.m()/k.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=c(P),O=L.j(k);y(O)||0<O.l(I);)P-=M,L=c(P),O=L.j(k);_(L)&&(L=g),T=T.add(L),I=w(I,O)}return new N(T,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var k=Math.max(this.g.length,I.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)&I.i(M);return new o(P,this.h&I.h)},t.or=function(I){for(var k=Math.max(this.g.length,I.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)|I.i(M);return new o(P,this.h|I.h)},t.xor=function(I){for(var k=Math.max(this.g.length,I.g.length),P=[],M=0;M<k;M++)P[M]=this.i(M)^I.i(M);return new o(P,this.h^I.h)};function z(I){for(var k=I.g.length+1,P=[],M=0;M<k;M++)P[M]=I.i(M)<<1|I.i(M-1)>>>31;return new o(P,I.h)}function U(I,k){var P=k>>5;k%=32;for(var M=I.g.length-P,T=[],L=0;L<M;L++)T[L]=0<k?I.i(L+P)>>>k|I.i(L+P+1)<<32-k:I.i(L+P);return new o(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,hu=o}).apply(typeof Nk<"u"?Nk:typeof self<"u"?self:typeof window<"u"?window:{});var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sM,rm,oM,Vv,M5,aM,lM,cM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,F){return m==Array.prototype||m==Object.prototype||(m[C]=F.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof nv=="object"&&nv];for(var C=0;C<m.length;++C){var F=m[C];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(m,C){if(C)e:{var F=r;m=m.split(".");for(var X=0;X<m.length-1;X++){var we=m[X];if(!(we in F))break e;F=F[we]}m=m[m.length-1],X=F[m],C=C(X),C!=X&&C!=null&&e(F,m,{configurable:!0,writable:!0,value:C})}}function s(m,C){m instanceof String&&(m+="");var F=0,X=!1,we={next:function(){if(!X&&F<m.length){var Ae=F++;return{value:C(Ae,m[Ae]),done:!1}}return X=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(m){return m||function(){return s(this,function(C,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function c(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function d(m,C,F){return m.call.apply(m.bind,arguments)}function f(m,C,F){if(!m)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,X),m.apply(C,we)}}return function(){return m.apply(C,arguments)}}function g(m,C,F){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function h(m,C){var F=Array.prototype.slice.call(arguments,1);return function(){var X=F.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function _(m,C){function F(){}F.prototype=C.prototype,m.aa=C.prototype,m.prototype=new F,m.prototype.constructor=m,m.Qb=function(X,we,Ae){for(var Fe=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)Fe[_n-2]=arguments[_n];return C.prototype[we].apply(X,Fe)}}function y(m){const C=m.length;if(0<C){const F=Array(C);for(let X=0;X<C;X++)F[X]=m[X];return F}return[]}function x(m,C){for(let F=1;F<arguments.length;F++){const X=arguments[F];if(l(X)){const we=m.length||0,Ae=X.length||0;m.length=we+Ae;for(let Fe=0;Fe<Ae;Fe++)m[we+Fe]=X[Fe]}else m.push(X)}}class w{constructor(C,F){this.i=C,this.j=F,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function b(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function R(m){return R[" "](m),m}R[" "]=function(){};var z=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function U(m,C,F){for(const X in m)C.call(F,m[X],X,m)}function I(m,C){for(const F in m)C.call(void 0,m[F],F,m)}function k(m){const C={};for(const F in m)C[F]=m[F];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,C){let F,X;for(let we=1;we<arguments.length;we++){X=arguments[we];for(F in X)m[F]=X[F];for(let Ae=0;Ae<P.length;Ae++)F=P[Ae],Object.prototype.hasOwnProperty.call(X,F)&&(m[F]=X[F])}}function T(m){var C=1;m=m.split(":");const F=[];for(;0<C&&m.length;)F.push(m.shift()),C--;return m.length&&F.push(m.join(":")),F}function L(m){a.setTimeout(()=>{throw m},0)}function O(){var m=te;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class W{constructor(){this.h=this.g=null}add(C,F){const X=le.get();X.set(C,F),this.h?this.h.next=X:this.g=X,this.h=X}}var le=new w(()=>new fe,m=>m.reset());class fe{constructor(){this.next=this.g=this.h=null}set(C,F){this.h=C,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,$=!1,te=new W,se=()=>{const m=a.Promise.resolve(void 0);oe=()=>{m.then(ge)}};var ge=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(F){L(F)}var C=le;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}$=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const F=()=>{};a.addEventListener("test",F,C),a.removeEventListener("test",F,C)}catch{}return m}();function Z(m,C){if(H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var F=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(z){e:{try{R(C.nodeName);var we=!0;break e}catch{}we=!1}we||(C=null)}}else F=="mouseover"?C=m.fromElement:F=="mouseout"&&(C=m.toElement);this.relatedTarget=C,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Z.aa.h.call(this)}}_(Z,H);var ae={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),ue=0;function de(m,C,F,X,we){this.listener=m,this.proxy=null,this.src=C,this.type=F,this.capture=!!X,this.ha=we,this.key=++ue,this.da=this.fa=!1}function _e(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ne(m){this.src=m,this.g={},this.h=0}Ne.prototype.add=function(m,C,F,X,we){var Ae=m.toString();m=this.g[Ae],m||(m=this.g[Ae]=[],this.h++);var Fe=Ee(m,C,X,we);return-1<Fe?(C=m[Fe],F||(C.fa=!1)):(C=new de(C,this.src,Ae,!!X,we),C.fa=F,m.push(C)),C};function he(m,C){var F=C.type;if(F in m.g){var X=m.g[F],we=Array.prototype.indexOf.call(X,C,void 0),Ae;(Ae=0<=we)&&Array.prototype.splice.call(X,we,1),Ae&&(_e(C),m.g[F].length==0&&(delete m.g[F],m.h--))}}function Ee(m,C,F,X){for(var we=0;we<m.length;++we){var Ae=m[we];if(!Ae.da&&Ae.listener==C&&Ae.capture==!!F&&Ae.ha==X)return we}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),ee={};function st(m,C,F,X,we){if(Array.isArray(C)){for(var Ae=0;Ae<C.length;Ae++)st(m,C[Ae],F,X,we);return null}return F=Pt(F),m&&m[K]?m.K(C,F,c(X)?!!X.capture:!!X,we):ct(m,C,F,!1,X,we)}function ct(m,C,F,X,we,Ae){if(!C)throw Error("Invalid event type");var Fe=c(we)?!!we.capture:!!we,_n=Qe(m);if(_n||(m[ye]=_n=new Ne(m)),F=_n.add(C,F,X,Fe,Ae),F.proxy)return F;if(X=Je(),F.proxy=X,X.src=m,X.listener=F,m.addEventListener)Q||(we=Fe),we===void 0&&(we=!1),m.addEventListener(C.toString(),X,we);else if(m.attachEvent)m.attachEvent(Ve(C.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Je(){function m(F){return C.call(m.src,m.listener,F)}const C=Nt;return m}function De(m,C,F,X,we){if(Array.isArray(C))for(var Ae=0;Ae<C.length;Ae++)De(m,C[Ae],F,X,we);else X=c(X)?!!X.capture:!!X,F=Pt(F),m&&m[K]?(m=m.i,C=String(C).toString(),C in m.g&&(Ae=m.g[C],F=Ee(Ae,F,X,we),-1<F&&(_e(Ae[F]),Array.prototype.splice.call(Ae,F,1),Ae.length==0&&(delete m.g[C],m.h--)))):m&&(m=Qe(m))&&(C=m.g[C.toString()],m=-1,C&&(m=Ee(C,F,X,we)),(F=-1<m?C[m]:null)&&ze(F))}function ze(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[K])he(C.i,m);else{var F=m.type,X=m.proxy;C.removeEventListener?C.removeEventListener(F,X,m.capture):C.detachEvent?C.detachEvent(Ve(F),X):C.addListener&&C.removeListener&&C.removeListener(X),(F=Qe(C))?(he(F,m),F.h==0&&(F.src=null,C[ye]=null)):_e(m)}}}function Ve(m){return m in ee?ee[m]:ee[m]="on"+m}function Nt(m,C){if(m.da)m=!0;else{C=new Z(C,this);var F=m.listener,X=m.ha||m.src;m.fa&&ze(m),m=F.call(X,C)}return m}function Qe(m){return m=m[ye],m instanceof Ne?m:null}var Jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pt(m){return typeof m=="function"?m:(m[Jt]||(m[Jt]=function(C){return m.handleEvent(C)}),m[Jt])}function He(){D.call(this),this.i=new Ne(this),this.M=this,this.F=null}_(He,D),He.prototype[K]=!0,He.prototype.removeEventListener=function(m,C,F,X){De(this,m,C,F,X)};function _t(m,C){var F,X=m.F;if(X)for(F=[];X;X=X.F)F.push(X);if(m=m.M,X=C.type||C,typeof C=="string")C=new H(C,m);else if(C instanceof H)C.target=C.target||m;else{var we=C;C=new H(X,m),M(C,we)}if(we=!0,F)for(var Ae=F.length-1;0<=Ae;Ae--){var Fe=C.g=F[Ae];we=At(Fe,X,!0,C)&&we}if(Fe=C.g=m,we=At(Fe,X,!0,C)&&we,we=At(Fe,X,!1,C)&&we,F)for(Ae=0;Ae<F.length;Ae++)Fe=C.g=F[Ae],we=At(Fe,X,!1,C)&&we}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var F=m.g[C],X=0;X<F.length;X++)_e(F[X]);delete m.g[C],m.h--}}this.F=null},He.prototype.K=function(m,C,F,X){return this.i.add(String(m),C,!1,F,X)},He.prototype.L=function(m,C,F,X){return this.i.add(String(m),C,!0,F,X)};function At(m,C,F,X){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var we=!0,Ae=0;Ae<C.length;++Ae){var Fe=C[Ae];if(Fe&&!Fe.da&&Fe.capture==F){var _n=Fe.listener,sr=Fe.ha||Fe.src;Fe.fa&&he(m.i,Fe),we=_n.call(sr,X)!==!1&&we}}return we&&!X.defaultPrevented}function ot(m,C,F){if(typeof m=="function")F&&(m=g(m,F));else if(m&&typeof m.handleEvent=="function")m=g(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(m,C||0)}function pt(m){m.g=ot(()=>{m.g=null,m.i&&(m.i=!1,pt(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class lt extends D{constructor(C,F){super(),this.m=C,this.l=F,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ln(m){D.call(this),this.h=m,this.g={}}_(ln,D);var Qt=[];function Ye(m){U(m.g,function(C,F){this.g.hasOwnProperty(F)&&ze(C)},m),m.g={}}ln.prototype.N=function(){ln.aa.N.call(this),Ye(this)},ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=a.JSON.stringify,nn=a.JSON.parse,gt=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Vt(){}Vt.prototype.h=null;function Ct(m){return m.h||(m.h=m.i())}function Bn(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){H.call(this,"d")}_(cn,H);function ut(){H.call(this,"c")}_(ut,H);var Wt={},vt=null;function St(){return vt=vt||new He}Wt.La="serverreachability";function Zt(m){H.call(this,Wt.La,m)}_(Zt,H);function On(m){const C=St();_t(C,new Zt(C))}Wt.STAT_EVENT="statevent";function Ze(m,C){H.call(this,Wt.STAT_EVENT,m),this.stat=C}_(Ze,H);function fn(m){const C=St();_t(C,new Ze(C,m))}Wt.Ma="timingevent";function jr(m,C){H.call(this,Wt.Ma,m),this.size=C}_(jr,H);function Cn(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},C)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function rr(m,C,F,X,we,Ae){m.info(function(){if(m.g)if(Ae)for(var Fe="",_n=Ae.split("&"),sr=0;sr<_n.length;sr++){var en=_n[sr].split("=");if(1<en.length){var sn=en[0];en=en[1];var Pn=sn.split("_");Fe=2<=Pn.length&&Pn[1]=="type"?Fe+(sn+"="+en+"&"):Fe+(sn+"=redacted&")}}else Fe=null;else Fe=Ae;return"XMLHTTP REQ ("+X+") [attempt "+we+"]: "+C+`
`+F+`
`+Fe})}function Dr(m,C,F,X,we,Ae,Fe){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+we+"]: "+C+`
`+F+`
`+Ae+" "+Fe})}function ir(m,C,F,X){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+ca(m,F)+(X?" "+X:"")})}function dl(m,C){m.info(function(){return"TIMEOUT: "+C})}Vn.prototype.info=function(){};function ca(m,C){if(!m.g)return C;if(!C)return null;try{var F=JSON.parse(C);if(F){for(m=0;m<F.length;m++)if(Array.isArray(F[m])){var X=F[m];if(!(2>X.length)){var we=X[1];if(Array.isArray(we)&&!(1>we.length)){var Ae=we[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Fe=1;Fe<we.length;Fe++)we[Fe]=""}}}}return bt(F)}catch{return C}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fi;function yi(){}_(yi,Vt),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},Fi=new yi;function br(m,C,F,X){this.j=m,this.i=C,this.l=F,this.R=X||1,this.U=new ln(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ua}function ua(){this.i=null,this.g="",this.h=!1}var Ps={},ko={};function da(m,C,F){m.L=1,m.v=ml(Bi(C)),m.m=F,m.P=!0,hl(m,null)}function hl(m,C){m.F=Date.now(),ha(m),m.A=Bi(m.v);var F=m.A,X=m.R;Array.isArray(X)||(X=[String(X)]),It(F.i,"t",X),m.C=0,F=m.j.J,m.h=new ua,m.g=Lo(m.j,F?C:null,!m.m),0<m.O&&(m.M=new lt(g(m.Y,m,m.g),m.O)),C=m.U,F=m.g,X=m.ca;var we="readystatechange";Array.isArray(we)||(we&&(Qt[0]=we.toString()),we=Qt);for(var Ae=0;Ae<we.length;Ae++){var Fe=st(F,we[Ae],X||C.handleEvent,!1,C.h||C);if(!Fe)break;C.g[Fe.key]=Fe}C=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),On(),rr(m.i,m.u,m.A,m.l,m.R,m.m)}br.prototype.ca=function(m){m=m.target;const C=this.M;C&&Ui(m)==3?C.j():this.Y(m)},br.prototype.Y=function(m){try{if(m==this.g)e:{const Pn=Ui(this.g);var C=this.g.Ba();const uo=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||Pn!=4||C==7||(C==8||0>=uo?On(3):On(2)),ic(this);var F=this.g.Z();this.X=F;t:if(fl(this)){var X=hc(this.g);m="";var we=X.length,Ae=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),Yr(this);var Fe="";break t}this.h.i=new a.TextDecoder}for(C=0;C<we;C++)this.h.h=!0,m+=this.h.i.decode(X[C],{stream:!(Ae&&C==we-1)});X.length=0,this.h.g+=m,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=F==200,Dr(this.i,this.u,this.A,this.l,this.R,Pn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var _n,sr=this.g;if((_n=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(_n)){var en=_n;break t}}en=null}if(F=en)ir(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sc(this,F);else{this.o=!1,this.s=3,fn(12),Is(this),Yr(this);break e}}if(this.P){F=!0;let oi;for(;!this.J&&this.C<Fe.length;)if(oi=pp(this,Fe),oi==ko){Pn==4&&(this.s=4,fn(14),F=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(oi==Ps){this.s=4,fn(15),ir(this.i,this.l,Fe,"[Invalid Chunk]"),F=!1;break}else ir(this.i,this.l,oi,null),sc(this,oi);if(fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||Fe.length!=0||this.h.h||(this.s=1,fn(16),F=!1),this.o=this.o&&F,!F)ir(this.i,this.l,Fe,"[Invalid Chunked Response]"),Is(this),Yr(this);else if(0<Fe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),un(sn),sn.M=!0,fn(11))}}else ir(this.i,this.l,Fe,null),sc(this,Fe);Pn==4&&Is(this),this.o&&!this.J&&(Pn==4?bn(this.j,this):(this.o=!1,ha(this)))}else Vi(this.g),F==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),Is(this),Yr(this)}}}catch{}finally{}};function fl(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function pp(m,C){var F=m.C,X=C.indexOf(`
`,F);return X==-1?ko:(F=Number(C.substring(F,X)),isNaN(F)?Ps:(X+=1,X+F>C.length?ko:(C=C.slice(X,X+F),m.C=X+F,C)))}br.prototype.cancel=function(){this.J=!0,Is(this)};function ha(m){m.S=Date.now()+m.I,Fu(m,m.I)}function Fu(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Cn(g(m.ba,m),C)}function ic(m){m.B&&(a.clearTimeout(m.B),m.B=null)}br.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(dl(this.i,this.A),this.L!=2&&(On(),fn(17)),Is(this),this.s=2,Yr(this)):Fu(this,this.S-m)};function Yr(m){m.j.G==0||m.J||bn(m.j,m)}function Is(m){ic(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,Ye(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function sc(m,C){try{var F=m.j;if(F.G!=0&&(F.g==m||fa(F.h,m))){if(!m.K&&fa(F.h,m)&&F.G==3){try{var X=F.Da.g.parse(C)}catch{X=null}if(Array.isArray(X)&&X.length==3){var we=X;if(we[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<m.F)Qn(F),ne(F);else break e;Dt(F),fn(18)}}else F.za=we[1],0<F.za-F.T&&37500>we[2]&&F.F&&F.v==0&&!F.C&&(F.C=Cn(g(F.Za,F),6e3));if(1>=zu(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Fn(F,11)}else if((m.K||F.g==m)&&Qn(F),!b(C))for(we=F.Da.g.parse(C),C=0;C<we.length;C++){let en=we[C];if(F.T=en[0],en=en[1],F.G==2)if(en[0]=="c"){F.K=en[1],F.ia=en[2];const sn=en[3];sn!=null&&(F.la=sn,F.j.info("VER="+F.la));const Pn=en[4];Pn!=null&&(F.Aa=Pn,F.j.info("SVER="+F.Aa));const uo=en[5];uo!=null&&typeof uo=="number"&&0<uo&&(X=1.5*uo,F.L=X,F.j.info("backChannelRequestTimeoutMs_="+X)),X=F;const oi=m.g;if(oi){const js=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var Ae=X.h;Ae.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&($u(Ae,Ae.h),Ae.h=null))}if(X.D){const xa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(X.ya=xa,rn(X.I,X.D,xa))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-m.F,F.j.info("Handshake RTT: "+F.R+"ms")),X=F;var Fe=m;if(X.qa=co(X,X.J?X.ia:null,X.W),Fe.K){lr(X.h,Fe);var _n=Fe,sr=X.L;sr&&(_n.I=sr),_n.B&&(ic(_n),ha(_n)),X.g=Fe}else Et(X);0<F.i.length&&ve(F)}else en[0]!="stop"&&en[0]!="close"||Fn(F,7);else F.G==3&&(en[0]=="stop"||en[0]=="close"?en[0]=="stop"?Fn(F,7):B(F):en[0]!="noop"&&F.l&&F.l.ta(en),F.v=0)}}On(4)}catch{}}var Bu=class{constructor(m,C){this.g=m,this.map=C}};function Uu(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vu(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zu(m){return m.h?1:m.g?m.g.size:0}function fa(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function $u(m,C){m.g?m.g.add(C):m.h=C}function lr(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}Uu.prototype.cancel=function(){if(this.i=qu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function qu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const F of m.g.values())C=C.concat(F.D);return C}return y(m.i)}function oh(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var C=[],F=m.length,X=0;X<F;X++)C.push(m[X]);return C}C=[],F=0;for(X in m)C[F++]=m[X];return C}function Po(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var C=[];m=m.length;for(var F=0;F<m;F++)C.push(F);return C}C=[],F=0;for(const X in m)C[F++]=X;return C}}}function pa(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var F=Po(m),X=oh(m),we=X.length,Ae=0;Ae<we;Ae++)C.call(void 0,X[Ae],F&&F[Ae],m)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pl(m,C){if(m){m=m.split("&");for(var F=0;F<m.length;F++){var X=m[F].indexOf("="),we=null;if(0<=X){var Ae=m[F].substring(0,X);we=m[F].substring(X+1)}else Ae=m[F];C(Ae,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function kn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof kn){this.h=m.h,oc(this,m.j),this.o=m.o,this.g=m.g,ac(this,m.s),this.l=m.l;var C=m.i,F=new os;F.i=C.i,C.g&&(F.g=new Map(C.g),F.h=C.h),ah(this,F),this.m=m.m}else m&&(C=String(m).match(is))?(this.h=!1,oc(this,C[1]||"",!0),this.o=ma(C[2]||""),this.g=ma(C[3]||"",!0),ac(this,C[4]),this.l=ma(C[5]||"",!0),ah(this,C[6]||"",!0),this.m=ma(C[7]||"")):(this.h=!1,this.i=new os(null,this.h))}kn.prototype.toString=function(){var m=[],C=this.j;C&&m.push(ss(C,lh,!0),":");var F=this.g;return(F||C=="file")&&(m.push("//"),(C=this.o)&&m.push(ss(C,lh,!0),"@"),m.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&m.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&m.push("/"),m.push(ss(F,F.charAt(0)=="/"?gp:mp,!0))),(F=this.i.toString())&&m.push("?",F),(F=this.m)&&m.push("#",ss(F,gl)),m.join("")};function Bi(m){return new kn(m)}function oc(m,C,F){m.j=F?ma(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function ac(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function ah(m,C,F){C instanceof os?(m.i=C,vp(m.i,m.h)):(F||(C=ss(C,Wu)),m.i=new os(C,m.h))}function rn(m,C,F){m.i.set(C,F)}function ml(m){return rn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ma(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ss(m,C,F){return typeof m=="string"?(m=encodeURI(m).replace(C,Hu),F&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Hu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var lh=/[#\/\?@]/g,mp=/[#\?:]/g,gp=/[#\?]/g,Wu=/[#\?@]/g,gl=/#/g;function os(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function ao(m){m.g||(m.g=new Map,m.h=0,m.i&&pl(m.i,function(C,F){m.add(decodeURIComponent(C.replace(/\+/g," ")),F)}))}t=os.prototype,t.add=function(m,C){ao(this),this.i=null,m=va(this,m);var F=this.g.get(m);return F||this.g.set(m,F=[]),F.push(C),this.h+=1,this};function ga(m,C){ao(m),C=va(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function lc(m,C){return ao(m),C=va(m,C),m.g.has(C)}t.forEach=function(m,C){ao(this),this.g.forEach(function(F,X){F.forEach(function(we){m.call(C,we,X,this)},this)},this)},t.na=function(){ao(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),F=[];for(let X=0;X<C.length;X++){const we=m[X];for(let Ae=0;Ae<we.length;Ae++)F.push(C[X])}return F},t.V=function(m){ao(this);let C=[];if(typeof m=="string")lc(this,m)&&(C=C.concat(this.g.get(va(this,m))));else{m=Array.from(this.g.values());for(let F=0;F<m.length;F++)C=C.concat(m[F])}return C},t.set=function(m,C){return ao(this),this.i=null,m=va(this,m),lc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function It(m,C,F){ga(m,C),0<F.length&&(m.i=null,m.g.set(va(m,C),y(F)),m.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var F=0;F<C.length;F++){var X=C[F];const Ae=encodeURIComponent(String(X)),Fe=this.V(X);for(X=0;X<Fe.length;X++){var we=Ae;Fe[X]!==""&&(we+="="+encodeURIComponent(String(Fe[X]))),m.push(we)}}return this.i=m.join("&")};function va(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function vp(m,C){C&&!m.j&&(ao(m),m.i=null,m.g.forEach(function(F,X){var we=X.toLowerCase();X!=we&&(ga(this,X),It(this,we,F))},m)),m.j=C}function yp(m,C){const F=new Vn;if(a.Image){const X=new Image;X.onload=h(Qr,F,"TestLoadImage: loaded",!0,C,X),X.onerror=h(Qr,F,"TestLoadImage: error",!1,C,X),X.onabort=h(Qr,F,"TestLoadImage: abort",!1,C,X),X.ontimeout=h(Qr,F,"TestLoadImage: timeout",!1,C,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else C(!1)}function wp(m,C){const F=new Vn,X=new AbortController,we=setTimeout(()=>{X.abort(),Qr(F,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:X.signal}).then(Ae=>{clearTimeout(we),Ae.ok?Qr(F,"TestPingServer: ok",!0,C):Qr(F,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(we),Qr(F,"TestPingServer: error",!1,C)})}function Qr(m,C,F,X,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),X(F)}catch{}}function Io(){this.g=new gt}function _p(m,C,F){const X=F||"";try{pa(m,function(we,Ae){let Fe=we;c(we)&&(Fe=bt(we)),C.push(X+Ae+"="+encodeURIComponent(Fe))})}catch(we){throw C.push(X+"type="+encodeURIComponent("_badmap")),we}}function cc(m){this.l=m.Ub||null,this.j=m.eb||!1}_(cc,Vt),cc.prototype.g=function(){return new Ro(this.l,this.j)},cc.prototype.i=function(m){return function(){return m}}({});function Ro(m,C){He.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ro,He),t=Ro.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,lo(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function uc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?Rs(this):lo(this),this.readyState==3&&uc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Rs(this))},t.Qa=function(m){this.g&&(this.response=m,Rs(this))},t.ga=function(){this.g&&Rs(this)};function Rs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,lo(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var F=C.next();!F.done;)F=F.value,m.push(F[0]+": "+F[1]),F=C.next();return m.join(`\r
`)};function lo(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function vl(m){let C="";return U(m,function(F,X){C+=X,C+=":",C+=F,C+=`\r
`}),C}function Gu(m,C,F){e:{for(X in F){var X=!1;break e}X=!0}X||(F=vl(F),typeof m=="string"?F!=null&&encodeURIComponent(String(F)):rn(m,C,F))}function Mn(m){He.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Mn,He);var Ku=/^https?$/i,yl=["POST","PUT"];t=Mn.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,F,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fi.g(),this.v=this.o?Ct(this.o):Ct(Fi),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(Ae){ya(this,Ae);return}if(m=F||"",F=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var we in X)F.set(we,X[we]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Ae of X.keys())F.set(Ae,X.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(F.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),we=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yl,C,void 0))||X||we||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Fe]of F)this.g.setRequestHeader(Ae,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ae){ya(this,Ae)}};function ya(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,dc(m),wa(m)}function dc(m){m.A||(m.A=!0,_t(m,"complete"),_t(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,_t(this,"complete"),_t(this,"abort"),wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Mn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wl(this):this.bb())},t.bb=function(){wl(this)};function wl(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ui(m)!=4||m.Z()!=2)){if(m.u&&Ui(m)==4)ot(m.Ea,0,m);else if(_t(m,"readystatechange"),Ui(m)==4){m.h=!1;try{const Fe=m.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var F;if(!(F=C)){var X;if(X=Fe===0){var we=String(m.D).match(is)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),X=!Ku.test(we?we.toLowerCase():"")}F=X}if(F)_t(m,"complete"),_t(m,"success");else{m.m=6;try{var Ae=2<Ui(m)?m.g.statusText:""}catch{Ae=""}m.l=Ae+" ["+m.Z()+"]",dc(m)}}finally{wa(m)}}}}function wa(m,C){if(m.g){_a(m);const F=m.g,X=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||_t(m,"ready");try{F.onreadystatechange=X}catch{}}}function _a(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ui(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),nn(C)}};function hc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(m){const C={};m=(m.g&&2<=Ui(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(b(m[X]))continue;var F=T(m[X]);const we=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const Ae=C[we]||[];C[we]=Ae,Ae.push(F)}I(C,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(m,C,F){return F&&F.internalChannelParams&&F.internalChannelParams[m]||C}function S(m){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,m),this.cb=wi("retryDelaySeedMs",1e4,m),this.Wa=wi("forwardChannelMaxRetries",2,m),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Uu(m&&m.concurrentRequestLimit),this.Da=new Io,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=S.prototype,t.la=8,t.G=1,t.connect=function(m,C,F,X){fn(0),this.W=m,this.H=C||{},F&&X!==void 0&&(this.H.OSID=F,this.H.OAID=X),this.F=this.X,this.I=co(this,null,this.W),ve(this)};function B(m){if(ce(m),m.G==3){var C=m.U++,F=Bi(m.I);if(rn(F,"SID",m.K),rn(F,"RID",C),rn(F,"TYPE","terminate"),Ge(m,F),C=new br(m,m.j,C),C.L=2,C.v=ml(Bi(F)),F=!1,a.navigator&&a.navigator.sendBeacon)try{F=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!F&&a.Image&&(new Image().src=C.v,F=!0),F||(C.g=Lo(C.j,null),C.g.ea(C.v)),C.F=Date.now(),ha(C)}Or(m)}function ne(m){m.g&&(un(m),m.g.cancel(),m.g=null)}function ce(m){ne(m),m.u&&(a.clearTimeout(m.u),m.u=null),Qn(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function ve(m){if(!Vu(m.h)&&!m.s){m.s=!0;var C=m.Ga;oe||se(),$||(oe(),$=!0),te.add(C,m),m.B=0}}function ke(m,C){return zu(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Cn(g(m.Ga,m,C),pr(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const we=new br(this,this.j,m);let Ae=this.o;if(this.S&&(Ae?(Ae=k(Ae),M(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(we.H=Ae,Ae=null),this.P)e:{for(var C=0,F=0;F<this.i.length;F++){t:{var X=this.i[F];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(C+=X,4096<C){C=F;break e}if(C===4096||F===this.i.length-1){C=F+1;break e}}C=1e3}else C=1e3;C=nt(this,we,C),F=Bi(this.I),rn(F,"RID",m),rn(F,"CVER",22),this.D&&rn(F,"X-HTTP-Session-Id",this.D),Ge(this,F),Ae&&(this.O?C="headers="+encodeURIComponent(String(vl(Ae)))+"&"+C:this.m&&Gu(F,this.m,Ae)),$u(this.h,we),this.Ua&&rn(F,"TYPE","init"),this.P?(rn(F,"$req",C),rn(F,"SID","null"),we.T=!0,da(we,F,null)):da(we,F,C),this.G=2}}else this.G==3&&(m?je(this,m):this.i.length==0||Vu(this.h)||je(this))};function je(m,C){var F;C?F=C.l:F=m.U++;const X=Bi(m.I);rn(X,"SID",m.K),rn(X,"RID",F),rn(X,"AID",m.T),Ge(m,X),m.m&&m.o&&Gu(X,m.m,m.o),F=new br(m,m.j,F,m.B+1),m.m===null&&(F.H=m.o),C&&(m.i=C.D.concat(m.i)),C=nt(m,F,1e3),F.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),$u(m.h,F),da(F,X,C)}function Ge(m,C){m.H&&U(m.H,function(F,X){rn(C,X,F)}),m.l&&pa({},function(F,X){rn(C,X,F)})}function nt(m,C,F){F=Math.min(m.i.length,F);var X=m.l?g(m.l.Na,m.l,m):null;e:{var we=m.i;let Ae=-1;for(;;){const Fe=["count="+F];Ae==-1?0<F?(Ae=we[0].g,Fe.push("ofs="+Ae)):Ae=0:Fe.push("ofs="+Ae);let _n=!0;for(let sr=0;sr<F;sr++){let en=we[sr].g;const sn=we[sr].map;if(en-=Ae,0>en)Ae=Math.max(0,we[sr].g-100),_n=!1;else try{_p(sn,Fe,"req"+en+"_")}catch{X&&X(sn)}}if(_n){X=Fe.join("&");break e}}}return m=m.i.splice(0,F),C.D=m,X}function Et(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;oe||se(),$||(oe(),$=!0),te.add(C,m),m.v=0}}function Dt(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Cn(g(m.Fa,m),pr(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,qn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Cn(g(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),ne(this),qn(this))};function un(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function qn(m){m.g=new br(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=Bi(m.qa);rn(C,"RID","rpc"),rn(C,"SID",m.K),rn(C,"AID",m.T),rn(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&rn(C,"TO",m.ja),rn(C,"TYPE","xmlhttp"),Ge(m,C),m.m&&m.o&&Gu(C,m.m,m.o),m.L&&(m.g.I=m.L);var F=m.g;m=m.ia,F.L=1,F.v=ml(Bi(C)),F.m=null,F.P=!0,hl(F,m)}t.Za=function(){this.C!=null&&(this.C=null,ne(this),Dt(this),fn(19))};function Qn(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function bn(m,C){var F=null;if(m.g==C){Qn(m),un(m),m.g=null;var X=2}else if(fa(m.h,C))F=C.D,lr(m.h,C),X=1;else return;if(m.G!=0){if(C.o)if(X==1){F=C.m?C.m.length:0,C=Date.now()-C.F;var we=m.B;X=St(),_t(X,new jr(X,F)),ve(m)}else Et(m);else if(we=C.s,we==3||we==0&&0<C.X||!(X==1&&ke(m,C)||X==2&&Dt(m)))switch(F&&0<F.length&&(C=m.h,C.i=C.i.concat(F)),we){case 1:Fn(m,5);break;case 4:Fn(m,10);break;case 3:Fn(m,6);break;default:Fn(m,2)}}}function pr(m,C){let F=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(F*=2),F*C}function Fn(m,C){if(m.j.info("Error code "+C),C==2){var F=g(m.fb,m),X=m.Xa;const we=!X;X=new kn(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oc(X,"https"),ml(X),we?yp(X.toString(),F):wp(X.toString(),F)}else fn(2);m.G=0,m.l&&m.l.sa(C),Or(m),ce(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Or(m){if(m.G=0,m.ka=[],m.l){const C=qu(m.h);(C.length!=0||m.i.length!=0)&&(x(m.ka,C),x(m.ka,m.i),m.h.i.length=0,y(m.i),m.i.length=0),m.l.ra()}}function co(m,C,F){var X=F instanceof kn?Bi(F):new kn(F);if(X.g!="")C&&(X.g=C+"."+X.g),ac(X,X.s);else{var we=a.location;X=we.protocol,C=C?C+"."+we.hostname:we.hostname,we=+we.port;var Ae=new kn(null);X&&oc(Ae,X),C&&(Ae.g=C),we&&ac(Ae,we),F&&(Ae.l=F),X=Ae}return F=m.D,C=m.ya,F&&C&&rn(X,F,C),rn(X,"VER",m.la),Ge(m,X),X}function Lo(m,C,F){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new Mn(new cc({eb:F})):new Mn(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}t=ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(m,C){return new Sr(m,C)};function Sr(m,C){He.call(this),this.g=new S(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!b(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!b(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new Ls(this)}_(Sr,He),Sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){B(this.g)},Sr.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var F={};F.__data__=m,m=F}else this.u&&(F={},F.__data__=bt(m),m=F);C.i.push(new Bu(C.Ya++,m)),C.G==3&&ve(C)},Sr.prototype.N=function(){this.g.l=null,delete this.j,B(this.g),delete this.g,Sr.aa.N.call(this)};function as(m){cn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const F in C){m=F;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}_(as,cn);function fc(){ut.call(this),this.status=1}_(fc,ut);function Ls(m){this.g=m}_(Ls,ch),Ls.prototype.ua=function(){_t(this.g,"a")},Ls.prototype.ta=function(m){_t(this.g,new as(m))},Ls.prototype.sa=function(m){_t(this.g,new fc)},Ls.prototype.ra=function(){_t(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,cM=function(){return new _l},lM=function(){return St()},aM=Wt,M5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Vv=vi,ks.COMPLETE="complete",oM=ks,Bn.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",He.prototype.listen=He.prototype.K,rm=Bn,Mn.prototype.listenOnce=Mn.prototype.L,Mn.prototype.getLastError=Mn.prototype.Ka,Mn.prototype.getLastErrorCode=Mn.prototype.Ba,Mn.prototype.getStatus=Mn.prototype.Z,Mn.prototype.getResponseJson=Mn.prototype.Oa,Mn.prototype.getResponseText=Mn.prototype.oa,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Ha,sM=Mn}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});const Ak="@firebase/firestore",Ck="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new vE("@firebase/firestore");function Th(){return Hd.logLevel}function Ke(t,...e){if(Hd.logLevel<=on.DEBUG){const n=e.map(TE);Hd.debug(`Firestore (${up}): ${t}`,...n)}}function Zl(t,...e){if(Hd.logLevel<=on.ERROR){const n=e.map(TE);Hd.error(`Firestore (${up}): ${t}`,...n)}}function bu(t,...e){if(Hd.logLevel<=on.WARN){const n=e.map(TE);Hd.warn(`Firestore (${up}): ${t}`,...n)}}function TE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,uM(t,r,n)}function uM(t,e,n){let r=`FIRESTORE (${up}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zl(r),new Error(r)}function Tn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||uM(e,i,r)}function Ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ul{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _oe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pi.UNAUTHENTICATED))}shutdown(){}}class xoe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class boe{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string",31837,{l:r}),new dM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new Pi(e)}}class Soe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Eoe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Soe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Noe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aoe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Aoe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function F5(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Yt(r,i);{const s=hM(),o=Coe(s.encode(kk(t,n)),s.encode(kk(e,n)));return o!==0?o:Yt(r,i)}}n+=r>65535?2:1}return Yt(t.length,e.length)}function kk(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Coe(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Yt(t[n],e[n]);return Yt(t.length,e.length)}function $f(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="__name__";class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&kt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&kt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ia.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Yt(e.length,n.length)}static compareSegments(e,n){const r=Ia.isNumericId(e),i=Ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):F5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hu.fromString(e.substring(4,e.length-2))}}class ur extends Ia{construct(e,n,r){return new ur(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ht(Me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ur(n)}static emptyPath(){return new ur([])}}const Toe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends Ia{construct(e,n,r){return new fi(e,n,r)}static isValidIdentifier(e){return Toe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pk}static keyField(){return new fi([Pk])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ht(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ht(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ht(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ht(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(n)}static emptyPath(){return new fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.path=e}static fromPath(e){return new wt(ur.fromString(e))}static fromName(e){return new wt(ur.fromString(e).popFirst(5))}static empty(){return new wt(ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ur.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ur.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new ur(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function koe(t,e,n){if(!n)throw new ht(Me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Poe(t,e,n,r){if(e===!0&&r===!0)throw new ht(Me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ik(t){if(!wt.isDocumentKey(t))throw new ht(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function PE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt(12329,{type:typeof t})}function pu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ht(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PE(t);throw new ht(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xg(t,e){if(!fM(t))throw new ht(Me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ht(Me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=-62135596800,Lk=1e6;class er{static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lk);return new er(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ht(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rk)throw new ht(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lk}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xg(e,er._jsonSchema))return new er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}er._jsonSchemaVersion="firestore/timestamp/1.0",er._jsonSchema={type:Br("string",er._jsonSchemaVersion),seconds:Br("number"),nanoseconds:Br("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new er(0,0))}static max(){return new Ot(new er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function Ioe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(r===1e9?new er(n+1,0):new er(n,r));return new Su(i,wt.empty(),e)}function Roe(t){return new Su(t.readTime,t.key,fg)}class Su{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Su(Ot.min(),wt.empty(),fg)}static max(){return new Su(Ot.max(),wt.empty(),fg)}}function Loe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=wt.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Doe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){if(t.code!==Me.FAILED_PRECONDITION||t.message!==joe)throw t;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,r)=>{n(e)})}static reject(e){return new Re((n,r)=>{r(e)})}static waitFor(e){return new Re((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Re.resolve(!1);for(const r of e)n=n.next(i=>i?Re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Re((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ooe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}b2.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-1;function S2(t){return t==null}function ty(t){return t===0&&1/t==-1/0}function Moe(t){return typeof t=="number"&&Number.isInteger(t)&&!ty(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="";function Foe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=jk(e)),e=Boe(t.get(n),e);return jk(e)}function Boe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case pM:n+="";break;default:n+=s}}return n}function jk(t){return t+pM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.comparator=e,this.root=n||hi.EMPTY}insert(e,n){return new fr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hi.BLACK,null,null))}remove(e){return new fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rv(this.root,e,this.comparator,!1)}getReverseIterator(){return new rv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rv(this.root,e,this.comparator,!0)}}class rv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hi.RED,this.left=i??hi.EMPTY,this.right=s??hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new hi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw kt(27949);return e+(this.isRed()?0:1)}}hi.EMPTY=null,hi.RED=!0,hi.BLACK=!1;hi.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new hi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.comparator=e,this.data=new fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ok(this.data.getIterator())}getIteratorFrom(e){return new Ok(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gr(this.comparator);return n.data=e,n}}class Ok{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Ko([])}unionWith(e){let n=new Gr(fi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ko(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $f(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gM("Invalid base64 string: "+s):s}}(e);return new gi(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const Uoe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eu(t){if(Tn(!!t,39018),typeof t=="string"){let e=0;const n=Uoe.exec(t);if(Tn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kr(t.seconds),nanos:kr(t.nanos)}}function kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nu(t){return typeof t=="string"?gi.fromBase64String(t):gi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="server_timestamp",yM="__type__",wM="__previous_value__",_M="__local_write_time__";function RE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yM])===null||n===void 0?void 0:n.stringValue)===vM}function E2(t){const e=t.mapValue.fields[wM];return RE(e)?E2(e):e}function pg(t){const e=Eu(t.mapValue.fields[_M].timestampValue);return new er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const ny="(default)";class mg{constructor(e,n){this.projectId=e,this.database=n||ny}static empty(){return new mg("","")}get isDefaultDatabase(){return this.database===ny}isEqual(e){return e instanceof mg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="__type__",bM="__max__",iv={mapValue:{fields:{__type__:{stringValue:bM}}}},SM="__vector__",ry="value";function Au(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RE(t)?4:$oe(t)?9007199254740991:zoe(t)?10:11:kt(28295,{value:t})}function sl(t,e){if(t===e)return!0;const n=Au(t);if(n!==Au(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pg(t).isEqual(pg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Eu(i.timestampValue),a=Eu(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nu(i.bytesValue).isEqual(Nu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kr(i.geoPointValue.latitude)===kr(s.geoPointValue.latitude)&&kr(i.geoPointValue.longitude)===kr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kr(i.integerValue)===kr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kr(i.doubleValue),a=kr(s.doubleValue);return o===a?ty(o)===ty(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $f(t.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Dk(o)!==Dk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sl(o[l],a[l])))return!1;return!0}(t,e);default:return kt(52216,{left:t})}}function gg(t,e){return(t.values||[]).find(n=>sl(n,e))!==void 0}function qf(t,e){if(t===e)return 0;const n=Au(t),r=Au(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=kr(s.integerValue||s.doubleValue),l=kr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Mk(t.timestampValue,e.timestampValue);case 4:return Mk(pg(t),pg(e));case 5:return F5(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Nu(s),l=Nu(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Yt(a[c],l[c]);if(d!==0)return d}return Yt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Yt(kr(s.latitude),kr(o.latitude));return a!==0?a:Yt(kr(s.longitude),kr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fk(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},g=o.fields||{},h=(a=f[ry])===null||a===void 0?void 0:a.arrayValue,_=(l=g[ry])===null||l===void 0?void 0:l.arrayValue,y=Yt(((c=h==null?void 0:h.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:Fk(h,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===iv.mapValue&&o===iv.mapValue)return 0;if(s===iv.mapValue)return 1;if(o===iv.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=F5(l[f],d[f]);if(g!==0)return g;const h=qf(a[l[f]],c[d[f]]);if(h!==0)return h}return Yt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw kt(23264,{le:n})}}function Mk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=Eu(t),r=Eu(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function Fk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qf(n[i],r[i]);if(s)return s}return Yt(n.length,r.length)}function Hf(t){return B5(t)}function B5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Eu(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return wt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=B5(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${B5(n.fields[o])}`;return i+"}"}(t.mapValue):kt(61005,{value:t})}function zv(t){switch(Au(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=E2(t);return e?16+zv(e):16;case 5:return 2*t.stringValue.length;case 6:return Nu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+zv(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return nh(r.fields,(s,o)=>{i+=s.length+zv(o)}),i}(t.mapValue);default:throw kt(13486,{value:t})}}function U5(t){return!!t&&"integerValue"in t}function LE(t){return!!t&&"arrayValue"in t}function Bk(t){return!!t&&"nullValue"in t}function Uk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $v(t){return!!t&&"mapValue"in t}function zoe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xM])===null||n===void 0?void 0:n.stringValue)===SM}function Nm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nh(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $oe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.value=e}static empty(){return new yo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$v(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nm(n)}setAll(e){let n=fi.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Nm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());$v(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$v(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){nh(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yo(Nm(this.value))}}function EM(t){const e=[];return nh(t.fields,(n,r)=>{const i=new fi([n]);if($v(r)){const s=EM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ko(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ri(e,0,Ot.min(),Ot.min(),Ot.min(),yo.empty(),0)}static newFoundDocument(e,n,r,i){return new Ri(e,1,n,Ot.min(),r,i,0)}static newNoDocument(e,n){return new Ri(e,2,n,Ot.min(),Ot.min(),yo.empty(),0)}static newUnknownDocument(e,n){return new Ri(e,3,n,Ot.min(),Ot.min(),yo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.position=e,this.inclusive=n}}function Vk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=wt.comparator(wt.fromName(o.referenceValue),n.key):r=qf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n="asc"){this.field=e,this.dir=n}}function qoe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{}class qr extends NM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Woe(e,n,r):n==="array-contains"?new Yoe(e,r):n==="in"?new Qoe(e,r):n==="not-in"?new Xoe(e,r):n==="array-contains-any"?new Joe(e,r):new qr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Goe(e,r):new Koe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qf(n,this.value)):n!==null&&Au(this.value)===Au(n)&&this.matchesComparison(qf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ol extends NM{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ol(e,n)}matches(e){return AM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function AM(t){return t.op==="and"}function CM(t){return Hoe(t)&&AM(t)}function Hoe(t){for(const e of t.filters)if(e instanceof ol)return!1;return!0}function V5(t){if(t instanceof qr)return t.field.canonicalString()+t.op.toString()+Hf(t.value);if(CM(t))return t.filters.map(e=>V5(e)).join(",");{const e=t.filters.map(n=>V5(n)).join(",");return`${t.op}(${e})`}}function TM(t,e){return t instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.field.isEqual(i.field)&&sl(r.value,i.value)}(t,e):t instanceof ol?function(r,i){return i instanceof ol&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TM(o,i.filters[a]),!0):!1}(t,e):void kt(19439)}function kM(t){return t instanceof qr?function(n){return`${n.field.canonicalString()} ${n.op} ${Hf(n.value)}`}(t):t instanceof ol?function(n){return n.op.toString()+" {"+n.getFilters().map(kM).join(" ,")+"}"}(t):"Filter"}class Woe extends qr{constructor(e,n,r){super(e,n,r),this.key=wt.fromName(r.referenceValue)}matches(e){const n=wt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Goe extends qr{constructor(e,n){super(e,"in",n),this.keys=PM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Koe extends qr{constructor(e,n){super(e,"not-in",n),this.keys=PM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>wt.fromName(r.referenceValue))}class Yoe extends qr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return LE(n)&&gg(n.arrayValue,this.value)}}class Qoe extends qr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gg(this.value.arrayValue,n)}}class Xoe extends qr{constructor(e,n){super(e,"not-in",n)}matches(e){if(gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gg(this.value.arrayValue,n)}}class Joe extends qr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!LE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function $k(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Zoe(t,e,n,r,i,s,o)}function jE(t){const e=Ft(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V5(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),S2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hf(r)).join(",")),e.Pe=n}return e.Pe}function DE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qoe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zk(t.startAt,e.startAt)&&zk(t.endAt,e.endAt)}function z5(t){return wt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function eae(t,e,n,r,i,s,o,a){return new N2(t,e,n,r,i,s,o,a)}function A2(t){return new N2(t)}function qk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tae(t){return t.collectionGroup!==null}function Am(t){const e=Ft(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gr(fi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new sy(s,r))}),n.has(fi.keyField().canonicalString())||e.Te.push(new sy(fi.keyField(),r))}return e.Te}function Ja(t){const e=Ft(t);return e.Ie||(e.Ie=nae(e,Am(t))),e.Ie}function nae(t,e){if(t.limitType==="F")return $k(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sy(i.field,s)});const n=t.endAt?new iy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new iy(t.startAt.position,t.startAt.inclusive):null;return $k(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $5(t,e,n){return new N2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function C2(t,e){return DE(Ja(t),Ja(e))&&t.limitType===e.limitType}function IM(t){return`${jE(Ja(t))}|lt:${t.limitType}`}function kh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kM(i)).join(", ")}]`),S2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hf(i)).join(",")),`Target(${r})`}(Ja(t))}; limitType=${t.limitType})`}function T2(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):wt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Am(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Vk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Am(r),i)||r.endAt&&!function(o,a,l){const c=Vk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Am(r),i))}(t,e)}function rae(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RM(t){return(e,n)=>{let r=!1;for(const i of Am(t)){const s=iae(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iae(t,e,n){const r=t.field.isKeyField()?wt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?qf(l,c):kt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nh(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae=new fr(wt.comparator);function ec(){return sae}const LM=new fr(wt.comparator);function im(...t){let e=LM;for(const n of t)e=e.insert(n.key,n);return e}function jM(t){let e=LM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function dd(){return Cm()}function DM(){return Cm()}function Cm(){return new rh(t=>t.toString(),(t,e)=>t.isEqual(e))}const oae=new fr(wt.comparator),aae=new Gr(wt.comparator);function an(...t){let e=aae;for(const n of t)e=e.add(n);return e}const lae=new Gr(Yt);function cae(){return lae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ty(e)?"-0":e}}function OM(t){return{integerValue:""+t}}function uae(t,e){return Moe(e)?OM(e):OE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._=void 0}}function dae(t,e,n){return t instanceof oy?function(i,s){const o={fields:{[yM]:{stringValue:vM},[_M]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RE(s)&&(s=E2(s)),s&&(o.fields[wM]=s),{mapValue:o}}(n,e):t instanceof vg?FM(t,e):t instanceof yg?BM(t,e):function(i,s){const o=MM(i,s),a=Hk(o)+Hk(i.Ee);return U5(o)&&U5(i.Ee)?OM(a):OE(i.serializer,a)}(t,e)}function hae(t,e,n){return t instanceof vg?FM(t,e):t instanceof yg?BM(t,e):n}function MM(t,e){return t instanceof ay?function(r){return U5(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oy extends k2{}class vg extends k2{constructor(e){super(),this.elements=e}}function FM(t,e){const n=UM(e);for(const r of t.elements)n.some(i=>sl(i,r))||n.push(r);return{arrayValue:{values:n}}}class yg extends k2{constructor(e){super(),this.elements=e}}function BM(t,e){let n=UM(e);for(const r of t.elements)n=n.filter(i=>!sl(i,r));return{arrayValue:{values:n}}}class ay extends k2{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Hk(t){return kr(t.integerValue||t.doubleValue)}function UM(t){return LE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fae(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vg&&i instanceof vg||r instanceof yg&&i instanceof yg?$f(r.elements,i.elements,sl):r instanceof ay&&i instanceof ay?sl(r.Ee,i.Ee):r instanceof oy&&i instanceof oy}(t.transform,e.transform)}class pae{constructor(e,n){this.version=e,this.transformResults=n}}class $l{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $l}static exists(e){return new $l(void 0,e)}static updateTime(e){return new $l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class P2{}function VM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $M(t.key,$l.none()):new Jg(t.key,t.data,$l.none());{const n=t.data,r=yo.empty();let i=new Gr(fi.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ih(t.key,r,new Ko(i.toArray()),$l.none())}}function mae(t,e,n){t instanceof Jg?function(i,s,o){const a=i.value.clone(),l=Gk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ih?function(i,s,o){if(!qv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Gk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tm(t,e,n,r){return t instanceof Jg?function(s,o,a,l){if(!qv(s.precondition,o))return a;const c=s.value.clone(),d=Kk(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ih?function(s,o,a,l){if(!qv(s.precondition,o))return a;const c=Kk(s.fieldTransforms,l,o),d=o.data;return d.setAll(zM(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return qv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gae(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MM(r.transform,i||null);s!=null&&(n===null&&(n=yo.empty()),n.set(r.field,s))}return n||null}function Wk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$f(r,i,(s,o)=>fae(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jg extends P2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ih extends P2{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gk(t,e,n){const r=new Map;Tn(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hae(o,a,n[i]))}return r}function Kk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dae(s,o,e))}return r}class $M extends P2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vae extends P2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mae(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=VM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ot.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),an())}isEqual(e){return this.batchId===e.batchId&&$f(this.mutations,e.mutations,(n,r)=>Wk(n,r))&&$f(this.baseMutations,e.baseMutations,(n,r)=>Wk(n,r))}}class ME{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Tn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return oae}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ME(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,mn;function xae(t){switch(t){case Me.OK:return kt(64938);case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0;default:return kt(15467,{code:t})}}function qM(t){if(t===void 0)return Zl("GRPC error has no .code"),Me.UNKNOWN;switch(t){case Mr.OK:return Me.OK;case Mr.CANCELLED:return Me.CANCELLED;case Mr.UNKNOWN:return Me.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return Me.INTERNAL;case Mr.UNAVAILABLE:return Me.UNAVAILABLE;case Mr.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case Mr.NOT_FOUND:return Me.NOT_FOUND;case Mr.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case Mr.ABORTED:return Me.ABORTED;case Mr.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case Mr.DATA_LOSS:return Me.DATA_LOSS;default:return kt(39323,{code:t})}}(mn=Mr||(Mr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bae=new hu([4294967295,4294967295],0);function Yk(t){const e=hM().encode(t),n=new iM;return n.update(e),new Uint8Array(n.digest())}function Qk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hu([n,r],0),new hu([i,s],0)]}class FE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sm(`Invalid padding: ${n}`);if(r<0)throw new sm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sm(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=hu.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(hu.fromNumber(r)));return i.compare(bae)===1&&(i=new hu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Yk(e),[r,i]=Qk(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new FE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=Yk(e),[r,i]=Qk(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new I2(Ot.min(),i,new fr(Yt),ec(),an())}}class Zg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zg(r,n,an(),an(),an())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class HM{constructor(e,n){this.targetId=e,this.De=n}}class WM{constructor(e,n,r=gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xk{constructor(){this.ve=0,this.Ce=Jk(),this.Fe=gi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=an(),n=an(),r=an();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:kt(38017,{changeType:s})}}),new Zg(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=Jk()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Tn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Sae{constructor(e){this.We=e,this.Ge=new Map,this.ze=ec(),this.je=sv(),this.Je=sv(),this.He=new fr(Yt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:kt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(z5(s))if(r===0){const o=new wt(s.path);this.Xe(n,o,Ri.newNoDocument(o,Ot.min()))}else Tn(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Nu(r).toUint8Array()}catch(l){if(l instanceof gM)return bu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new FE(o,i,s)}catch(l){return bu(l instanceof sm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&z5(a.target)){const l=new wt(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ri.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=an();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new I2(e,n,this.He,this.ze,r);return this.ze=ec(),this.je=sv(),this.Je=sv(),this.He=new fr(Yt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Xk,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Gr(Yt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Gr(Yt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Ke("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Xk),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function sv(){return new fr(wt.comparator)}function Jk(){return new fr(wt.comparator)}const Eae={asc:"ASCENDING",desc:"DESCENDING"},Nae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Aae={and:"AND",or:"OR"};class Cae{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q5(t,e){return t.useProto3Json||S2(e)?e:{value:e}}function ly(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tae(t,e){return ly(t,e.toTimestamp())}function Za(t){return Tn(!!t,49232),Ot.fromTimestamp(function(n){const r=Eu(n);return new er(r.seconds,r.nanos)}(t))}function BE(t,e){return H5(t,e).canonicalString()}function H5(t,e){const n=function(i){return new ur(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KM(t){const e=ur.fromString(t);return Tn(ZM(e),10190,{key:e.toString()}),e}function W5(t,e){return BE(t.databaseId,e.path)}function O_(t,e){const n=KM(e);if(n.get(1)!==t.databaseId.projectId)throw new ht(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ht(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new wt(QM(n))}function YM(t,e){return BE(t.databaseId,e)}function kae(t){const e=KM(t);return e.length===4?ur.emptyPath():QM(e)}function G5(t){return new ur(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QM(t){return Tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Zk(t,e,n){return{name:W5(t,e),fields:n.value.mapValue.fields}}function Pae(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:kt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Tn(d===void 0||typeof d=="string",58123),gi.fromBase64String(d||"")):(Tn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gi.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?Me.UNKNOWN:qM(c.code);return new ht(d,c.message||"")}(o);n=new WM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=O_(t,r.document.name),s=Za(r.document.updateTime),o=r.document.createTime?Za(r.document.createTime):Ot.min(),a=new yo({mapValue:{fields:r.document.fields}}),l=Ri.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Hv(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=O_(t,r.document),s=r.readTime?Za(r.readTime):Ot.min(),o=Ri.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Hv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=O_(t,r.document),s=r.removedTargetIds||[];n=new Hv([],s,i,null)}else{if(!("filter"in e))return kt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _ae(i,s),a=r.targetId;n=new HM(a,o)}}return n}function Iae(t,e){let n;if(e instanceof Jg)n={update:Zk(t,e.key,e.value)};else if(e instanceof $M)n={delete:W5(t,e.key)};else if(e instanceof ih)n={update:Zk(t,e.key,e.data),updateMask:Uae(e.fieldMask)};else{if(!(e instanceof vae))return kt(16599,{Rt:e.type});n={verify:W5(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ay)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw kt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Tae(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:kt(27497)}(t,e.precondition)),n}function Rae(t,e){return t&&t.length>0?(Tn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Za(i.updateTime):Za(s);return o.isEqual(Ot.min())&&(o=Za(s)),new pae(o,i.transformResults||[])}(n,e))):[]}function Lae(t,e){return{documents:[YM(t,e.path)]}}function jae(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YM(t,i);const s=function(c){if(c.length!==0)return JM(ol.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Ph(g.field),direction:Mae(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=q5(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function Dae(t){let e=kae(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const g=XM(f);return g instanceof ol&&CM(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(_){return new sy(Ih(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,S2(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,h=f.values||[];return new iy(h,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,h=f.values||[];return new iy(h,g)}(n.endAt)),eae(e,i,o,s,a,"F",l,c)}function Oae(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ih(n.unaryFilter.field);return qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ih(n.unaryFilter.field);return qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ih(n.unaryFilter.field);return qr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ih(n.unaryFilter.field);return qr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}}(t):t.fieldFilter!==void 0?function(n){return qr.create(Ih(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ol.create(n.compositeFilter.filters.map(r=>XM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt(1026)}}(n.compositeFilter.op))}(t):kt(30097,{filter:t})}function Mae(t){return Eae[t]}function Fae(t){return Nae[t]}function Bae(t){return Aae[t]}function Ph(t){return{fieldPath:t.canonicalString()}}function Ih(t){return fi.fromServerFormat(t.fieldPath)}function JM(t){return t instanceof qr?function(n){if(n.op==="=="){if(Uk(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NAN"}};if(Bk(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uk(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NOT_NAN"}};if(Bk(n.value))return{unaryFilter:{field:Ph(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(n.field),op:Fae(n.op),value:n.value}}}(t):t instanceof ol?function(n){const r=n.getFilters().map(i=>JM(i));return r.length===1?r[0]:{compositeFilter:{op:Bae(n.op),filters:r}}}(t):kt(54877,{filter:t})}function Uae(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i,s=Ot.min(),o=Ot.min(),a=gi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vae{constructor(e){this.gt=e}}function zae(t){const e=Dae({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ae{constructor(){this.Dn=new qae}addToCollectionParentIndex(e,n){return this.Dn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(Su.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(Su.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class qae{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gr(ur.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gr(ur.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e7=41943040;class fs{static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(e7,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wf(0)}static ur(){return new Wf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="LruGarbageCollector",Hae=1048576;function nP([t,e],[n,r]){const i=Yt(t,n);return i===0?Yt(e,r):i}class Wae{constructor(e){this.Tr=e,this.buffer=new Gr(nP),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gae{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ke(tP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hp(n)?Ke(tP,"Ignoring IndexedDB error during garbage collection: ",n):await dp(n)}await this.Rr(3e5)})}}class Kae{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Re.resolve(b2.ue);const r=new Wae(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(eP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eP):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Th()<=on.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Yae(t,e){return new Kae(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qae{constructor(){this.changes=new rh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ri.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jae{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Tm(r.mutation,i,Ko.empty(),er.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,n,r=an()){const i=dd();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=im();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=dd();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,an()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ec();const o=Cm(),a=function(){return Cm()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ih)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Tm(d.mutation,c,d.mutation.getFieldMask(),er.now())):o.set(c.key,Ko.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new Xae(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cm();let i=new fr((o,a)=>o-a),s=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Ko.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||an()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=DM();d.forEach(g=>{if(!s.has(g)){const h=VM(n.get(g),r.get(g));h!==null&&f.set(g,h),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return wt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tae(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Re.resolve(dd());let a=fg,l=s;return o.next(c=>Re.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?Re.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,an())).next(d=>({batchId:a,changes:jM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new wt(n)).next(r=>{let i=im();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=im();return this.indexManager.getCollectionParents(e,s).next(a=>Re.forEach(a,l=>{const c=function(f,g){return new N2(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ri.newInvalidDocument(d)))});let a=im();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Tm(d.mutation,c,Ko.empty(),er.now()),T2(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zae{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Re.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Za(i.createTime)}}(n)),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:zae(i.bundledQuery),readTime:Za(i.readTime)}}(n)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ele{constructor(){this.overlays=new fr(wt.comparator),this.kr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dd();return Re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),Re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){const i=dd(),s=n.length+1,o=new wt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new fr((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=dd(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=dd(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return Re.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wae(n,r));let s=this.kr.get(n);s===void 0&&(s=an(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tle{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.qr=new Gr(Jr.Qr),this.$r=new Gr(Jr.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Jr(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Jr(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new wt(new ur([])),r=new Jr(n,e),i=new Jr(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new wt(new ur([])),r=new Jr(n,e),i=new Jr(n,e+1);let s=an();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jr(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jr{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return wt.comparator(e.key,n.key)||Yt(e.Hr,n.Hr)}static Ur(e,n){return Yt(e.Hr,n.Hr)||wt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nle{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Gr(Jr.Qr)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yae(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new Jr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,n){return Re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?IE:this.er-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jr(n,0),i=new Jr(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gr(Yt);return n.forEach(i=>{const s=new Jr(i,0),o=new Jr(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),Re.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;wt.isDocumentKey(s)||(s=s.child(""));const o=new Jr(new wt(s),0);let a=new Gr(Yt);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),Re.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tn(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Re.forEach(n.mutations,i=>{const s=new Jr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Jr(n,0),i=this.Yr.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(e){this.ni=e,this.docs=function(){return new fr(wt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():Ri.newInvalidDocument(n))}getEntries(e,n){let r=ec();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ri.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ec();const o=n.path,a=new wt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Loe(Roe(d),r)<=0||(i.has(d.key)||T2(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){kt(9500)}ri(e,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ile(this)}getSize(e){return Re.resolve(this.size)}}class ile extends Qae{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Re.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e){this.persistence=e,this.ii=new rh(n=>jE(n),DE),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.si=0,this.oi=new UE,this.targetCount=0,this._i=Wf.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Re.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wf(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.hr(n),Re.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n){this.ai={},this.overlays={},this.ui=new b2(0),this.ci=!1,this.ci=!0,this.li=new tle,this.referenceDelegate=e(this),this.hi=new sle(this),this.indexManager=new $ae,this.remoteDocumentCache=function(i){return new rle(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Vae(n),this.Ti=new Zae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ele,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new nle(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new ole(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return Re.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class ole extends Doe{constructor(e){super(),this.currentSequenceNumber=e}}class VE{constructor(e){this.persistence=e,this.Ai=new UE,this.Ri=null}static Vi(e){return new VE(e)}get mi(){if(this.Ri)return this.Ri;throw kt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.mi,r=>{const i=wt.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,Ot.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Re.or([()=>Re.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class cy{constructor(e,n){this.persistence=e,this.gi=new rh(r=>Foe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Yae(this,n)}static Vi(e,n){return new cy(e,n)}Ii(){}di(e){return Re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Re.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?Re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ot.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Re.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Re.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zv(e.data.value)),n}Sr(e,n,r){return Re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=an(),i=an();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ale{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lle{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Une()?8:Ooe(Oi())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ale;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Th()<=on.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",kh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Re.resolve()):(Th()<=on.DEBUG&&Ke("QueryEngine","Query:",kh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Th()<=on.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",kh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ja(n))):Re.resolve())}ps(e,n){if(qk(n))return Re.resolve(null);let r=Ja(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$5(n,null,"F"),r=Ja(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=an(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,$5(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return qk(n)||i.isEqual(Ot.min())?Re.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?Re.resolve(null):(Th()<=on.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kh(n)),this.vs(e,o,n,Ioe(i,fg)).next(a=>a))})}bs(e,n){let r=new Gr(RM(e));return n.forEach((i,s)=>{T2(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return Th()<=on.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",kh(n)),this.gs.getDocumentsMatchingQuery(e,n,Su.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="LocalStore",cle=3e8;class ule{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new fr(Yt),this.Ms=new rh(s=>jE(s),DE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jae(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function dle(t,e,n,r){return new ule(t,e,n,r)}async function n7(t,e){const n=Ft(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=an();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function hle(t,e){const n=Ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,g=f.keys();let h=Re.resolve();return g.forEach(_=>{h=h.next(()=>d.getEntry(l,_)).next(y=>{const x=c.docVersions.get(_);Tn(x!==null,48541),y.version.compareTo(x)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=an();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function r7(t){const e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function fle(t,e){const n=Ft(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,f)));let h=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(gi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,r)),i=i.insert(f,h),function(y,x,w){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=cle?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,h,d)&&a.push(n.hi.updateTargetData(s,h))});let l=ec(),c=an();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(ple(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(Ot.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(f=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function ple(t,e,n){let r=an(),i=an();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ec();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ot.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ke($E,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function mle(t,e){const n=Ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=IE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gle(t,e){const n=Ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,Re.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new Xc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function K5(t,e,n){const r=Ft(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hp(o))throw o;Ke($E,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function rP(t,e,n){const r=Ft(t);let i=Ot.min(),s=an();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ft(l),g=f.Ms.get(d);return g!==void 0?Re.resolve(f.Fs.get(g)):f.hi.getTargetData(c,d)}(r,o,Ja(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Ot.min(),n?s:an())).next(a=>(vle(r,rae(e),a),{documents:a,qs:s})))}function vle(t,e,n){let r=t.xs.get(e)||Ot.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}class iP{constructor(){this.activeTargetIds=cae()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yle{constructor(){this.Fo=new iP,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new iP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wle{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="ConnectivityMonitor";class oP{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ke(sP,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ke(sP,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov=null;function Y5(){return ov===null?ov=function(){return 268435456+Math.round(2147483648*Math.random())}():ov++,"0x"+ov.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="RestConnection",_le={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xle{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ny?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Y5(),a=this.Go(e,n.toUriEncodedString());Ke(M_,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=Du(c);return this.jo(e,a,l,r,d).then(f=>(Ke(M_,`Received RPC '${e}' ${o}: `,f),f),f=>{throw bu(M_,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+up}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=_le[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="WebChannelConnection";class Sle extends xle{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=Y5();return new Promise((a,l)=>{const c=new sM;c.setWithCredentials(!0),c.listenOnce(oM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vv.NO_ERROR:const f=c.getResponseJson();Ke(Ti,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Vv.TIMEOUT:Ke(Ti,`RPC '${e}' ${o} timed out`),l(new ht(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Vv.HTTP_ERROR:const g=c.getStatus();if(Ke(Ti,`RPC '${e}' ${o} failed with status:`,g,"response text:",c.getResponseText()),g>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const _=h==null?void 0:h.error;if(_&&_.status&&_.message){const y=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(b)>=0?b:Me.UNKNOWN}(_.status);l(new ht(y,_.message))}else l(new ht(Me.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ht(Me.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{Ke(Ti,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ke(Ti,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=Y5(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cM(),a=lM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Ke(Ti,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);this.T_(f);let g=!1,h=!1;const _=new ble({Ho:x=>{h?Ke(Ti,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Ke(Ti,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Ke(Ti,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Yo:()=>f.close()}),y=(x,w,b)=>{x.listen(w,N=>{try{b(N)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,rm.EventType.OPEN,()=>{h||(Ke(Ti,`RPC '${e}' stream ${i} transport opened.`),_.s_())}),y(f,rm.EventType.CLOSE,()=>{h||(h=!0,Ke(Ti,`RPC '${e}' stream ${i} transport closed`),_.__(),this.I_(f))}),y(f,rm.EventType.ERROR,x=>{h||(h=!0,bu(Ti,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),_.__(new ht(Me.UNAVAILABLE,"The operation could not be completed")))}),y(f,rm.EventType.MESSAGE,x=>{var w;if(!h){const b=x.data[0];Tn(!!b,16349);const N=b,R=(N==null?void 0:N.error)||((w=N[0])===null||w===void 0?void 0:w.error);if(R){Ke(Ti,`RPC '${e}' stream ${i} received error:`,R);const z=R.status;let U=function(P){const M=Mr[P];if(M!==void 0)return qM(M)}(z),I=R.message;U===void 0&&(U=Me.INTERNAL,I="Unknown error status: "+z+" with message "+R.message),h=!0,_.__(new ht(U,I)),f.close()}else Ke(Ti,`RPC '${e}' stream ${i} received:`,b),_.a_(b)}}),y(a,aM.STAT_EVENT,x=>{x.stat===M5.PROXY?Ke(Ti,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===M5.NOPROXY&&Ke(Ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.o_()},0),_}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function F_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){return new Cae(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="PersistentStream";class s7{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new i7(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(Zl(n.toString()),Zl("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new ht(Me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Ke(aP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Ke(aP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ele extends s7{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Pae(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ot.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ot.min():o.readTime?Za(o.readTime):Ot.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=G5(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=z5(l)?{documents:Lae(s,l)}:{query:jae(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GM(s,o.resumeToken);const c=q5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ot.min())>0){a.readTime=ly(s,o.snapshotVersion.toTimestamp());const c=q5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Oae(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=G5(this.serializer),n.removeTarget=e,this.k_(n)}}class Nle extends s7{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Rae(e.writeResults,e.commitTime),r=Za(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=G5(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Iae(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ale{}class Cle extends Ale{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ht(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,H5(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ht(Me.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,H5(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ht(Me.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Tle{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zl(n),this._a=!1):Ke("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="RemoteStore";class kle{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{sh(this)&&(Ke(Wd,"Restarting streams for network reachability change."),await async function(l){const c=Ft(l);c.Ia.add(4),await e0(c),c.Aa.set("Unknown"),c.Ia.delete(4),await L2(c)}(this))})}),this.Aa=new Tle(r,i)}}async function L2(t){if(sh(t))for(const e of t.da)await e(!0)}async function e0(t){for(const e of t.da)await e(!1)}function o7(t,e){const n=Ft(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),GE(n)?WE(n):fp(n).x_()&&HE(n,e))}function qE(t,e){const n=Ft(t),r=fp(n);n.Ta.delete(e),r.x_()&&a7(n,e),n.Ta.size===0&&(r.x_()?r.B_():sh(n)&&n.Aa.set("Unknown"))}function HE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fp(t).H_(e)}function a7(t,e){t.Ra.$e(e),fp(t).Y_(e)}function WE(t){t.Ra=new Sae({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),fp(t).start(),t.Aa.aa()}function GE(t){return sh(t)&&!fp(t).M_()&&t.Ta.size>0}function sh(t){return Ft(t).Ia.size===0}function l7(t){t.Ra=void 0}async function Ple(t){t.Aa.set("Online")}async function Ile(t){t.Ta.forEach((e,n)=>{HE(t,e)})}async function Rle(t,e){l7(t),GE(t)?(t.Aa.la(e),WE(t)):t.Aa.set("Unknown")}async function Lle(t,e,n){if(t.Aa.set("Online"),e instanceof WM&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){Ke(Wd,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uy(t,r)}else if(e instanceof Hv?t.Ra.Ye(e):e instanceof HM?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ot.min()))try{const r=await r7(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(gi.EMPTY_BYTE_STRING,d.snapshotVersion)),a7(s,l);const f=new Xc(d.target,l,c,d.sequenceNumber);HE(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ke(Wd,"Failed to raise snapshot:",r),await uy(t,r)}}async function uy(t,e,n){if(!hp(e))throw e;t.Ia.add(1),await e0(t),t.Aa.set("Offline"),n||(n=()=>r7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ke(Wd,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await L2(t)})}function c7(t,e){return e().catch(n=>uy(t,n,e))}async function j2(t){const e=Ft(t),n=Cu(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:IE;for(;jle(e);)try{const i=await mle(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Dle(e,i)}catch(i){await uy(e,i)}u7(e)&&d7(e)}function jle(t){return sh(t)&&t.Pa.length<10}function Dle(t,e){t.Pa.push(e);const n=Cu(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function u7(t){return sh(t)&&!Cu(t).M_()&&t.Pa.length>0}function d7(t){Cu(t).start()}async function Ole(t){Cu(t).na()}async function Mle(t){const e=Cu(t);for(const n of t.Pa)e.X_(n.mutations)}async function Fle(t,e,n){const r=t.Pa.shift(),i=ME.from(r,e,n);await c7(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await j2(t)}async function Ble(t,e){e&&Cu(t).Z_&&await async function(r,i){if(function(o){return xae(o)&&o!==Me.ABORTED}(i.code)){const s=r.Pa.shift();Cu(r).N_(),await c7(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await j2(r)}}(t,e),u7(t)&&d7(t)}async function lP(t,e){const n=Ft(t);n.asyncQueue.verifyOperationInProgress(),Ke(Wd,"RemoteStore received new credentials");const r=sh(n);n.Ia.add(3),await e0(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await L2(n)}async function Ule(t,e){const n=Ft(t);e?(n.Ia.delete(2),await L2(n)):e||(n.Ia.add(2),await e0(n),n.Aa.set("Unknown"))}function fp(t){return t.Va||(t.Va=function(n,r,i){const s=Ft(n);return s.ia(),new Ele(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:Ple.bind(null,t),e_:Ile.bind(null,t),n_:Rle.bind(null,t),J_:Lle.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),GE(t)?WE(t):t.Aa.set("Unknown")):(await t.Va.stop(),l7(t))})),t.Va}function Cu(t){return t.ma||(t.ma=function(n,r,i){const s=Ft(n);return s.ia(),new Nle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ole.bind(null,t),n_:Ble.bind(null,t),ea:Mle.bind(null,t),ta:Fle.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await j2(t)):(await t.ma.stop(),t.Pa.length>0&&(Ke(Wd,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new KE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YE(t,e){if(Zl("AsyncQueue",`${e}: ${t}`),hp(t))return new ht(Me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{static emptySet(e){return new mf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||wt.comparator(n.key,r.key):(n,r)=>wt.comparator(n.key,r.key),this.keyedMap=im(),this.sortedSet=new fr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.fa=new fr(wt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):kt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gf{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gf(e,n,mf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&C2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vle{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class zle{constructor(){this.queries=uP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Ft(n),s=i.queries;i.queries=uP(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new ht(Me.ABORTED,"Firestore shutting down"))}}function uP(){return new rh(t=>IM(t),C2)}async function h7(t,e){const n=Ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new Vle,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=YE(o,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&QE(n)}async function f7(t,e){const n=Ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $le(t,e){const n=Ft(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&QE(n)}function qle(t,e,n){const r=Ft(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function QE(t){t.Da.forEach(e=>{e.next()})}var Q5,dP;(dP=Q5||(Q5={})).Fa="default",dP.Cache="cache";class p7{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Q5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.key=e}}class g7{constructor(e){this.key=e}}class Hle{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=an(),this.mutatedKeys=an(),this.Xa=RM(e),this.eu=new mf(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new cP,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),h=T2(this.query,f)?f:null,_=!!g&&this.mutatedKeys.has(g.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let x=!1;g&&h?g.data.isEqual(h.data)?_!==y&&(r.track({type:3,doc:h}),x=!0):this.iu(g,h)||(r.track({type:2,doc:h}),x=!0,(l&&this.Xa(h,l)>0||c&&this.Xa(h,c)<0)&&(a=!0)):!g&&h?(r.track({type:0,doc:h}),x=!0):g&&!h&&(r.track({type:1,doc:g}),x=!0,(l||c)&&(a=!0)),x&&(h?(o=o.add(h),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,f)=>function(h,_){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{At:x})}};return y(h)-y(_)}(d.type,f.type)||this.Xa(d.doc,f.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Gf(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new cP,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=an(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new g7(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new m7(r))}),n}uu(e){this.Ha=e.qs,this.Za=an();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Gf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const XE="SyncEngine";class Wle{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gle{constructor(e){this.key=e,this.lu=!1}}class Kle{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new rh(a=>IM(a),C2),this.Tu=new Map,this.Iu=new Set,this.du=new fr(wt.comparator),this.Eu=new Map,this.Au=new UE,this.Ru={},this.Vu=new Map,this.mu=Wf.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Yle(t,e,n=!0){const r=b7(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await v7(r,e,n,!0),i}async function Qle(t,e){const n=b7(t);await v7(n,e,!0,!1)}async function v7(t,e,n,r){const i=await gle(t.localStore,Ja(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Xle(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&o7(t.remoteStore,i),a}async function Xle(t,e,n,r,i){t.gu=(f,g,h)=>async function(y,x,w,b){let N=x.view.nu(w);N.Ds&&(N=await rP(y.localStore,x.query,!1).then(({documents:I})=>x.view.nu(I,N)));const R=b&&b.targetChanges.get(x.targetId),z=b&&b.targetMismatches.get(x.targetId)!=null,U=x.view.applyChanges(N,y.isPrimaryClient,R,z);return fP(y,x.targetId,U._u),U.snapshot}(t,f,g,h);const s=await rP(t.localStore,e,!0),o=new Hle(e,s.qs),a=o.nu(s.documents),l=Zg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fP(t,n,c._u);const d=new Wle(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function Jle(t,e,n){const r=Ft(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!C2(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K5(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qE(r.remoteStore,i.targetId),X5(r,i.targetId)}).catch(dp)):(X5(r,i.targetId),await K5(r.localStore,i.targetId,!0))}async function Zle(t,e){const n=Ft(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qE(n.remoteStore,r.targetId))}async function ece(t,e,n){const r=ace(t);try{const i=await function(o,a){const l=Ft(o),c=er.now(),d=a.reduce((h,_)=>h.add(_.key),an());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let _=ec(),y=an();return l.Os.getEntries(h,d).next(x=>{_=x,_.forEach((w,b)=>{b.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,_)).next(x=>{f=x;const w=[];for(const b of a){const N=gae(b,f.get(b.key).overlayedDocument);N!=null&&w.push(new ih(b.key,N,EM(N.value.mapValue),$l.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,w,a)}).next(x=>{g=x;const w=x.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,x.batchId,w)})}).then(()=>({batchId:g.batchId,changes:jM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new fr(Yt)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await t0(r,i.changes),await j2(r.remoteStore)}catch(i){const s=YE(i,"Failed to persist write");n.reject(s)}}async function y7(t,e){const n=Ft(t);try{const r=await fle(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?Tn(o.lu,14607):i.removedDocuments.size>0&&(Tn(o.lu,42227),o.lu=!1))}),await t0(n,r,e)}catch(r){await dp(r)}}function hP(t,e,n){const r=Ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ft(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const g of f.wa)g.va(a)&&(c=!0)}),c&&QE(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tce(t,e,n){const r=Ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new fr(wt.comparator);o=o.insert(s,Ri.newNoDocument(s,Ot.min()));const a=an().add(s),l=new I2(Ot.min(),new Map,new fr(Yt),o,a);await y7(r,l),r.du=r.du.remove(s),r.Eu.delete(e),JE(r)}else await K5(r.localStore,e,!1).then(()=>X5(r,e,n)).catch(dp)}async function nce(t,e){const n=Ft(t),r=e.batch.batchId;try{const i=await hle(n.localStore,e);_7(n,r,null),w7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await t0(n,i)}catch(i){await dp(i)}}async function rce(t,e,n){const r=Ft(t);try{const i=await function(o,a){const l=Ft(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Tn(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);_7(r,e,n),w7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await t0(r,i)}catch(i){await dp(i)}}function w7(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function _7(t,e,n){const r=Ft(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function X5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||x7(t,r)})}function x7(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),JE(t))}function fP(t,e,n){for(const r of n)r instanceof m7?(t.Au.addReference(r.key,e),ice(t,r)):r instanceof g7?(Ke(XE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||x7(t,r.key)):kt(19791,{yu:r})}function ice(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Ke(XE,"New document in limbo: "+n),t.Iu.add(r),JE(t))}function JE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new wt(ur.fromString(e)),r=t.mu.next();t.Eu.set(r,new Gle(n)),t.du=t.du.insert(n,r),o7(t.remoteStore,new Xc(Ja(A2(n.path)),r,"TargetPurposeLimboResolution",b2.ue))}}async function t0(t,e,n){const r=Ft(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=zE.Es(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=Ft(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Re.forEach(c,g=>Re.forEach(g.Is,h=>d.persistence.referenceDelegate.addReference(f,g.targetId,h)).next(()=>Re.forEach(g.ds,h=>d.persistence.referenceDelegate.removeReference(f,g.targetId,h)))))}catch(f){if(!hp(f))throw f;Ke($E,"Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const h=d.Fs.get(g),_=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(_);d.Fs=d.Fs.insert(g,y)}}}(r.localStore,s))}async function sce(t,e){const n=Ft(t);if(!n.currentUser.isEqual(e)){Ke(XE,"User change. New user:",e.toKey());const r=await n7(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ht(Me.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await t0(n,r.Bs)}}function oce(t,e){const n=Ft(t),r=n.Eu.get(e);if(r&&r.lu)return an().add(r.key);{let i=an();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}function b7(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oce.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tce.bind(null,e),e.hu.J_=$le.bind(null,e.eventManager),e.hu.pu=qle.bind(null,e.eventManager),e}function ace(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nce.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rce.bind(null,e),e}class dy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=R2(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return dle(this.persistence,new lle,e.initialUser,this.serializer)}Du(e){return new t7(VE.Vi,this.serializer)}bu(e){return new yle}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dy.provider={build:()=>new dy};class lce extends dy{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Tn(this.persistence.referenceDelegate instanceof cy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gae(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new t7(r=>cy.Vi(r,n),this.serializer)}}class J5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sce.bind(null,this.syncEngine),await Ule(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zle}()}createDatastore(e){const n=R2(e.databaseInfo.databaseId),r=function(s){return new Sle(s)}(e.databaseInfo);return function(s,o,a,l){return new Cle(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kle(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hP(this.syncEngine,n,0),function(){return oP.C()?new oP:new wle}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new Kle(i,s,o,a,l,c);return d&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ft(i);Ke(Wd,"RemoteStore shutting down."),s.Ia.add(5),await e0(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}J5.provider={build:()=>new J5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zl("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="FirestoreClient";class cce{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pi.UNAUTHENTICATED,this.clientId=kE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ke(Tu,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ke(Tu,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function B_(t,e){t.asyncQueue.verifyOperationInProgress(),Ke(Tu,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await n7(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{bu("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Ke("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{bu("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function pP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uce(t);Ke(Tu,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lP(e.remoteStore,i)),t._onlineComponents=e}async function uce(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ke(Tu,"Using user provided OfflineComponentProvider");try{await B_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Me.FAILED_PRECONDITION||i.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bu("Error using user provided cache. Falling back to memory cache: "+n),await B_(t,new dy)}}else Ke(Tu,"Using default OfflineComponentProvider"),await B_(t,new lce(void 0));return t._offlineComponents}async function E7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ke(Tu,"Using user provided OnlineComponentProvider"),await pP(t,t._uninitializedComponentsProvider._online)):(Ke(Tu,"Using default OnlineComponentProvider"),await pP(t,new J5))),t._onlineComponents}function dce(t){return E7(t).then(e=>e.syncEngine)}async function Z5(t){const e=await E7(t),n=e.eventManager;return n.onListen=Yle.bind(null,e.syncEngine),n.onUnlisten=Jle.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qle.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zle.bind(null,e.syncEngine),n}function hce(t,e,n={}){const r=new fu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new S7({next:g=>{d.Ou(),o.enqueueAndForget(()=>f7(s,f));const h=g.docs.has(a);!h&&g.fromCache?c.reject(new ht(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&g.fromCache&&l&&l.source==="server"?c.reject(new ht(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new p7(A2(a.path),d,{includeMetadataChanges:!0,ka:!0});return h7(s,f)}(await Z5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7="firestore.googleapis.com",gP=!0;class vP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A7,this.ssl=gP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hae)throw new ht(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Poe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N7((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ZE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _oe;switch(r.type){case"firstParty":return new Eoe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mP.get(n);r&&(Ke("ComponentProvider","Removing Datastore"),mP.delete(n),r.terminate())}(this),Promise.resolve()}}function fce(t,e,n,r={}){var i;t=pu(t,ZE);const s=Du(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(mE(`https://${l}`),gE("Firestore",!0)),o.host!==A7&&o.host!==l&&bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Vd(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Pi.MOCK_USER;else{d=yO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ht(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Pi(g)}t._authCredentials=new xoe(new dM(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new D2(this.firestore,e,this._query)}}class Wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}toJSON(){return{type:Wr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xg(n,Wr._jsonSchema))return new Wr(e,r||null,new wt(ur.fromString(n.referencePath)))}}Wr._jsonSchemaVersion="firestore/documentReference/1.0",Wr._jsonSchema={type:Br("string",Wr._jsonSchemaVersion),referencePath:Br("string")};class wg extends D2{constructor(e,n,r){super(e,n,A2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new wt(e))}withConverter(e){return new wg(this.firestore,e,this._path)}}function hy(t,e,...n){if(t=si(t),arguments.length===1&&(e=kE.newId()),koe("doc","path",e),t instanceof ZE){const r=ur.fromString(e,...n);return Ik(r),new Wr(t,null,new wt(r))}{if(!(t instanceof Wr||t instanceof wg))throw new ht(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ur.fromString(e,...n));return Ik(r),new Wr(t.firestore,t instanceof wg?t.converter:null,new wt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="AsyncQueue";class wP{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new i7(this,"async_queue_retry"),this.oc=()=>{const r=F_();r&&Ke(yP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=F_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=F_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new fu;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!hp(e))throw e;Ke(yP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Zl("INTERNAL UNHANDLED ERROR: ",_P(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=KE.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&kt(47125,{hc:_P(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function _P(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class _g extends ZE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wP(e),this._firestoreClient=void 0,await e}}}function pce(t,e){const n=typeof t=="object"?t:wE(),r=typeof t=="string"?t:ny,i=y2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mO("firestore");s&&fce(i,...s)}return i}function eN(t){if(t._terminated)throw new ht(Me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mce(t),t._firestoreClient}function mce(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new Voe(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,N7(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new cce(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(gi.fromBase64String(e))}catch(n){throw new ht(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xg(e,wo._jsonSchema))return wo.fromBase64String(e.bytes)}}wo._jsonSchemaVersion="firestore/bytes/1.0",wo._jsonSchema={type:Br("string",wo._jsonSchemaVersion),bytes:Br("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ht(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ht(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ht(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:el._jsonSchemaVersion}}static fromJSON(e){if(Xg(e,el._jsonSchema))return new el(e.latitude,e.longitude)}}el._jsonSchemaVersion="firestore/geoPoint/1.0",el._jsonSchema={type:Br("string",el._jsonSchemaVersion),latitude:Br("number"),longitude:Br("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:tl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xg(e,tl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new tl(e.vectorValues);throw new ht(Me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tl._jsonSchemaVersion="firestore/vectorValue/1.0",tl._jsonSchema={type:Br("string",tl._jsonSchemaVersion),vectorValues:Br("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gce=/^__.*__$/;class vce{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ih(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jg(e,this.data,n,this.fieldTransforms)}}function T7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{Ec:t})}}class nN{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new nN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(T7(this.Ec)&&gce.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class yce{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||R2(e)}Dc(e,n,r,i=!1){return new nN({Ec:e,methodName:n,bc:r,path:fi.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wce(t){const e=t._freezeSettings(),n=R2(t._databaseId);return new yce(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _ce(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);R7("Data must be an object, but it was:",o,r);const a=P7(r,o);let l,c;if(s.merge)l=new Ko(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=xce(e,f,n);if(!o.contains(g))throw new ht(Me.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Sce(d,g)||d.push(g)}l=new Ko(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new vce(new yo(a),l,c)}function k7(t,e){if(I7(t=si(t)))return R7("Unsupported field value:",e,t),P7(t,e);if(t instanceof C7)return function(r,i){if(!T7(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=k7(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uae(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=er.fromDate(r);return{timestampValue:ly(i.serializer,s)}}if(r instanceof er){const s=new er(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ly(i.serializer,s)}}if(r instanceof el)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:GM(i.serializer,r._byteString)};if(r instanceof Wr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:BE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tl)return function(o,a){return{mapValue:{fields:{[xM]:{stringValue:SM},[ry]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return OE(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${PE(r)}`)}(t,e)}function P7(t,e){const n={};return mM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nh(t,(r,i)=>{const s=k7(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function I7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof er||t instanceof el||t instanceof wo||t instanceof Wr||t instanceof C7||t instanceof tl)}function R7(t,e,n){if(!I7(n)||!fM(n)){const r=PE(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function xce(t,e,n){if((e=si(e))instanceof tN)return e._internalPath;if(typeof e=="string")return L7(t,e);throw fy("Field path arguments must be of type string or ",t,!1,void 0,n)}const bce=new RegExp("[~\\*/\\[\\]]");function L7(t,e,n){if(e.search(bce)>=0)throw fy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tN(...e.split("."))._internalPath}catch{throw fy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fy(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ht(Me.INVALID_ARGUMENT,a+t+l)}function Sce(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ece(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ece extends j7{data(){return super.data()}}function D7(t,e){return typeof e=="string"?L7(t,e):e instanceof tN?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nce(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ht(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ace{convertValue(e,n="none"){switch(Au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw kt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return nh(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ry].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>kr(o.doubleValue));return new tl(s)}convertGeoPoint(e){return new el(kr(e.latitude),kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=E2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pg(e));default:return null}}convertTimestamp(e){const n=Eu(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ur.fromString(e);Tn(ZM(r),9688,{name:e});const i=new mg(r.get(1),r.get(3)),s=new wt(r.popFirst(5));return i.isEqual(n)||Zl(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class om{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xd extends j7{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xd._jsonSchemaVersion="firestore/documentSnapshot/1.0",xd._jsonSchema={type:Br("string",xd._jsonSchemaVersion),bundleSource:Br("string","DocumentSnapshot"),bundleName:Br("string"),bundle:Br("string")};class Wv extends xd{data(e={}){return super.data(e)}}class gf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wv(this._firestore,this._userDataWriter,r.key,r,new om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Wv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new om(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Wv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new om(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Tce(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(Me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=gf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tce(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kce(t){t=pu(t,Wr);const e=pu(t.firestore,_g);return hce(eN(e),t._key).then(n=>F7(e,t,n))}gf._jsonSchemaVersion="firestore/querySnapshot/1.0",gf._jsonSchema={type:Br("string",gf._jsonSchemaVersion),bundleSource:Br("string","QuerySnapshot"),bundleName:Br("string"),bundle:Br("string")};class O7 extends Ace{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,n)}}function M7(t,e,n){t=pu(t,Wr);const r=pu(t.firestore,_g),i=Cce(t.converter,e);return Ice(r,[_ce(wce(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$l.none())])}function Pce(t,...e){var n,r,i;t=si(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||xP(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xP(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Wr)c=pu(t.firestore,_g),d=A2(t._key.path),l={next:f=>{e[o]&&e[o](F7(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=pu(t,D2);c=pu(f.firestore,_g),d=f._query;const g=new O7(c);l={next:h=>{e[o]&&e[o](new gf(c,g,f,h))},error:e[o+1],complete:e[o+2]},Nce(t._query)}return function(g,h,_,y){const x=new S7(y),w=new p7(h,x,_);return g.asyncQueue.enqueueAndForget(async()=>h7(await Z5(g),w)),()=>{x.Ou(),g.asyncQueue.enqueueAndForget(async()=>f7(await Z5(g),w))}}(eN(c),d,a,l)}function Ice(t,e){return function(r,i){const s=new fu;return r.asyncQueue.enqueueAndForget(async()=>ece(await dce(r),i,s)),s.promise}(eN(t),e)}function F7(t,e,n){const r=n.docs.get(e._key),i=new O7(t);return new xd(t,i,e._key,r,new om(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){up=i})(eh),zd(new xu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new _g(new boe(r.getProvider("auth-internal")),new Noe(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ht(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mg(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ya(Ak,Ck,e),Ya(Ak,Ck,"esm2017")})();const Rce={apiKey:"AIzaSyCD-kUBQCrz7kuNYHewynw1-8blwZsQb4w",authDomain:"prakashbhai-bill-buddy-85123.firebaseapp.com",projectId:"prakashbhai-bill-buddy-85123",storageBucket:"prakashbhai-bill-buddy-85123.firebasestorage.app",messagingSenderId:"491579424292",appId:"1:491579424292:android:93a7e573e3498a6cdee2b1"},B7=xO(Rce),O2=ey(B7),py=pce(B7);let Uc=null;const U7=async t=>{var e;try{const n=hy(py,"users",t),r=await kce(n);if(r.exists()){const i=r.data();return localStorage.setItem("prakash_bills",JSON.stringify(i.bills||[])),localStorage.setItem("prakash_customers",JSON.stringify(i.customers||[])),localStorage.setItem("prakash_payments",JSON.stringify(i.payments||[])),localStorage.setItem("prakash_items",JSON.stringify(i.items||[])),localStorage.setItem("lastSyncTime",((e=i.lastUpdate)==null?void 0:e.toString())||Date.now().toString()),window.dispatchEvent(new Event("storage")),!0}return!1}catch(n){return console.error("Error fetching initial data:",n),!1}},V7=async t=>{try{const e=Date.now(),n={bills:Ji(),customers:rs(),payments:bs(),items:Ns(),lastUpdate:e};return await M7(hy(py,"users",t),n),localStorage.setItem("lastSyncTime",e.toString()),{success:!0,message:"Data synced to cloud successfully"}}catch(e){return{success:!1,error:e.message}}},Lce=async t=>{try{const e=await U7(t);return{success:e,message:e?"Data synced from cloud successfully":"No data found in cloud"}}catch(e){return{success:!1,error:e.message}}},rN=t=>{Uc&&Uc(),U7(t).then(n=>{n||V7(t)}),Uc=Pce(hy(py,"users",t),n=>{if(n.exists()){const r=n.data(),i=r.lastUpdate||0,s=localStorage.getItem("lastSyncTime")||"0";i>parseInt(s)&&(localStorage.setItem("prakash_bills",JSON.stringify(r.bills||[])),localStorage.setItem("prakash_customers",JSON.stringify(r.customers||[])),localStorage.setItem("prakash_payments",JSON.stringify(r.payments||[])),localStorage.setItem("prakash_items",JSON.stringify(r.items||[])),localStorage.setItem("lastSyncTime",i.toString()),window.dispatchEvent(new Event("storage")))}});const e=async()=>{const n=Date.now(),r={bills:Ji(),customers:rs(),payments:bs(),items:Ns(),lastUpdate:n};try{await M7(hy(py,"users",t),r),localStorage.setItem("lastSyncTime",n.toString())}catch(i){console.error("Sync error:",i)}};return window.addEventListener("storage",e),()=>{Uc&&Uc(),window.removeEventListener("storage",e)}},jce=async(t,e)=>{try{const n=await rse(O2,t,e);return rN(n.user.uid),{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},Dce=async(t,e)=>{try{const n=await ise(O2,t,e);return rN(n.user.uid),{success:!0,user:n.user}}catch(n){return{success:!1,error:n.message}}},Oce=async()=>{try{return await lse(O2),Uc&&(Uc(),Uc=null),{success:!0}}catch(t){return{success:!1,error:t.message}}},Mce=()=>{ase(O2,t=>{t&&rN(t.uid)})},Fce=()=>{const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState(!1);E.useEffect(()=>{Mce();const c=localStorage.getItem("userEmail");c&&(s(!0),e(c))},[]);const o=async()=>{const c=await jce(t,n);c.success?(s(!0),localStorage.setItem("userEmail",t),Ht({title:"Account created",description:"Auto-sync is now enabled across your devices"})):Ht({title:"Error",description:c.error,variant:"destructive"})},a=async()=>{const c=await Dce(t,n);c.success?(s(!0),localStorage.setItem("userEmail",t),Ht({title:"Signed in",description:"Your data will automatically sync across devices"})):Ht({title:"Error",description:c.error,variant:"destructive"})},l=async()=>{(await Oce()).success&&(s(!1),localStorage.removeItem("userEmail"),Ht({title:"Signed out",description:"Auto-sync disabled"}))};return u.jsxs(yt,{className:"w-full",children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Auto-Sync"}),u.jsx(ni,{children:i?"Your data automatically syncs across all your devices":"Sign in to enable automatic syncing across devices"})]}),u.jsx(xt,{children:i?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium",children:"Signed in as"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:t})]}),u.jsx(Le,{variant:"destructive",onClick:l,children:"Sign Out"})]}),u.jsx("div",{className:"text-sm text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:"✓ Auto-sync is active. Any changes you make will automatically appear on all your devices."}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Le,{variant:"outline",onClick:async()=>{const d=ey().currentUser;if(d){const f=await V7(d.uid);Ht({title:f.success?"Sync Complete":"Sync Failed",description:f.success?"Data pushed to cloud successfully":f.error,variant:f.success?"default":"destructive"})}},children:"Push to Cloud"}),u.jsx(Le,{variant:"outline",onClick:async()=>{const d=ey().currentUser;if(d){const f=await Lce(d.uid);Ht({title:f.success?"Sync Complete":"Sync Failed",description:f.success?"Data pulled from cloud successfully":f.error,variant:f.success?"default":"destructive"}),f.success&&window.location.reload()}},children:"Pull from Cloud"})]})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(Kt,{type:"email",placeholder:"Email",value:t,onChange:c=>e(c.target.value)}),u.jsx(Kt,{type:"password",placeholder:"Password",value:n,onChange:c=>r(c.target.value)}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Le,{onClick:a,children:"Sign In"}),u.jsx(Le,{variant:"outline",onClick:o,children:"Sign Up"})]})]})})]})},Bce=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!1),[i,s]=E.useState(null),{toast:o}=nc(),a=()=>{const h=R8();h>0&&o({title:"Auto-cleanup",description:`${h} item(s) older than 30 days were permanently deleted`}),e(qg())};E.useEffect(()=>{a()},[]);const l=h=>{$te(h)?(o({title:"Item Restored",description:"The item has been restored successfully"}),a()):o({title:"Restore Failed",description:"Could not restore the item",variant:"destructive"})},c=h=>{qte(h)&&(o({title:"Permanently Deleted",description:"The item has been permanently deleted"}),a(),s(null))},d=()=>{Hte(),o({title:"Recycle Bin Cleared",description:"All items have been permanently deleted"}),e([]),r(!1)},f=h=>{switch(h){case"customer":return u.jsx(eS,{className:"h-5 w-5"});case"bill":return u.jsx(Zf,{className:"h-5 w-5"});case"payment":return u.jsx(DR,{className:"h-5 w-5"})}},g=h=>h.charAt(0).toUpperCase()+h.slice(1);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs(yt,{children:[u.jsx(Nn,{children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(qa,{className:"h-5 w-5"}),"Recycle Bin"]}),u.jsx(ni,{children:"Deleted items are kept for 30 days before permanent deletion"})]}),t.length>0&&u.jsx(Le,{variant:"destructive",onClick:()=>r(!0),children:"Clear All"})]})}),u.jsx(xt,{children:t.length===0?u.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[u.jsx(qa,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"Recycle bin is empty"})]}):u.jsx("div",{className:"space-y-3",children:t.map(h=>{const _=Wte(h.deletedAt);return u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-card",children:[u.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[u.jsx("div",{className:"text-muted-foreground",children:f(h.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:h.displayName}),u.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[u.jsx("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs",children:g(h.type)}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(PV,{className:"h-3 w-3"}),_," day",_!==1?"s":""," remaining"]})]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>l(h.id),className:"gap-1",children:[u.jsx(DV,{className:"h-3 w-3"}),"Restore"]}),u.jsx(Le,{variant:"destructive",size:"sm",onClick:()=>s(h.id),children:u.jsx(qa,{className:"h-3 w-3"})})]})]},h.id)})})})]}),u.jsx(C5,{open:n,onOpenChange:r,children:u.jsxs(B1,{children:[u.jsxs(U1,{children:[u.jsx(z1,{children:"Clear Recycle Bin?"}),u.jsxs($1,{children:["This will permanently delete all ",t.length," item(s) in the recycle bin. This action cannot be undone."]})]}),u.jsxs(V1,{children:[u.jsx(H1,{children:"Cancel"}),u.jsx(q1,{onClick:d,className:"bg-destructive text-destructive-foreground",children:"Delete All"})]})]})}),u.jsx(C5,{open:!!i,onOpenChange:()=>s(null),children:u.jsxs(B1,{children:[u.jsxs(U1,{children:[u.jsx(z1,{children:"Permanently Delete?"}),u.jsx($1,{children:"This will permanently delete this item. This action cannot be undone."})]}),u.jsxs(V1,{children:[u.jsx(H1,{children:"Cancel"}),u.jsx(q1,{onClick:()=>i&&c(i),className:"bg-destructive text-destructive-foreground",children:"Delete"})]})]})})]})},iN="backup_config_v1",bP=t=>{switch(t){case"daily":return 24*60*60*1e3;case"weekly":return 7*24*60*60*1e3;case"monthly":return 30*24*60*60*1e3}},SP=()=>({mode:"automatic",frequency:"weekly"}),my=()=>{try{const t=localStorage.getItem(iN);if(!t)return SP();const e=JSON.parse(t);return{mode:e.mode||"automatic",frequency:e.frequency||"weekly",lastRunAt:e.lastRunAt}}catch{return SP()}},z7=t=>{localStorage.setItem(iN,JSON.stringify(t))},Uce=t=>{const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n)},Vce=async()=>{const{getCustomers:t,getBills:e,getPayments:n,getItems:r,getRateHistory:i}=await Es(async()=>{const{getCustomers:o,getBills:a,getPayments:l,getItems:c,getRateHistory:d}=await Promise.resolve().then(()=>OS);return{getCustomers:o,getBills:a,getPayments:l,getItems:c,getRateHistory:d}},void 0);return{version:"1.0",createdAt:new Date().toISOString(),data:{customers:t(),bills:e(),payments:n(),items:r(),itemRateHistory:i()}}},xg=new TextEncoder,zce=new TextDecoder,sN=async t=>{const e=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")},$7=async(t,e,n=1e5)=>{const r=await crypto.subtle.importKey("raw",xg.encode(t),"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:n,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])},$ce=async(t,e)=>{const n=crypto.getRandomValues(new Uint8Array(16)),r=crypto.getRandomValues(new Uint8Array(12)),i=await $7(e,n),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,xg.encode(t)),o=await sN(xg.encode(t));return{meta:{version:"1",encrypted:!0,algorithm:"AES-GCM",salt:Array.from(n),iv:Array.from(r),iterations:1e5,checksum:o},data:btoa(String.fromCharCode(...new Uint8Array(s)))}},qce=async(t,e)=>{const n=new Uint8Array(t.meta.salt),r=new Uint8Array(t.meta.iv),i=await $7(e,n,t.meta.iterations||1e5),s=atob(t.data),o=new Uint8Array(s.length);for(let d=0;d<s.length;d++)o[d]=s.charCodeAt(d);const a=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},i,o),l=zce.decode(a);if(await sN(xg.encode(l))!==t.meta.checksum)throw new Error("CHECKSUM_MISMATCH");return l},Hce=async t=>{const e=await Vce(),n=JSON.stringify(e);if(t&&t.trim()){const s=await $ce(n,t.trim());return new Blob([JSON.stringify(s)],{type:"application/json"})}const i={meta:{version:"1",encrypted:!1,checksum:await sN(xg.encode(n))},data:JSON.parse(n)};return new Blob([JSON.stringify(i)],{type:"application/json"})},q7=async(t,e)=>{try{const n=await Hce(t),r=`billbuddy_backup_${new Date().toISOString().replace(/[:.]/g,"-")}.json`;if(il.isNativePlatform()){const s=await n.arrayBuffer(),o=Uce(s);await Co.writeFile({path:r,data:o,directory:As.Cache});const a=await Co.getUri({directory:As.Cache,path:r}),{Share:l}=await Es(async()=>{const{Share:c}=await Promise.resolve().then(()=>zf);return{Share:c}},void 0);await l.share({title:e!=null&&e.providerLabel?`Bill Buddy Backup (${e.providerLabel})`:"Bill Buddy Backup",text:e!=null&&e.providerLabel?`Backup for ${e.providerLabel}`:"App backup file",url:a.uri,dialogTitle:"Save or Share Backup (OneDrive, Files, etc.)"})}else if((e==null?void 0:e.providerLabel)==="OneDrive"){const{Share:s}=await Es(async()=>{const{Share:a}=await Promise.resolve().then(()=>zf);return{Share:a}},void 0),o=await new Promise(a=>{const l=new FileReader;l.onload=()=>{const c=l.result;a(c.split(",")[1])},l.readAsDataURL(n)});await s.share({title:"Bill Buddy Backup",text:`Backup file: ${r}`,url:`data:application/json;base64,${o}`,dialogTitle:"Save to OneDrive"})}else{const s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}const i=my();return i.lastRunAt=new Date().toISOString(),z7(i),{success:!0,message:(e==null?void 0:e.providerLabel)==="OneDrive"?"Backup shared to OneDrive successfully":"Backup created successfully"}}catch(n){return console.error("Backup failed:",n),{success:!1,message:"Failed to create backup"}}};let av=null;const eb=()=>{const t=()=>{av&&(clearInterval(av),av=null);const e=my();e.mode==="automatic"&&(bP(e.frequency),av=setInterval(async()=>{const n=my();if(n.mode!=="automatic")return;const r=n.lastRunAt?new Date(n.lastRunAt).getTime():0;Date.now()-r>=bP(n.frequency)&&await q7()},36e5))};t(),window.addEventListener("storage",e=>{e.key===iN&&t()})},Wce=async(t,e)=>{var n,r,i,s,o,a;try{const l=await t.text(),c=JSON.parse(l);let d;if((n=c==null?void 0:c.meta)!=null&&n.encrypted){if(!e||!e.trim())return{success:!1,message:"Password required for encrypted backup"};const f=await qce(c,e.trim());d=JSON.parse(f)}else c!=null&&c.meta?d={...c.data}:d=c;return localStorage.setItem("prakash_customers",JSON.stringify(((r=d.data)==null?void 0:r.customers)??d.customers??[])),localStorage.setItem("prakash_bills",JSON.stringify(((i=d.data)==null?void 0:i.bills)??d.bills??[])),localStorage.setItem("prakash_payments",JSON.stringify(((s=d.data)==null?void 0:s.payments)??d.payments??[])),localStorage.setItem("prakash_items",JSON.stringify(((o=d.data)==null?void 0:o.items)??d.items??[])),localStorage.setItem("prakash_item_rate_history",JSON.stringify(((a=d.data)==null?void 0:a.itemRateHistory)??d.itemRateHistory??[])),{success:!0,message:"Backup restored successfully"}}catch(l){return console.error("Restore failed:",l),{success:!1,message:"Failed to restore backup"}}},Kf="app_lock_password",H7=t=>/^\d{4}$/.test(t)?(localStorage.setItem(Kf,t),{success:!0,message:"Password set successfully."}):{success:!1,message:"Password must be a 4-digit number."},Gce=t=>{const e=localStorage.getItem(Kf);return e?e===t:!0},Kce=(t,e)=>{const n=localStorage.getItem(Kf);return n&&n!==t?{success:!1,message:"Incorrect old password."}:H7(e)},EP=()=>localStorage.getItem(Kf)!==null,Yce=t=>{const e=localStorage.getItem(Kf);return!e||e!==t?{success:!1,message:"Incorrect password."}:(localStorage.removeItem(Kf),{success:!0,message:"Password protection removed."})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7="firebasestorage.googleapis.com",G7="storageBucket",Qce=2*60*1e3,Xce=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends ul{constructor(e,n,r=0){super(U_(e),`Firebase Storage: ${n} (${U_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return U_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function U_(t){return"storage/"+t}function oN(){const t="An unknown error occurred, please check the error payload for server response.";return new xr(_r.UNKNOWN,t)}function Jce(t){return new xr(_r.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Zce(t){return new xr(_r.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eue(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xr(_r.UNAUTHENTICATED,t)}function tue(){return new xr(_r.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nue(t){return new xr(_r.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function rue(){return new xr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iue(){return new xr(_r.CANCELED,"User canceled the upload/download.")}function sue(t){return new xr(_r.INVALID_URL,"Invalid URL '"+t+"'.")}function oue(t){return new xr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aue(){return new xr(_r.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G7+"' property when initializing the app?")}function lue(){return new xr(_r.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cue(){return new xr(_r.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uue(t){return new xr(_r.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function tb(t){return new xr(_r.INVALID_ARGUMENT,t)}function K7(){return new xr(_r.APP_DELETED,"The Firebase app was deleted.")}function due(t){return new xr(_r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function km(t,e){return new xr(_r.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gp(t){throw new xr(_r.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qs.makeFromUrl(e,n)}catch{return new Qs(e,"")}if(r.path==="")return r;throw oue(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),_={bucket:1,path:3},y=n===W7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${x}`,"i"),N=[{regex:a,indices:l,postModify:s},{regex:h,indices:_,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<N.length;R++){const z=N[R],U=z.regex.exec(e);if(U){const I=U[z.indices.bucket];let k=U[z.indices.path];k||(k=""),r=new Qs(I,k),z.postModify(r);break}}if(r==null)throw sue(e);return r}}class hue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function f(x){i=setTimeout(()=>{i=null,t(h,l())},x)}function g(){s&&clearTimeout(s)}function h(x,...w){if(c){g();return}if(x){g(),d.call(null,x,...w);return}if(l()||o){g(),d.call(null,x,...w);return}r<64&&(r*=2);let N;a===1?(a=2,N=0):N=(r+Math.random())*1e3,f(N)}let _=!1;function y(x){_||(_=!0,g(),!c&&(i!==null?(x||(a=2),clearTimeout(i),f(0)):x||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function pue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(t){return t!==void 0}function gue(t){return typeof t=="object"&&!Array.isArray(t)}function aN(t){return typeof t=="string"||t instanceof String}function NP(t){return lN()&&t instanceof Blob}function lN(){return typeof Blob<"u"}function AP(t,e,n,r){if(r<e)throw tb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw tb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Y7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bd||(bd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vue(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yue{constructor(e,n,r,i,s,o,a,l,c,d,f,g=!0,h=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,y)=>{this.resolve_=_,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===bd.NO_ERROR,l=s.getStatus();if(!a||vue(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===bd.ABORT;r(!1,new lv(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new lv(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());mue(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=oN();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?K7():iue();o(l)}else{const l=rue();o(l)}};this.canceled_?n(!1,new lv(!1,null,!0)):this.backoffId_=fue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function wue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _ue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Sue(t,e,n,r,i,s,o=!0,a=!1){const l=Y7(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return xue(d,e),wue(d,n),_ue(d,s),bue(d,r),new yue(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Nue(...t){const e=Eue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(lN())return new Blob(t);throw new xr(_r.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Aue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cue(t){if(typeof atob>"u")throw uue("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V_{constructor(e,n){this.data=e,this.contentType=n||null}}function Tue(t,e){switch(t){case Va.RAW:return new V_(Q7(e));case Va.BASE64:case Va.BASE64URL:return new V_(X7(t,e));case Va.DATA_URL:return new V_(Pue(e),Iue(e))}throw oN()}function Q7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kue(t){let e;try{e=decodeURIComponent(t)}catch{throw km(Va.DATA_URL,"Malformed data URL.")}return Q7(e)}function X7(t,e){switch(t){case Va.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw km(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Va.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw km(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Cue(e)}catch(i){throw i.message.includes("polyfill")?i:km(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class J7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw km(Va.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Rue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Pue(t){const e=new J7(t);return e.base64?X7(Va.BASE64,e.rest):kue(e.rest)}function Iue(t){return new J7(t).contentType}function Rue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){let r=0,i="";NP(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(NP(this.data_)){const r=this.data_,i=Aue(r,e,n);return i===null?null:new Vc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vc(r,!0)}}static getBlob(...e){if(lN()){const n=e.map(r=>r instanceof Vc?r.data_:r);return new Vc(Nue.apply(null,n))}else{const n=e.map(o=>aN(o)?Tue(Va.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){let e;try{e=JSON.parse(t)}catch{return null}return gue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(t,e){return e}class Hi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Due}}let cv=null;function Oue(t){return!aN(t)||t.length<2?t:eF(t)}function tF(){if(cv)return cv;const t=[];t.push(new Hi("bucket")),t.push(new Hi("generation")),t.push(new Hi("metageneration")),t.push(new Hi("name","fullPath",!0));function e(s,o){return Oue(o)}const n=new Hi("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Hi("size");return i.xform=r,t.push(i),t.push(new Hi("timeCreated")),t.push(new Hi("updated")),t.push(new Hi("md5Hash",null,!0)),t.push(new Hi("cacheControl",null,!0)),t.push(new Hi("contentDisposition",null,!0)),t.push(new Hi("contentEncoding",null,!0)),t.push(new Hi("contentLanguage",null,!0)),t.push(new Hi("contentType",null,!0)),t.push(new Hi("metadata","customMetadata",!0)),cv=t,cv}function Mue(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qs(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Fue(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Mue(r,t),r}function nF(t,e,n){const r=Z7(e);return r===null?null:Fue(t,r,n)}function Bue(t,e,n,r){const i=Z7(e);if(i===null||!aN(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,f=t.fullPath,g="/b/"+o(d)+"/o/"+o(f),h=cN(g,n,r),_=Y7({alt:"media",token:c});return h+_})[0]}function Uue(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class rF{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){if(!t)throw oN()}function Vue(t,e){function n(r,i){const s=nF(t,i,e);return iF(s!==null),s}return n}function zue(t,e){function n(r,i){const s=nF(t,i,e);return iF(s!==null),Bue(s,i,t.host,t._protocol)}return n}function sF(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=tue():i=eue():n.getStatus()===402?i=Zce(t.bucket):n.getStatus()===403?i=nue(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function $ue(t){const e=sF(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Jce(t.path)),s.serverResponse=i.serverResponse,s}return n}function que(t,e,n){const r=e.fullServerUrl(),i=cN(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new rF(i,s,zue(t,n),o);return a.errorHandler=$ue(e),a}function Hue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Wue(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Hue(null,e)),r}function Gue(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let N="";for(let R=0;R<2;R++)N=N+Math.random().toString().slice(2);return N}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Wue(e,r,i),d=Uue(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+l+"--",h=Vc.getBlob(f,r,g);if(h===null)throw lue();const _={name:c.fullPath},y=cN(s,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,b=new rF(y,x,Vue(t,n),w);return b.urlParams=_,b.headers=o,b.body=h.uploadData(),b.errorHandler=sF(e),b}class Kue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Gp("cannot .send() more than once");if(Du(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Yue extends Kue{initXhr(){this.xhr_.responseType="text"}}function oF(){return new Yue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this._service=e,n instanceof Qs?this._location=n:this._location=Qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gd(e,n)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eF(this._location.path)}get storage(){return this._service}get parent(){const e=Lue(this._location.path);if(e===null)return null;const n=new Qs(this._location.bucket,e);return new Gd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw due(e)}}function Que(t,e,n){t._throwIfRoot("uploadBytes");const r=Gue(t.storage,t._location,tF(),new Vc(e,!0),n);return t.storage.makeRequestWithTokens(r,oF).then(i=>({metadata:i,ref:t}))}function Xue(t){t._throwIfRoot("getDownloadURL");const e=que(t.storage,t._location,tF());return t.storage.makeRequestWithTokens(e,oF).then(n=>{if(n===null)throw cue();return n})}function Jue(t,e){const n=jue(t._location.path,e),r=new Qs(t._location.bucket,n);return new Gd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zue(t){return/^[A-Za-z]+:\/\//.test(t)}function ede(t,e){return new Gd(t,e)}function aF(t,e){if(t instanceof uN){const n=t;if(n._bucket==null)throw aue();const r=new Gd(n,n._bucket);return e!=null?aF(r,e):r}else return e!==void 0?Jue(t,e):t}function tde(t,e){if(e&&Zue(e)){if(t instanceof uN)return ede(t,e);throw tb("To use ref(service, url), the first argument must be a Storage instance.")}else return aF(t,e)}function CP(t,e){const n=e==null?void 0:e[G7];return n==null?null:Qs.makeFromBucketSpec(n,t)}function nde(t,e,n,r={}){t.host=`${e}:${n}`;const i=Du(e);i&&(mE(`https://${t.host}/b`),gE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yO(s,t.app.options.projectId))}class uN{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=W7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qce,this._maxUploadRetryTime=Xce,this._requests=new Set,i!=null?this._bucket=Qs.makeFromBucketSpec(i,this._host):this._bucket=CP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qs.makeFromBucketSpec(this._url,e):this._bucket=CP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new hue(K7());{const o=Sue(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const TP="@firebase/storage",kP="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="storage";function rde(t,e,n){return t=si(t),Que(t,e,n)}function ide(t){return t=si(t),Xue(t)}function sde(t,e){return t=si(t),tde(t,e)}function ode(t=wE(),e){t=si(t);const r=y2(t,lF).getImmediate({identifier:e}),i=mO("storage");return i&&ade(r,...i),r}function ade(t,e,n,r={}){nde(t,e,n,r)}function lde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uN(n,r,i,e,eh)}function cde(){zd(new xu(lF,lde,"PUBLIC").setMultipleInstances(!0)),Ya(TP,kP,""),Ya(TP,kP,"esm2017")}cde();const ude=ode(),dde=async t=>{try{const n=ey().currentUser;if(!n)throw new Error("Please sign in first to backup to Google Drive");const r={bills:Ji(),customers:rs(),payments:bs(),items:Ns(),timestamp:new Date().toISOString(),version:"1.0"},i=JSON.stringify(r);let s=i;if(t){const d=new TextEncoder,f=d.encode(i),g=await window.crypto.subtle.importKey("raw",d.encode(t),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]),h=window.crypto.getRandomValues(new Uint8Array(16)),_=await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:h,iterations:1e5,hash:"SHA-256"},g,{name:"AES-GCM",length:256},!0,["encrypt"]),y=window.crypto.getRandomValues(new Uint8Array(12)),x=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:y},_,f),w=new Uint8Array(h.length+y.length+x.byteLength);w.set(h,0),w.set(y,h.length),w.set(new Uint8Array(x),h.length+y.length),s=Array.from(w).join(",")}const a=`billbuddy_backup_${new Date().toISOString().replace(/[:.]/g,"-")}.json`,l=sde(ude,`backups/${n.uid}/${a}`);return await rde(l,new Blob([s])),{success:!0,message:"Backup successfully uploaded to Google Drive",url:await ide(l)}}catch(e){return console.error("Google Drive backup error:",e),{success:!1,message:e.message||"Failed to backup to Google Drive",error:e}}},hde=({onNavigate:t})=>{const[e,n]=E.useState(!1),[r,i]=E.useState(!1),{toast:s}=nc(),[o,a]=E.useState("automatic"),[l,c]=E.useState("weekly"),[d,f]=E.useState(void 0),[g,h]=E.useState(EP()),[_,y]=E.useState(!1),[x,w]=E.useState("set"),[b,N]=E.useState(""),[R,z]=E.useState(""),[U,I]=E.useState(""),[k,P]=E.useState("");E.useEffect(()=>{const $=localStorage.getItem("theme"),te=window.matchMedia("(prefers-color-scheme: dark)").matches,se=$==="dark"||!$&&te;i(se),document.documentElement.classList.toggle("dark",se);const ge=my();a(ge.mode),c(ge.frequency),f(ge.lastRunAt),eb()},[]);const M=$=>{i($),localStorage.setItem("theme",$?"dark":"light"),document.documentElement.classList.toggle("dark",$),s({title:`${$?"Dark":"Light"} mode enabled`,description:`Switched to ${$?"dark":"light"} theme.`})},T=async()=>{try{const $=localStorage.getItem("theme");if(localStorage.clear(),$&&localStorage.setItem("theme",$),il.isNativePlatform())try{const te=await Co.readdir({path:"",directory:As.Documents});for(const se of te.files)se.name.toLowerCase().endsWith(".pdf")&&await Co.deleteFile({path:se.name,directory:As.Documents})}catch(te){console.log("No files to clear or error accessing files:",te)}s({title:"Data Cleared",description:"All app data and PDFs have been successfully cleared."}),n(!1),y(!1),P(""),t("dashboard"),setTimeout(()=>window.location.reload(),1e3)}catch($){console.error("Error clearing data:",$),s({title:"Error",description:"Failed to clear some data. Please try again.",variant:"destructive"})}},L=()=>{EP()?(w("confirmClear"),y(!0)):n(!0)},O=()=>{switch(x){case"confirmClear":Gce(k)?T():s({title:"Incorrect Password",description:"The password you entered is incorrect.",variant:"destructive"});break;case"set":if(R!==U){s({title:"Passwords don't match",variant:"destructive"});return}const $=H7(R);s({title:$.success?"Password Set":"Error",description:$.message,variant:$.success?"default":"destructive"}),$.success&&(h(!0),y(!1),W());break;case"change":if(R!==U){s({title:"New passwords don't match",variant:"destructive"});return}const te=Kce(b,R);s({title:te.success?"Password Changed":"Error",description:te.message,variant:te.success?"default":"destructive"}),te.success&&(y(!1),W());break;case"remove":const se=Yce(b);s({title:se.success?"Password Removed":"Error",description:se.message,variant:se.success?"default":"destructive"}),se.success&&(h(!1),y(!1),W());break}},W=()=>{N(""),z(""),I(""),P("")},le=()=>{z7({mode:o,frequency:l,lastRunAt:d}),eb(),s({title:"Backup settings saved",description:`Mode: ${o}, Frequency: ${l}`})},fe=async()=>{const $=prompt("Optional: Set a password to encrypt the backup (leave blank for none)")||void 0,te=await q7($);f(new Date().toISOString()),s({title:te.success?"Backup complete":"Backup failed",description:te.message,variant:te.success?"default":"destructive"})},oe=async()=>{try{const $=document.createElement("input");$.type="file",$.accept="application/json",$.onchange=async()=>{var D;const te=(D=$.files)==null?void 0:D[0];if(!te)return;const se=prompt("If backup is encrypted, enter password (leave blank if not encrypted)")||void 0,ge=await Wce(te,se);s({title:ge.success?"Restore complete":"Restore failed",description:ge.message,variant:ge.success?"default":"destructive"}),ge.success&&setTimeout(()=>window.location.reload(),800)},$.click()}catch{s({title:"Restore failed",description:"Could not restore backup",variant:"destructive"})}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-soft to-accent-soft p-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex items-center mb-8",children:[u.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>t("dashboard"),className:"mr-4",children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(yt,{className:"shadow-lg",children:[u.jsxs(Nn,{children:[u.jsxs(An,{className:"flex items-center gap-2",children:[r?u.jsx(OR,{className:"w-5 h-5"}):u.jsx(MR,{className:"w-5 h-5"}),"Appearance"]}),u.jsx(ni,{children:"Customize how the app looks and feels"})]}),u.jsx(xt,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium",children:"Dark Mode"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Switch between light and dark themes"})]}),u.jsx(uO,{checked:r,onCheckedChange:M})]})})]}),u.jsxs(yt,{className:"shadow-lg",children:[u.jsxs(Nn,{children:[u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(qa,{className:"w-5 h-5"}),"Data Management"]}),u.jsx(ni,{children:"Manage your application data and storage"})]}),u.jsx(xt,{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Le,{variant:"destructive",className:"w-full justify-start",onClick:L,children:[u.jsx(qa,{className:"w-4 h-4 mr-2"}),"Clear All Data"]}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"This will permanently delete all customers, bills, payments, items, and PDF files"})]})})]}),u.jsxs(yt,{className:"shadow-lg",children:[u.jsxs(Nn,{children:[u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(Bx,{className:"w-5 h-5"}),"Security"]}),u.jsx(ni,{children:"Protect sensitive actions with a password."})]}),u.jsxs(xt,{children:[g?u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Le,{variant:"outline",onClick:()=>{w("change"),y(!0)},children:"Change Password"}),u.jsx(Le,{variant:"destructive",onClick:()=>{w("remove"),y(!0)},children:"Remove Password"})]}):u.jsx(Le,{onClick:()=>{w("set"),y(!0)},children:"Set 4-Digit Password"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"This password will be required to clear all data."})]})]}),u.jsxs(yt,{className:"shadow-lg",children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"PDF Customization"}),u.jsx(ni,{children:"Customize bill PDF templates"})]}),u.jsx(xt,{children:u.jsx(Le,{onClick:()=>t("pdf-customization"),className:"w-full",children:"Customize PDF Templates"})})]}),u.jsxs(yt,{className:"shadow-lg",children:[u.jsxs(Nn,{children:[u.jsxs(An,{className:"flex items-center gap-2",children:[u.jsx(IV,{className:"w-5 h-5"}),"Backup"]}),u.jsx(ni,{children:"Configure automatic backups and create manual backups. Backups can be saved to OneDrive via Share."})]}),u.jsxs(xt,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Local Backup Mode"}),u.jsxs("div",{className:"mt-1 flex gap-2",children:[u.jsx(Le,{variant:o==="automatic"?"default":"outline",onClick:()=>a("automatic"),children:"Automatic"}),u.jsx(Le,{variant:o==="manual"?"default":"outline",onClick:()=>a("manual"),children:"Manual"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Backup Frequency"}),u.jsxs("div",{className:"mt-1 flex gap-2",children:[u.jsx(Le,{variant:l==="daily"?"default":"outline",onClick:()=>c("daily"),children:"Daily"}),u.jsx(Le,{variant:l==="weekly"?"default":"outline",onClick:()=>c("weekly"),children:"Weekly"}),u.jsx(Le,{variant:l==="monthly"?"default":"outline",onClick:()=>c("monthly"),children:"Monthly"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Backup Options"}),u.jsx("div",{className:"mt-1",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Le,{onClick:fe,children:"Local Backup"}),u.jsx(Le,{variant:"outline",onClick:async()=>{const $=prompt("Optional: Set a password to encrypt the backup (leave blank for none)")||void 0,te=await dde($);te.success&&f(new Date().toISOString()),s({title:te.success?"Google Drive Backup Complete":"Backup Failed",description:te.message,variant:te.success?"default":"destructive"})},children:"Backup to Google Drive"}),u.jsx(Le,{variant:"outline",onClick:oe,children:"Restore Backup"})]})})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[u.jsx(bV,{className:"w-4 h-4"}),u.jsxs("span",{children:["Last Backup: ",d?new Date(d).toLocaleString():"Never"]})]}),u.jsx(Le,{variant:"outline",onClick:le,children:"Save Backup Settings"})]})]})]}),u.jsx(Bce,{}),u.jsx(Fce,{})]}),u.jsx(bo,{open:e,onOpenChange:n,children:u.jsxs(Zs,{className:"sm:max-w-md",children:[u.jsxs(eo,{children:[u.jsxs(to,{className:"flex items-center gap-2",children:[u.jsx(Bx,{className:"w-5 h-5 text-destructive"}),"Confirm Data Deletion"]}),u.jsxs(So,{children:["Are you sure you want to clear all data? This action will permanently delete:",u.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[u.jsx("li",{children:"All customers"}),u.jsx("li",{children:"All bills"}),u.jsx("li",{children:"All payments"}),u.jsx("li",{children:"All items"}),u.jsx("li",{children:"All PDF files stored on device"})]}),u.jsx("strong",{className:"text-destructive",children:"This action cannot be undone."})]})]}),u.jsxs(Wa,{className:"flex-col sm:flex-row gap-2",children:[u.jsx(Le,{variant:"outline",onClick:()=>n(!1),className:"w-full sm:w-auto",children:"Cancel"}),u.jsx(Le,{variant:"destructive",onClick:T,className:"w-full sm:w-auto",children:"Yes, Clear All Data"})]})]})}),u.jsx(bo,{open:_,onOpenChange:y,children:u.jsxs(Zs,{className:"sm:max-w-md",children:[u.jsxs(eo,{children:[u.jsxs(to,{children:[x==="set"&&"Set New Password",x==="change"&&"Change Password",x==="remove"&&"Remove Password Protection",x==="confirmClear"&&"Enter Password to Clear Data"]}),u.jsxs(So,{children:[x==="set"&&"Create a 4-digit numeric password.",x==="change"&&"Enter your current and new password.",x==="remove"&&"Enter your current password to remove protection.",x==="confirmClear"&&"This is a destructive action. Please confirm."]})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[(x==="change"||x==="remove")&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"current-password",children:"Current Password"}),u.jsx(Kt,{id:"current-password",type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:b,onChange:$=>N($.target.value)})]}),(x==="set"||x==="change")&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"new-password",children:"New 4-Digit Password"}),u.jsx(Kt,{id:"new-password",type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:R,onChange:$=>z($.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),u.jsx(Kt,{id:"confirm-new-password",type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:U,onChange:$=>I($.target.value)})]})]}),x==="confirmClear"&&u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{htmlFor:"password-input",children:"Enter 4-Digit Password"}),u.jsx(Kt,{id:"password-input",type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:k,onChange:$=>P($.target.value)})]})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>{y(!1),W()},children:"Cancel"}),u.jsx(Le,{onClick:O,variant:x==="confirmClear"||x==="remove"?"destructive":"default",children:"Confirm"})]})]})})]})})},cF=E.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:We("w-full caption-bottom text-sm",t),...e})}));cF.displayName="Table";const uF=E.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:We("[&_tr]:border-b",t),...e}));uF.displayName="TableHeader";const dF=E.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:We("[&_tr:last-child]:border-0",t),...e}));dF.displayName="TableBody";const fde=E.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:We("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));fde.displayName="TableFooter";const nb=E.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:We("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));nb.displayName="TableRow";const Rh=E.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:We("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Rh.displayName="TableHead";const Lh=E.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:We("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Lh.displayName="TableCell";const pde=E.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:We("mt-4 text-sm text-muted-foreground",t),...e}));pde.displayName="TableCaption";const mde=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState([]),[s,o]=E.useState(""),[a,l]=E.useState("date"),[c,d]=E.useState(!1),[f,g]=E.useState("all"),[h,_]=E.useState(null),[y,x]=E.useState(null),[w,b]=E.useState(null),[N,R]=E.useState([]),[z,U]=E.useState(new Date),[I,k]=E.useState(null),[P,M]=E.useState(null),[T,L]=E.useState(!0),[O,W]=E.useState(null);E.useEffect(()=>{const K=async()=>{try{L(!0),W(null);const ue=Ji(),de=rs();console.log("Loaded bills:",ue),console.log("Loaded customers:",de),n(ue),i(de)}catch(ue){console.error("Error loading data:",ue),W("Failed to load bills and customers")}finally{L(!1)}};return K(),window.addEventListener("storage",K),()=>{window.removeEventListener("storage",K)}},[]);const le=E.useMemo(()=>{const K=s.trim().toLowerCase();return[...e.filter(_e=>{if(!(!K||_e.customerName.toLowerCase().includes(K)||_e.items.some(Ee=>Ee.itemName.toLowerCase().includes(K)))||f!=="all"&&_e.status!==f)return!1;const he=new Date(_e.date);return!(h&&he<h||y&&he>y)})].sort((_e,Ne)=>{if(a==="date"){const he=new Date(_e.date).getTime(),Ee=new Date(Ne.date).getTime();return c?he-Ee:Ee-he}else{const he=_e.customerName.toLowerCase(),Ee=Ne.customerName.toLowerCase();return c?he.localeCompare(Ee):Ee.localeCompare(he)}})},[e,s,a,c,f,h,y]),fe=K=>{const ue=K.getDate().toString().padStart(2,"0"),de=(K.getMonth()+1).toString().padStart(2,"0"),_e=K.getFullYear();return`${ue}/${de}/${_e}`},oe=K=>{b(K),R(K.items.map(de=>({...de}))),U(new Date(K.date));const ue=r.find(de=>de.id===K.customerId)||null;k(ue)},$=()=>{const K={id:Date.now().toString(),itemName:"",quantity:0,rate:0,total:0};R(ue=>[...ue,K])},te=(K,ue,de)=>{R(_e=>_e.map(Ne=>{if(Ne.id!==K)return Ne;const he={...Ne,[ue]:ue==="itemName"?de:Number(de)};if(ue==="quantity"||ue==="rate"){const Ee=ue==="quantity"?Number(de):he.quantity,ye=ue==="rate"?Number(de):he.rate;he.total=Number(Ee)*Number(ye)}return he}))},se=K=>{R(ue=>ue.filter(de=>de.id!==K))},ge=()=>{if(!w)return;if(!I){Ht({title:"Error",description:"Please select a customer",variant:"destructive"});return}if(N.some(de=>!de.itemName.trim()||de.quantity<=0||de.rate<=0)){Ht({title:"Error",description:"Please fill all item fields with valid values",variant:"destructive"});return}const ue=_L(w.id,{customerId:I.id,customerName:I.name,date:z.toISOString().split("T")[0],items:N,grandTotal:N.reduce((de,_e)=>de+_e.total,0)});ue?(n(Ji()),Ht({title:"Bill updated",description:`Bill for ${ue.customerName} updated successfully`}),b(null)):Ht({title:"Error",description:"Failed to update bill",variant:"destructive"})},D=E.useRef({}),H=600,Q=K=>{D.current[K]&&clearTimeout(D.current[K]),D.current[K]=setTimeout(()=>M(K),H)},Z=K=>{D.current[K]&&(clearTimeout(D.current[K]),D.current[K]=null)},ae=()=>{P&&(xL(P),n(Ji()),M(null),Ht({title:"Bill deleted",description:"The bill has been removed"}))};return T?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Bills"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading bills..."})]})]}),u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-lg",children:"Loading bills and customers..."})})]})}):O?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Bills"}),u.jsx("p",{className:"text-muted-foreground",children:"Error loading data"})]})]}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-8 text-center",children:[u.jsx("div",{className:"text-red-600 mb-4",children:O}),u.jsx(Le,{onClick:()=>window.location.reload(),children:"Retry"})]})})]})}):u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Bills"}),u.jsx("p",{className:"text-muted-foreground",children:"Search, sort, edit or delete bills"})]})]}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Xd,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(Kt,{placeholder:"Search by customer or item...",value:s,onChange:K=>o(K.target.value),className:"pl-9"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Zi,{value:a,onValueChange:K=>l(K),children:[u.jsx(Li,{className:"min-w-[160px]",children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"date",children:"Sort by Date"}),u.jsx(gn,{value:"customerName",children:"Sort by Customer"})]})]}),u.jsx(Le,{variant:"outline",onClick:()=>d(K=>!K),children:c?u.jsx(jR,{className:"w-4 h-4"}):u.jsx(LR,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx(Lt,{className:"text-sm mb-1 block",children:"Status"}),u.jsxs(Zi,{value:f,onValueChange:K=>g(K),children:[u.jsx(Li,{children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"all",children:"All Status"}),u.jsx(gn,{value:"paid",children:"Paid"}),u.jsx(gn,{value:"partial",children:"Partial"}),u.jsx(gn,{value:"unpaid",children:"Unpaid"})]})]})]}),u.jsxs("div",{children:[u.jsx(Lt,{className:"text-sm mb-1 block",children:"From Date"}),u.jsx(rf,{date:h||void 0,onDateChange:K=>_(K||null),placeholder:"Start date"})]}),u.jsxs("div",{children:[u.jsx(Lt,{className:"text-sm mb-1 block",children:"To Date"}),u.jsx(rf,{date:y||void 0,onDateChange:K=>x(K||null),placeholder:"End date"})]})]})]})}),e.length>0&&u.jsx(yt,{children:u.jsx(xt,{className:"p-4",children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Debug: Found ",e.length," bills, showing ",le.length," after filtering"]})})}),u.jsxs("div",{className:"space-y-3",children:[le.map(K=>u.jsx(yt,{onMouseDown:()=>Q(K.id),onMouseUp:()=>Z(K.id),onTouchStart:()=>Q(K.id),onTouchEnd:()=>Z(K.id),className:"hover:shadow-md transition-all duration-200 active:scale-95",children:u.jsx(xt,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:fe(new Date(K.date))}),K.status&&u.jsx(vm,{variant:K.status==="paid"?"default":K.status==="partial"?"secondary":"destructive",children:K.status})]}),u.jsx("div",{className:"text-lg font-semibold",children:K.customerName}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Items: ",K.items.length," • Total: ₹",K.grandTotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Le,{size:"sm",variant:"outline",onClick:async()=>{const ue=r.find(de=>de.id===K.customerId);if(ue!=null&&ue.phone){const de=ane(K);await Z8(ue.phone,de)}else Ht({title:"No phone number",description:"This customer has no phone number",variant:"destructive"})},children:u.jsx(MV,{className:"w-4 h-4"})}),u.jsxs(Le,{size:"sm",variant:"outline",onClick:()=>oe(K),children:[u.jsx(tS,{className:"w-4 h-4 mr-1"})," Edit"]})]})]})})},K.id)),le.length===0&&u.jsx(yt,{children:u.jsx(xt,{className:"p-8 text-center text-muted-foreground",children:"No bills found"})})]}),u.jsx(bo,{open:!!w,onOpenChange:K=>{K||b(null)},children:u.jsxs(Zs,{className:"max-w-3xl",children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Edit Bill"}),u.jsx(So,{children:"Update bill details"})]}),w&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Lt,{children:"Date"}),u.jsx(rf,{date:z,onDateChange:K=>K&&U(K)})]}),u.jsxs("div",{className:"space-y-1 md:col-span-2",children:[u.jsx(Lt,{children:"Customer"}),u.jsxs(Zi,{value:(I==null?void 0:I.id)||"",onValueChange:K=>k(r.find(ue=>ue.id===K)||null),children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select customer"})}),u.jsx(ji,{children:r.map(K=>u.jsx(gn,{value:K.id,children:K.name},K.id))})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Lt,{className:"text-base",children:"Items"}),u.jsxs(Le,{size:"sm",variant:"outline",onClick:$,children:[u.jsx(Id,{className:"w-4 h-4 mr-1"}),"Add"]})]}),u.jsxs(cF,{children:[u.jsx(uF,{children:u.jsxs(nb,{children:[u.jsx(Rh,{children:"Item"}),u.jsx(Rh,{className:"w-24",children:"Qty"}),u.jsx(Rh,{className:"w-28",children:"Rate"}),u.jsx(Rh,{className:"w-28",children:"Total"}),u.jsx(Rh,{className:"w-20",children:"Action"})]})}),u.jsx(dF,{children:N.map(K=>u.jsxs(nb,{children:[u.jsx(Lh,{children:u.jsx(Kt,{value:K.itemName,onChange:ue=>te(K.id,"itemName",ue.target.value),placeholder:"Item name"})}),u.jsx(Lh,{children:u.jsx(Kt,{type:"number",value:K.quantity,onChange:ue=>te(K.id,"quantity",ue.target.value)})}),u.jsx(Lh,{children:u.jsx(Kt,{type:"number",step:"0.01",value:K.rate,onChange:ue=>te(K.id,"rate",ue.target.value)})}),u.jsxs(Lh,{className:"font-medium",children:["₹",K.total.toFixed(2)]}),u.jsx(Lh,{children:u.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>se(K.id),children:u.jsx(Oy,{className:"w-4 h-4"})})})]},K.id))})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Le,{variant:"outline",onClick:()=>b(null),children:"Cancel"}),u.jsxs(Le,{onClick:ge,children:[u.jsx(Ig,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]})}),u.jsx(bo,{open:!!P,onOpenChange:K=>{K||M(null)},children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Delete Bill"}),u.jsx(So,{children:"Are you sure you want to delete this bill?"})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>M(null),children:"Cancel"}),u.jsxs(Le,{variant:"destructive",onClick:ae,children:[u.jsx(qa,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]})})},gde=({onNavigate:t})=>{const[e,n]=E.useState([]),[r,i]=E.useState([]),[s,o]=E.useState(""),[a,l]=E.useState("date"),[c,d]=E.useState(!1),[f,g]=E.useState(null),[h,_]=E.useState(!0),[y,x]=E.useState(null),[w,b]=E.useState(null),[N,R]=E.useState(new Date),[z,U]=E.useState(null),[I,k]=E.useState(""),[P,M]=E.useState(null);E.useEffect(()=>{const se=async()=>{try{_(!0),x(null);const ge=bs(),D=rs();console.log("Loaded payments:",ge),console.log("Loaded customers:",D),n(ge),i(D)}catch(ge){console.error("Error loading data:",ge),x("Failed to load payments and customers")}finally{_(!1)}};return se(),window.addEventListener("storage",se),()=>{window.removeEventListener("storage",se)}},[]);const T=E.useMemo(()=>{const se=s.trim().toLowerCase();return[...e.filter(H=>{const Q=!se||H.customerName.toLowerCase().includes(se),Z=!f||new Date(H.date).toDateString()===f.toDateString();return Q&&Z})].sort((H,Q)=>{if(a==="date"){const Z=new Date(H.date).getTime(),ae=new Date(Q.date).getTime();return c?Z-ae:ae-Z}if(a==="customerName"){const Z=H.customerName.toLowerCase(),ae=Q.customerName.toLowerCase();return c?Z.localeCompare(ae):ae.localeCompare(Z)}return c?H.amount-Q.amount:Q.amount-H.amount})},[e,s,a,c,f]),L=se=>{b(se),R(new Date(se.date));const ge=r.find(D=>D.id===se.customerId)||null;U(ge),k(se.amount.toString())},O=()=>{if(!w)return;if(!z){Ht({title:"Error",description:"Please select a customer",variant:"destructive"});return}const se=parseFloat(I);if(!se||se<=0){Ht({title:"Error",description:"Enter a valid amount",variant:"destructive"});return}const ge=SL(w.id,{customerId:z.id,customerName:z.name,amount:se,date:N.toISOString().split("T")[0]});ge?(n(bs()),Ht({title:"Payment updated",description:`Payment for ${ge.customerName} updated successfully`}),b(null)):Ht({title:"Error",description:"Failed to update payment",variant:"destructive"})},W=E.useRef({}),le=600,fe=se=>{W.current[se]&&clearTimeout(W.current[se]),W.current[se]=setTimeout(()=>M(se),le)},oe=se=>{W.current[se]&&(clearTimeout(W.current[se]),W.current[se]=null)},$=()=>{P&&(RS(P),n(bs()),M(null),Ht({title:"Payment deleted",description:"The payment has been removed"}))},te=se=>{const ge=se.getDate().toString().padStart(2,"0"),D=(se.getMonth()+1).toString().padStart(2,"0"),H=se.getFullYear();return`${ge}/${D}/${H}`};return h?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Amt Paid"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading payments..."})]})]}),u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-lg",children:"Loading payments and customers..."})})]})}):y?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Amt Paid"}),u.jsx("p",{className:"text-muted-foreground",children:"Error loading data"})]})]}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-8 text-center",children:[u.jsx("div",{className:"text-red-600 mb-4",children:y}),u.jsx(Le,{onClick:()=>window.location.reload(),children:"Retry"})]})})]})}):u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Edit Amt Paid"}),u.jsx("p",{className:"text-muted-foreground",children:"Filter, edit or delete payments"})]})]}),u.jsx(yt,{children:u.jsxs(xt,{className:"p-4 grid grid-cols-1 md:grid-cols-3 gap-3 items-start",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Xd,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),u.jsx(Kt,{placeholder:"Filter by customer name...",value:s,onChange:se=>o(se.target.value),className:"pl-9"})]}),u.jsxs("div",{children:[u.jsx(Lt,{className:"mb-1 block",children:"Date"}),u.jsx(rf,{date:f||void 0,onDateChange:se=>g(se||null),placeholder:"Filter by date"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Zi,{value:a,onValueChange:se=>l(se),children:[u.jsx(Li,{className:"min-w-[160px]",children:u.jsx(es,{})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"date",children:"Sort by Date"}),u.jsx(gn,{value:"customerName",children:"Sort by Customer"}),u.jsx(gn,{value:"amount",children:"Sort by Amount"})]})]}),u.jsx(Le,{variant:"outline",onClick:()=>d(se=>!se),children:c?u.jsx(jR,{className:"w-4 h-4"}):u.jsx(LR,{className:"w-4 h-4"})})]})]})}),e.length>0&&u.jsx(yt,{children:u.jsx(xt,{className:"p-4",children:u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Debug: Found ",e.length," payments, showing ",T.length," after filtering"]})})}),u.jsxs("div",{className:"space-y-3",children:[T.map(se=>u.jsx(yt,{onMouseDown:()=>fe(se.id),onMouseUp:()=>oe(se.id),onTouchStart:()=>fe(se.id),onTouchEnd:()=>oe(se.id),className:"hover:shadow-md transition-all duration-200 active:scale-95",children:u.jsxs(xt,{className:"p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:te(new Date(se.date))}),u.jsx("div",{className:"text-lg font-semibold",children:se.customerName}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Amount: ₹",se.amount.toFixed(2)]})]}),u.jsx("div",{children:u.jsxs(Le,{size:"sm",variant:"outline",onClick:()=>L(se),children:[u.jsx(tS,{className:"w-4 h-4 mr-1"})," Edit"]})})]})},se.id)),T.length===0&&u.jsx(yt,{children:u.jsx(xt,{className:"p-8 text-center text-muted-foreground",children:"No payments found"})})]}),u.jsx(bo,{open:!!w,onOpenChange:se=>{se||b(null)},children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Edit Payment"}),u.jsx(So,{children:"Update payment details"})]}),w&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Lt,{children:"Date"}),u.jsx(rf,{date:N,onDateChange:se=>se&&R(se)})]}),u.jsxs("div",{className:"space-y-1 md:col-span-2",children:[u.jsx(Lt,{children:"Customer"}),u.jsxs(Zi,{value:(z==null?void 0:z.id)||"",onValueChange:se=>U(r.find(ge=>ge.id===se)||null),children:[u.jsx(Li,{children:u.jsx(es,{placeholder:"Select customer"})}),u.jsx(ji,{children:r.map(se=>u.jsx(gn,{value:se.id,children:se.name},se.id))})]})]})]}),u.jsxs("div",{children:[u.jsx(Lt,{children:"Amount"}),u.jsx(Kt,{type:"number",step:"0.01",value:I,onChange:se=>k(se.target.value)})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Le,{variant:"outline",onClick:()=>b(null),children:"Cancel"}),u.jsxs(Le,{onClick:O,children:[u.jsx(Ig,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]})}),u.jsx(bo,{open:!!P,onOpenChange:se=>{se||M(null)},children:u.jsxs(Zs,{children:[u.jsxs(eo,{children:[u.jsx(to,{children:"Delete Payment"}),u.jsx(So,{children:"Are you sure you want to delete this payment?"})]}),u.jsxs(Wa,{children:[u.jsx(Le,{variant:"outline",onClick:()=>M(null),children:"Cancel"}),u.jsxs(Le,{variant:"destructive",onClick:$,children:[u.jsx(qa,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})})]})})},vde=({onNavigate:t})=>{const[e,n]=E.useState("30d"),[r,i]=E.useState(null),[s,o]=E.useState(!0);E.useEffect(()=>{a()},[e]);const a=async()=>{o(!0);const l=Ji(),c=bs();Ns();const d=new Date,f=new Date;switch(e){case"7d":f.setDate(d.getDate()-7);break;case"30d":f.setDate(d.getDate()-30);break;case"90d":f.setDate(d.getDate()-90);break;case"1y":f.setFullYear(d.getFullYear()-1);break}const g=l.reduce((z,U)=>{const I=new Date(U.date);if(I>=f&&I<=d){const k=I.toISOString().split("T")[0],P=z.find(M=>M.date===k);P?P.amount+=U.grandTotal:z.push({date:k,amount:U.grandTotal})}return z},[]).sort((z,U)=>z.date.localeCompare(U.date)),h=new Map;l.forEach(z=>{const U=new Date(z.date);U>=f&&U<=d&&z.items.forEach(I=>{const k=h.get(I.itemName)||{quantity:0,revenue:0};k.quantity+=I.quantity,k.revenue+=I.total,h.set(I.itemName,k)})});const _=Array.from(h.entries()).map(([z,U])=>({name:z,...U})).sort((z,U)=>U.revenue-z.revenue).slice(0,10),y=l.reduce((z,U)=>{if(new Date(U.date)>=f&&new Date(U.date)<=d){const I=z.find(k=>k.customer===U.customerName);I?(I.totalAmount+=U.grandTotal,I.billCount+=1):z.push({customer:U.customerName,totalAmount:U.grandTotal,billCount:1,paymentFrequency:0})}return z},[]);y.forEach(z=>{const U=c.filter(I=>I.customerName===z.customer&&new Date(I.date)>=f&&new Date(I.date)<=d);z.paymentFrequency=U.length/z.billCount});const w=e2().filter(z=>z.pending>0).map(z=>({customer:z.customerName,amount:z.pending,daysOverdue:0})).sort((z,U)=>U.amount-z.amount),b=new Array(12).fill(0),N=new Array(12).fill(0);l.forEach(z=>{const U=new Date(z.date),I=U.getMonth(),k=U.getFullYear();k===d.getFullYear()?b[I]+=z.grandTotal:k===d.getFullYear()-1&&(N[I]+=z.grandTotal)});const R=b.map((z,U)=>({month:new Date(2024,U).toLocaleString("default",{month:"short"}),currentYear:z,previousYear:N[U]}));i({revenues:g,topItems:_,customerPatterns:y,outstandingPayments:w,seasonalTrends:R}),o(!1)};return s?u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsx("h1",{className:"text-2xl font-bold",children:"Analytics"})]}),u.jsx("div",{className:"text-center py-8",children:"Loading analytics..."})]})}):u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",size:"sm",onClick:()=>t("dashboard"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Business Analytics"}),u.jsx("p",{className:"text-muted-foreground",children:"Insights into your business performance"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs(Zi,{value:e,onValueChange:l=>n(l),children:[u.jsx(Li,{className:"w-[180px]",children:u.jsx(es,{placeholder:"Select time range"})}),u.jsxs(ji,{children:[u.jsx(gn,{value:"7d",children:"Last 7 days"}),u.jsx(gn,{value:"30d",children:"Last 30 days"}),u.jsx(gn,{value:"90d",children:"Last 90 days"}),u.jsx(gn,{value:"1y",children:"Last year"})]})]})}),r&&u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(yt,{className:"col-span-2",children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Revenue Summary"}),u.jsx(ni,{children:"Total revenue for selected period"})]}),u.jsxs(xt,{children:[u.jsxs("div",{className:"text-3xl font-bold",children:["₹",r.revenues.reduce((l,c)=>l+c.amount,0).toLocaleString()]}),u.jsxs("div",{className:"text-sm text-muted-foreground mt-2",children:[r.revenues.length," days with sales"]}),u.jsx("div",{className:"mt-4 space-y-2",children:r.revenues.slice(-5).map((l,c)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm",children:new Date(l.date).toLocaleDateString()}),u.jsxs("span",{className:"font-medium",children:["₹",l.amount.toLocaleString()]})]},c))})]})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Top Selling Items"}),u.jsx(ni,{children:"Best performing products by revenue"})]}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-3",children:[r.topItems.slice(0,5).map((l,c)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:l.name}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Qty: ",l.quantity]})]}),u.jsxs("div",{className:"font-medium",children:["₹",l.revenue.toLocaleString()]})]},c)),r.topItems.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No items found for this period"})]})})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Top Customers"}),u.jsx(ni,{children:"Customers by total sales"})]}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-3",children:[r.customerPatterns.sort((l,c)=>c.totalAmount-l.totalAmount).slice(0,5).map((l,c)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:l.customer}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.billCount," bills • ",(l.paymentFrequency*100).toFixed(0),"% payment rate"]})]}),u.jsxs("div",{className:"font-medium",children:["₹",l.totalAmount.toLocaleString()]})]},c)),r.customerPatterns.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No customers found for this period"})]})})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Outstanding Payments"}),u.jsx(ni,{children:"Pending payments from customers"})]}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-3",children:[r.outstandingPayments.slice(0,5).map((l,c)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:l.customer}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending payment"})]}),u.jsxs("div",{className:"font-medium text-red-600",children:["₹",l.amount.toLocaleString()]})]},c)),r.outstandingPayments.length===0&&u.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No outstanding payments"})]})})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Monthly Performance"}),u.jsx(ni,{children:"Current year vs previous year"})]}),u.jsx(xt,{children:u.jsx("div",{className:"space-y-3",children:r.seasonalTrends.filter(l=>l.currentYear>0||l.previousYear>0).slice(-6).map((l,c)=>u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"font-medium",children:l.month}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"This year: "}),u.jsxs("span",{className:"font-medium",children:["₹",l.currentYear.toLocaleString()]})]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last year: "}),u.jsxs("span",{className:"font-medium",children:["₹",l.previousYear.toLocaleString()]})]})]})]},c))})})]})]})]})})},PP={headerColor:"#1e40af",textColor:"#000000",companyName:"Prakash Bhai Bill Buddy",srNoHeader:"Sr No",itemNameHeader:"Item Name",quantityHeader:"Quantity",rateHeader:"Rate",totalHeader:"Total"},yde=({onNavigate:t})=>{const{toast:e}=nc(),[n,r]=E.useState(()=>{const o=localStorage.getItem("pdf_settings");return o?JSON.parse(o):PP}),i=()=>{localStorage.setItem("pdf_settings",JSON.stringify(n)),e({title:"Settings Saved",description:"PDF customization settings have been saved"})},s=()=>{r(PP),localStorage.removeItem("pdf_settings"),e({title:"Settings Reset",description:"PDF settings reset to default"})};return u.jsx("div",{className:"min-h-screen bg-background p-4",children:u.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Le,{variant:"ghost",onClick:()=>t("settings"),children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Back"]}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"PDF Customization"}),u.jsx("p",{className:"text-muted-foreground",children:"Customize your bill PDF appearance"})]})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Colors"}),u.jsx(ni,{children:"Customize PDF colors"})]}),u.jsx(xt,{className:"space-y-4",children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Header Color"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Kt,{type:"color",value:n.headerColor,onChange:o=>r({...n,headerColor:o.target.value}),className:"w-20 h-10"}),u.jsx(Kt,{value:n.headerColor,onChange:o=>r({...n,headerColor:o.target.value}),placeholder:"#1e40af"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Text Color"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Kt,{type:"color",value:n.textColor,onChange:o=>r({...n,textColor:o.target.value}),className:"w-20 h-10"}),u.jsx(Kt,{value:n.textColor,onChange:o=>r({...n,textColor:o.target.value}),placeholder:"#000000"})]})]})]})})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Company Information"}),u.jsx(ni,{children:"Customize business name"})]}),u.jsx(xt,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Company Name"}),u.jsx(Kt,{value:n.companyName,onChange:o=>r({...n,companyName:o.target.value}),placeholder:"Your Company Name"})]})})]}),u.jsxs(yt,{children:[u.jsxs(Nn,{children:[u.jsx(An,{children:"Table Headers"}),u.jsx(ni,{children:"Customize table column names"})]}),u.jsx(xt,{children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Sr No Header"}),u.jsx(Kt,{value:n.srNoHeader,onChange:o=>r({...n,srNoHeader:o.target.value}),placeholder:"Sr No"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Item Name Header"}),u.jsx(Kt,{value:n.itemNameHeader,onChange:o=>r({...n,itemNameHeader:o.target.value}),placeholder:"Item Name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Quantity Header"}),u.jsx(Kt,{value:n.quantityHeader,onChange:o=>r({...n,quantityHeader:o.target.value}),placeholder:"Quantity"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Rate Header"}),u.jsx(Kt,{value:n.rateHeader,onChange:o=>r({...n,rateHeader:o.target.value}),placeholder:"Rate"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Lt,{children:"Total Header"}),u.jsx(Kt,{value:n.totalHeader,onChange:o=>r({...n,totalHeader:o.target.value}),placeholder:"Total"})]})]})})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Le,{onClick:i,className:"flex-1",children:[u.jsx(Ig,{className:"w-4 h-4 mr-2"}),"Save Settings"]}),u.jsx(Le,{onClick:s,variant:"outline",className:"flex-1",children:"Reset to Default"})]})]})})};class wde extends E.Component{constructor(n){super(n);Sn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});Sn(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){console.error("Error caught by boundary:",n,r),this.setState({error:n,errorInfo:r}),typeof window<"u"&&localStorage.setItem("last_error",JSON.stringify({error:n.toString(),stack:n.stack,componentStack:r.componentStack,timestamp:new Date().toISOString()}))}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:u.jsxs(yt,{className:"max-w-2xl w-full",children:[u.jsx(Nn,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Bx,{className:"h-8 w-8 text-destructive"}),u.jsxs("div",{children:[u.jsx(An,{children:"Something went wrong"}),u.jsx(ni,{children:"The application encountered an unexpected error"})]})]})}),u.jsxs(xt,{className:"space-y-4",children:[this.state.error&&u.jsx("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:u.jsx("div",{className:"font-mono text-sm text-destructive",children:this.state.error.toString()})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Le,{onClick:this.handleReset,className:"flex-1",children:[u.jsx(jV,{className:"w-4 h-4 mr-2"}),"Try Again"]}),u.jsx(Le,{onClick:this.handleReload,variant:"outline",className:"flex-1",children:"Reload Page"})]}),!1,u.jsx("div",{className:"text-sm text-muted-foreground",children:"If this problem persists, try clearing your browser cache or contact support."})]})]})}):this.props.children}}const _de=new aH,xde=()=>{const[t,e]=E.useState("dashboard");E.useEffect(()=>{const i=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,o=i==="dark"||!i&&s;document.documentElement.classList.toggle("dark",o)},[]);const n=i=>{e(i)},r=()=>{switch(t){case"create-bill":return u.jsx(Vte,{onNavigate:n});case"customers":return u.jsx(one,{onNavigate:n});case"balance":return u.jsx(cne,{onNavigate:n});case"amount-tracker":return u.jsx(une,{onNavigate:n});case"last-balance":return u.jsx(dne,{onNavigate:n});case"total-business":return u.jsx(gne,{onNavigate:n});case"item-master":return u.jsx(vne,{onNavigate:n});case"edit-bills":return u.jsx(mde,{onNavigate:n});case"edit-payments":return u.jsx(gde,{onNavigate:n});case"settings":return u.jsx(hde,{onNavigate:n});case"analytics":return u.jsx(vde,{onNavigate:n});case"pdf-customization":return u.jsx(yde,{onNavigate:n});default:return u.jsx(LW,{onNavigate:n})}};return u.jsx(wde,{children:u.jsx(cH,{client:_de,children:u.jsxs(Mq,{children:[u.jsx(xz,{}),u.jsx(Zz,{}),r()]})})})},hF="app_version_v1",IP=[{version:"1.0.0",up:t=>{const e=n=>{t.getItem(n)||t.setItem(n,"[]")};e("prakash_customers"),e("prakash_bills"),e("prakash_payments"),e("prakash_items"),e("prakash_item_rate_history")}}],z_=(t,e)=>{const n=t.split(".").map(i=>parseInt(i,10)),r=e.split(".").map(i=>parseInt(i,10));for(let i=0;i<Math.max(n.length,r.length);i++){const s=n[i]||0,o=r[i]||0;if(s>o)return 1;if(s<o)return-1}return 0},bde=()=>localStorage.getItem(hF),RP=t=>{localStorage.setItem(hF,t)},Sde=async t=>{const e={getItem:r=>localStorage.getItem(r),setItem:(r,i)=>localStorage.setItem(r,i),removeItem:r=>localStorage.removeItem(r)},n=bde();if(!n){for(const r of IP)z_(r.version,t)<=0&&await r.up(e);RP(t);return}for(const r of IP)z_(r.version,n)>0&&z_(r.version,t)<=0&&await r.up(e);RP(t)},Ede="1.0.0";Sde(Ede).finally(()=>{eb(),nR(document.getElementById("root")).render(u.jsx(xde,{}))});export{HT as E,k8 as W,jn as _,Lte as b,Ade as c,VP as g};
